2009-07-22  Masatake YAMATO  <jet@f11.localdomain>

	* src/srpmix-wrap (BUILD_REQUIRES): Don't require srpmix.

	* tests/Makefile.am (TEST_SRPMS): Added $(srcdir) as prefix for the
	default tess src.rpm.

	* configure.ac: Convert relative paths for test src.rpms to absolute.

2009-07-19  Masatake YAMATO  <yamato@redhat.com>

	* Makefile.am(XSPECS): Specify srpmix-dir-base.SPEC as extra spec file.

	* misc/specs/srpmix.spec.in: Remove duplicated elements in
	%files.
	(srpmixdir): Mark %config(noreplace).

	* misc/specs/srpmix-dir-base.SPEC.in: Ditto.

	* misc/specs/Makefile.am: Use xspecs.mk and svn_release.mk.

	* misc/makefiles/Makefile.am (EXTRA_DIST): Added xspecs.mk and
	svn_release.mk.

	* misc/makefiles/xspecs.mk: New file.

	* misc/makefiles/svn_release.mk: New file.

	* tests/*.sh: Added DEBUG flag.

	* tests/test-srpmix*: Added src.rpm as default test data.

	* tests/01srpmix-ix.sh (TEST_SRPMS, EXTRA_DIST): Ditto.

2009-07-17  Masatake YAMATO  <yamato@redhat.com>

	* misc/makefiles/rpm.mk: Build srpmix-dir-base.rpm.

	* misc/specs/srpmix.spec.in: Turn off hyperestraier.

2009-07-17  Masatake YAMATO  <yamato@redhat.com>

	* src/srpmix-wrap (wrap_srpm): Delete --noplugin option.

	* src/srpmix (main): Ditto.

	* src/srpmix-envelop: Use package name in Requires field.

	* src/srpmix-build (parse_arguments, envelope_swrf_by_rpm): Pass the 
	target package name to srpmix-envelop.

	* misc/specs/srpmix.spec.in: Make /usr/share/srpmix/swrfs/* directories.

	* misc/specs/srpmix-dir-base.SPEC.in: Use _sharedstatedir.

	* src/srpmix-dir-pkg: Stub.

	* src/srpmix-weakview-packages (create_packages_weakview): Added dependency
	to srpmix-dir-base. Make paths for %files not from /.
	* src/srpmix-weakview-dist (create_dist_weakview): Ditto.

	* src/srpmix(main): Use array to store multiple options.

	* src/helpers/build-opt-rules: Print multiple options
	separated by newline.

	* misc/specs/srpmix.spec.in (Requires): Added dependency
	to srpmix-dir-base.

	* misc/specs/Makefile.am (DISTCLEANFILES): Added srpmix-dir-base.SPEC.in.
	Generate srpmix-dir-base.SPEC.

	* misc/specs/srpmix-dir-base.SPEC.in: New file.

2009-07-14  Masatake YAMATO  <yamato@redhat.com>

	* src/srpmix-db (do_install): Don't run srpmix-plugin 
	after installing.

2009-07-02  Masatake YAMATO  <yamato@redhat.com>

	* src/srpmix-wrap (create_plugin_spec): Use ln instead
	of transfer_cmd if a symbol link is given.

	* src/srpmix (main): Use SRPMIX_BUILD_OPTS and
	SRPMIX_DB_OPTS enthronement variables.

2009-06-19  Masatake YAMATO  <yamato@redhat.com>

	* src/plugins/60srpmix-kindex (main): Handle
	the package name of rt kernel.
	* src/plugins/60srpmix-etags (main): Ditto.
	* src/plugins/60srpmix-ctags (main): Ditto.

	* src/plugins/60srpmix-kindex (main): Convert absolute
	paths to relative paths in *.tags and *.TAGS.

2009-06-16  Masatake YAMATO  <yamato@redhat.com>

	* src/srpmix-wrap (main): Fix wrong logical condition
	used to decided whether temporary directory should be
	created or not.
	
2009-06-13  Masatake YAMATO  <yamato@redhat.com>

	* configure.ac: version 3.105.0.

2009-06-13  Masatake YAMATO  <yamato@redhat.com>

	* src/plugins/10srpmix-vanilla (run_vanilla): Use stdout to run bunzip2.

	* src/plugins/60srpmix-kindex (main): Handle rhel4 kernel.

	* src/plugins/60srpmix-etags (main): Send grep output to /dev/null.

	* src/plugins/60srpmix-ctags (main): Send grep output to /dev/null.

	* src/helpers/99default.scm: Kill gcc_update line.

	* src/srpmix-ix (REARRANGE_SPEC_COMMAND): Quote the value to
	be assigned.
	(parse_arguments): Quote $1 before passing to
	sed.

	* src/srpmix-build (parse_arguments): Quote $1 before passing to
	sed.

	* src/plugins/60srpmix-etags (run_etags): Check the existence
	of */ before running find.

	* src/plugins/60srpmix-ctags (run_ctags): Check the existence
	of */ before running find.

	* src/plugins/60srpmix-cscope (REGEX): Added cpp and py.
	(run_cscope): Run cscope if scope.files is not empty.

	* src/plugins/60srpmix-xgettext (REGEX): Added cpp and py.

2009-06-12  Masatake YAMATO  <yamato@redhat.com>

	* src/helpers/99default.scm: Added a rule for pam-0.99.6*.

2009-06-04  Masatake YAMATO  <yamato@redhat.com>

	* utils/diff-mode+srpmix-guess.el: Initial implementetation.

2009-06-02  Masatake YAMATO  <yamato@redhat.com>

	* src/macros.srpmix: Define _binaries_in_noarch_packages_terminate_build to 0.

	* utils/rpm-spec-mode+srpmix-jump.el: Initial implementetation.

2009-05-29  Masatake YAMATO  <yamato@redhat.com>

	* src/srpmix (parse_arguments): Pass YUM_OPTS to yumdownloader, too.

2009-05-26  Masatake YAMATO  <yamato@redhat.com>

	* src/srpmix (main): Added --yum.

	* src/srpmix-db (do_install): Specify --prefix. Don't use --relocate.

	* src/srpmix-wrap (create_core_spec): use Prefix tag.
	(create_plugin_spec): Ditto.

	* src/srpmix-db (SWRFPM_OPTS): New option.

	* src/macros.srpmix: Fix a typo.

	* src/srpmix-db (parse_arguments): Fix a typo.

	* src/srpmix (parse_arguments): Rename SRPMIXBUILD_OPTIONS
	to SRPMIX_BUILD_OPTS. Introduce SRPMIX_DB_OPTS.

	* src/srpmix-envelop: Passing %{_srpmix_db_option} to srpmix-db.

	* src/srpmix-wrap: Ditto.

	* src/srpmix-db: Added new option --debug.

	* src/macros.srpmix (_srpmix_db_debug_option, _srpmix_db_option): 
	Added new macros.

2009-05-20  Masatake YAMATO  <yamato@redhat.com>

	* src/plugins/10srpmix-vanilla (main): Use srpmix_chmod.

	* src/srpmix-ix (srpm_build, srpm_install): Use srpmix_chmod.

	* src/libsrpmix.sh.in (srpmix_chmod): New function.

2009-05-14  Masatake YAMATO  <yamato@redhat.com>

	* src/srpmix-attach: Added stub.

2009-05-07  Masatake YAMATO  <yamato@redhat.com>

	* src/srpmix (main): Improve the pattern to extract swrf 
	file name.

2009-05-06  Masatake YAMATO  <yamato@redhat.com>

	* misc/m4/Makefile.am (EXTRA_DIST): Added m4 files.

	* src/plugins/10srpmix-vanilla (run_vanilla): Use 
	stdin for gz. Pass --keep to bunzip2.

2009-05-05  Masatake YAMATO  <yamato@redhat.com>

	* src/plugins/10srpmix-vanilla (run_vanilla): Added m to tar
	to update file modification time.

	* src/plugins/60srpmix-xgettext: Added new plugin.

	* misc/specs/srpmix.spec.in: Ditto.

	* misc/m4/plugins.m4: Ditto.

	* configure.ac: Ditto.

2009-05-05  Masatake YAMATO  <yamato@redhat.com>

	* src/srpmix-wrap (create_core_spec): Use _srpmix_plugin_option
	macro.

	* src/srpmix-plugin (main): Pass --debug flag to plugins.
	* src/srpmix.daily: Ditto.
	
	* src/plugins/50srpmix-coreutils (run_cmd): Don't use
	-print0 and --null flags for find and xargs. Instead pass
	-d newline option to xargs.
	* src/plugins/50srpmix-file (run_cmd): Ditto. 

	* src/plugins/*: Define debug flag.

	* src/macros.srpmix (_srpmix_core_plugins): New macro.

	* src/srpmix (parse_arguments): Use srpmix_cp. Use local.

	* src/srpmix-wrap (create_core_spec): Use rpm macro to represent
	sources0.
	(create_plugin_spec): Ditto.
	(transfer_cmd): Copy archives if the type is plugin. Use local.
	Use srpmix_cp.
	
	* src/srpmix-build (main): Don't use read to iterate files.
	(*): Use local.
	(OPT_TYPE): Do cp or ln archives if the type is plugin.
	Plugins like vanilla may requires the archives.
	(parse_arguments): Use srpmix_cp.

	* src/libsrpmix.sh.in (archives_name): 
	(srpmix_cp): New function.

2009-05-04  Masatake YAMATO  <yamato@redhat.com>

	* src/*: Improve debug facilities.

2009-05-01  Masatake YAMATO  <yamato@redhat.com>

	* src/srpmix-ix (guess_target): Pick only the line
	started from ExclusiveArch.

2009-04-24  Masatake YAMATO  <yamato@redhat.com>

	* src/srpmix (main): Don't pass an empty string as an argument
	to srpmix-build.

2009-04-24  Masatake YAMATO  <yamato@redhat.com>

	* src/helpers/build-opt-rules (help): Fix a typo in help message.

2009-04-23  Masatake YAMATO  <yamato@redhat.com>

	* src/helpers/99default.scm (#/util-linux-2\.13-0\.44\.el5/): Added
	a rule for util-linux-2.13-0.44.el5.

	* src/srpmix (main): Pass $(opt_rules $srpm) directly to
	srpmix-build.

	* src/srpmix-ix (srpm_deploy): Dump spec file when aborting.
	(srpm_build): Added _default_patch_flags --verbose.
	(srpm_build): Added __patch --verbose.

	* src/plugins/10srpmix-vanilla (run_vanilla): Fix a typo
	in the option passed to gunzip.

2009-04-16  Masatake YAMATO  <yamato@redhat.com>

	* src/srpmix.daily: Use -print0 in find and --null in xargs.

2009-04-15  Masatake YAMATO  <yamato@redhat.com>

	* src/plugins/50srpmix-file: Use find -print0 and xargs -0 to handle
	white spaces in a file name.

	* src/plugins/50srpmix-coreutils (run_cmd): Ditto.

	* misc/specs/Makefile.am (dist-hook): Use `R' as a temporary variable
	to avoid potential variable name conflicts.

	* configure.ac (SRPMIX_MICRO_VERSION): Re-enable AC_RPM_RELEASE.

2009-04-14  Masatake YAMATO  <yamato@redhat.com>

	* src/helpers/99default.scm: Added rules for s390utils-1.5.3-17.el5.

	* utils/etags+srpmix-guess.el (etags+srpmix-guess-search-tags-file): Check 
	kindex.

2009-03-25  Masato Taruishi  <yamato@redhat.com>

	* src/plugins/60srpmix-hyperestraier:
	* misc/m4/plugins.m4:
	* misc/specs/srpmix.spec.in:
	new plugin

2009-03-25  Masatake YAMATO  <yamato@redhat.com>

	* src/helpers/build-spec-rearrange (use_old_autoconf_p): New function.
	(spec_file_hack): Use use_old_autoconf_p.

	* src/srpmix-build (parse_arguments:--rearrange-spec-command): 
	New option.
	
	* tests/01srpmix-ix.sh: New test case.

	* src/srpmix-ix (default_target): Make regexp pattern
	more specific.

	* src/helpers/build-spec-rearrange (main): Use
	the passed command line, EXTRA_COMMAND as the filter.

	* Remove unnecessary white spaces.
	
	* src/srpmix-ix (REARRANGE_SPEC_COMMAND): New variable.
	(print_usage:--rearrange-spec-command): New option.
	(srpm_rearrange_spec): Pass `REARRANGE_SPEC_COMMAND' to
	build-spec-rearrange.

2009-03-20  Masatake YAMATO  <yamato@redhat.com>

	* src/helpers/build-spec-rearrange (use_old_autoreconf_p): New function.
	(spec_file_hack): Use use_old_autoreconf_p.

2009-03-19  Masatake YAMATO  <yamato@redhat.com>

	* src/srpmix-ix (guess_target): Use $line
	for input to sed.
	(srpmix_deply): Pass ${rootdir}/${SPECDIR}/${xspec_file}
	 to guess_target.

2009-03-19  Masatake YAMATO  <yamato@redhat.com>

	* src/srpmix-ix (guess_target): New function.

	* src/srpmix (print_usage): Added s390x.

	* src/srpmix-ix (print_usage, default_multi_targets)
	(verify_target): Added s390x.

	* src/srpmix-build (print_usage): Added s390x.	
	
	* src/srpmix-ix (srpm_rearrange_spec): Use 
	build-spec-rearrange.

2009-03-18  Masatake YAMATO  <yamato@redhat.com>

	* src/helpers/build-spec-rearrange: New helper program.

2009-03-18  Masatake YAMATO  <yamato@redhat.com>

	* src/srpmix (print_usage): Added ppc and s390.

	* src/srpmix-ix (print_usage, default_multi_targets)
	(verify_target): Added ppc and s390.

	* src/srpmix-build (print_usage): Added ppc and s390.

2009-03-18  Masato Taruishi <taruishi@redhat.com>

        * misc/specs/srpmix.spec.in (%configre):
	enable some plugins.
	(BuildRequires): Added cscope, ctags, and emacs-common.
	(plugin-doxygen::%files): Temporary make the list empty.
	
2009-03-18  Masatake YAMATO  <yamato@redhat.com>

	* src/helpers/build-opt-rules (main): Reverse
	the rules list.

	* src/helpers/99default.scm: Renamed from default.scm.
	Added comments.

	* src/srpmix (SRPMIXBUILD_OPTS): Sort the
	rules before reading.

	* misc/specs/srpmix.spec.in (99default.scm): 
	Mark %config(noreplace).
	
2009-03-18  Masato Taruishi <taruishi@redhat.com>

	* src/srpmix: fix broekn glob use such as 'srpmix --name=yum-*'
	* configure.ac:
	* misc/m4/plugins.m4:
	add --enable-plugin-* options.
	* misc/m4/progs.m4:
	separate program check codes from configure.ac
	* src/srpmix:
	create plugin data based on plugin package.

2009-03-17  Masato Taruishi <taruishi@redhat.com>

	* src/srpmix-wrap:
	* src/srpmix-build: add --build-requires option.

2009-03-17  Masatake YAMATO  <yamato@redhat.com>

	* src/helpers/build-opt-rules (main): Return 0
	even if no rule is matched.

2009-03-16  Masatake YAMATO  <yamato@redhat.com>

	Introduce helpers directory and srpmix own
	config directory. opt-rules uses them.
	
	* tests/Makefile.am (TESTS_ENVIRONMENT): Added
	SRPMIX_SYSCONF_DIR.

	* src/srpmix (opt_rules): Handle multi rules.

	* src/srpmix-wrap (wrap_srpm): Reimplement
	just-print.

	* src/srpmix-ix (srpm_build): Use /dev/null
	as output. See the comment about this modification.

	* src/libsrpmix.sh.in (SRPMIX_SYSCONF_DIR): Set
	/etc/srpmix as default value.
	(SRPMIX_BUILD_OPT_RULES_DIR): New constant.
	(SRPMIX_VAR_DIR): use @PACKAGE@.

	* src/helpers/default.scm: New file.

	* src/Makefile.am (dist_srpmixconf_DATA): Install
	srpmix.cf to /etc/srpmix.

	* src/helpers: 
	* configure.ac (AC_OUTPUT[src/helpers/Makefile]): 
	* misc/specs/srpmix.spec.in (%files/helpers): New directory.

2009-03-16  Masatake YAMATO  <yamato@redhat.com>

	* tests/Makefile.am (dist_check_SCRIPTS): Added 
	00build-opt-rules.
	(TESTS_ENVIRONMENT): Added SRPMIX_USR_DIR.

	* tests/00build-opt-rules: New test.

	* src/srpmix (opt_rules): Use build-opt-rules.
	
	* src/Makefile.am (helpersdir): New directory.
	(dist_helpers_SCRIPTS): New primary.

	* src/build-opt-rules: New helper script which
	was called opt-rules.

	* src/libsrpmix.sh.in (SRPMIX_HELPER_DIR, GOSH): 
	New constants.

2009-03-16  Masatake YAMATO  <yamato@redhat.com>

	* src/srpmix-wrap (main): Don't create TMPDIR
	if JUST_PRINT is specified.

2009-03-16  Masato Taruishi <taruishi@redhat.com>

	* sramix-wrap:
	* srpmix-envelop:
	* srpmix-build:
	plugin package support
	* src/:
	use #!/bin/bash instead of #!/bin/sh

2009-03-16  Masatake YAMATO <yamato@redhat.com>

	* src/srpmix-ix (spec_file_hack):  Added an extra
	rewrite rule to handle duplicate source46 in kernel.
	
2009-03-15  Masato Taruishi <taruishi@redhat.com>

	* configure.ac(with_test_srpms): fix absolute path handling

2009-03-14  Masato Taruishi <taruishi@redhat.com>

	* tests/: Rerutrn 77 for all tests.
	* src/libsrpmix.sh.in:
	* src/srpmix: support userland installation.
	non-root 'srpmix --name=yum' installs trees under $HOME/srpmix/
	* src/srpmix-build: separate build code from srpmix
	* src/plugins/60srpmix-cscope: handle all text files

2009-03-14  Masatake YAMATO  <yamato@redhat.com>

	* tests/00srpmix.sh: Return 77 if no TEST_SRPMS is given.

	* configure.ac (with_test_srpms): Convert relative paths 
	to absolute paths.
	
2009-03-13  Masatake YAMATO  <yamato@redhat.com>

	* src/plugins/60srpmix-kindex (main): Copy
	tags and TAGS if they exist.

	* src/srpmix-ix (srpm_deploy): Don't set
	target for kernel statically. Use opt-rules.
	(srpm_deploy): Use "," for seperator to separate
	targets.

2009-03-13  Masatake YAMATO  <yamato@redhat.com>

	* src/plugins/60srpmix-ctags (main): Don't run
	if tags target is defined in Makefile.
	* src/plugins/60srpmix-etags (main): Don't run
	if TAGS target is defined in Makefile.

	* src/srpmix-ix (srpm_deploy): Use only ia64 as
	the target when build source code of 2.4 kernle.

2009-03-13  Masato Taruishi <taruishi@redhat.com>

	* tests/: simple testing framework.
	* configure.ac: add --with-test-srpms.
	* src/plugins/60srpmix-cscope: handle only for pre-build.

2009-03-13  Masatake YAMATO  <yamato@redhat.com>

	* src/srpmix-ix (dont_keep_original): Withdraw
	"--without-ibcs" hack.

2009-03-13  Masatake YAMATO  <yamato@redhat.com>

	* src/srpmix-ix (spec_file_hack): Added an extra
	rewrite rule to handle duplicated source29 in kernel.
	(dont_keep_original): Call rpmbuild with "--without-ibcs"
	option to build kernel-2.4.18-e.12.
	(dont_keep_original): Added kernel-2.4.spec.

2009-03-13  Masato Taruishi <taruishi@redhat.com>

	* src/srpmix-ix: don't remove writable flag for owner.
	* src/srpmix-plugin: fix broken srpmix-plugin by list_plugins change
	* src/srpmix: put creation of swrf package to libsrpmix.sh.
	add --output-format option.

2009-03-13  Masatake YAMATO  <yamato@redhat.com>

	* misc/specs/srpmix.spec.in (plugin-vanilla::Requires): Added
	lzma.

	* src/plugins/10srpmix-vanilla (main): Remove ${d} 
	related code. Its value was not defiend.
	(run_vanilla): Added support for .lzma and tar.lzma.
	make relative symlinks.

	* src/srpmix-plugin (parse_arguments): Use --list
	instead of --list-plugins. Added more help documents.
	(list_plugins): Change the output format.

2009-03-12  Masato Taruishi <taruishi@redhat.com>

	* src/plugin/60srpmix-doxygen: Initial implementetation.

2009-03-12  Masatake YAMATO  <yamato@redhat.com>

	* src/plugins/50srpmix-coreutils: Fix a typo in comment.

2009-03-12  Masato Taruishi <taruishi@redhat.com>

	* src/plugins/: renumbering plugins
	* src/plugin/50srpmix-coreutils: Implemented

2009-03-11  Masatake YAMATO  <yamato@redhat.com>

	* src/srpmix (--target): New option.

	* src/srpmix-ix (SRPMIX_TARGET): New environment variable.

	* srpmix-ix (get_current_target): Use _target_cpu
	again. Don't use _host_cpu.

2009-03-11  Masatake YAMATO  <yamato@redhat.com>

	* src/plugins/11srpmix-kindex: Implemented.

	* src/plugins/10srpmix-ctags: New file.

	* src/srpmix-ix (srpm_deploy): Build only kernel.i686 and
	kernel.x86_64.

	* src/plugins/5srpmix-vanilla (TMPDIR): Use `basename' when
	making a temporary directory.

	* src/plugins/91srpmix-cscope (REGEX): Fix a typo in a log message.

2009-03-10  Masatake YAMATO  <yamato@redhat.com>

	* misc/specs/srpmix.spec.in (plugin-cscope): Added `Group'
	field. rpmbuild of centos5 requires this field.

	* src/srpmix-ix (MULTI_KERNEL): Experimental feature
	to build soruce code for multiple architectures.

	* src/libsrpmix.sh.in (SRPMIX_USR_DIR, SRPMIX_SWRFS_DIR)
	(SRPMIX_PLUGIN_DIR): Give values only if values are not
	given yet.

2009-03-09  Masatake YAMATO  <yamato@redhat.com>

	* configure.ac: version 3.104.0.

	* src/srpmix-ix (patch_on_backup_p): New function.
	(spec_file_hack): Use `patch_on_backup_p'.
	
	* configure.ac (AC_RPM_RELEASE): add --with-rpm-release=R
	option.

	* misc/m4/rpm.m4: New file.

2009-03-08  Masato Taruishi  <taruishi@redhat.com>

	* src/srpmix-plugin: add --enable|--disable option.
	add SRPMIX_EXTRA_PLUGINS configuration.
	run all the each source root directory by default.

	* src/srpmix-db: invoke srpmix-plugin for each development.

	* src/plugins/91srpmix-cscope: add cscope plugin.

2009-03-07  Masatake YAMATO  <yamato@redhat.com>

	* src/plugins: new directory.

	* src/srpmix (parse_arguments): Fix a typo
	SRPMIX_MULTIE_TARGETS => SRPMIX_MULTI_TARGETS.

2009-03-06  Masatake YAMATO  <yamato@redhat.com>

	* srpmix-ix (get_current_target): Use _host_cpu
	instead of _target_cpu.

2009-03-05  Masatake YAMATO  <yamato@redhat.com>

	* configure.ac: version 3.103.0.

	* src/srpmix: Avoid duplicated building when
	running rpmbuild after srpmix-envelop.

	* src/srpmix-ix (dont_keep_original): Handle -P in %patch 
	of spec file.

	* src/srpmix-weakview-dist (create_dist_weakview%build): 
	Include dist-mapping.es.

2009-03-04  Masatake YAMATO  <yamato@redhat.com>

	* configure.ac: version 3.102.6.
	* src/srpmix: Added --keep-original.
	* src/srpmix-ix: Added a new spec rewrite-rule
	patch -> patch0.

2009-02-22  Masatake YAMATO  <yamato@redhat.com>

	* configure.ac: version 3.102.2.

	* src/srpmix:
	* src/srpmix-in: New option --current-target-only.
	
	* src/srpmix-ix:
	* src/srpmix-wrap:
	* src/srpmix-envelop:
	* src/libsrpmix.in: Separate SRPMIX_VERSION and SRPMIX_PKG_VERSION.
	SRPMIX_VERSION is for this software itself. SRPMIX_PKG_VERSION
	is for the generated rpm packages.
	

	* src/srpmix (OUTPUT_DIR): Convert to absolute path.

	* src/srpmix-envelop(%preun, %post, %pre): fix a bug: all files were
	removed when updating with -U.

	* src/srpmix: Reflect --relase argument to SRPMIX_RELEASE variable.

	* srpmix-envelop, srpmix-ix: Added --ignore-error option.

2008-08-01  Masatake YAMATO  <yamato@redhat.com>

	* srpmix-plugin (PLUGINDIR): Added --list-plugins
	but not tested yet.

(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su0/packages/c/cman/pre-build/cman-2.0.60/fence/fenced/recover.c" :point 1286 :surround (", the complete list is initialized to all\n   the nodes in cluster.conf.\n" "" "   - fence_victims actually only runs on one of the nodes in the domain\n") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "生き残っている全ノードがfenceをかけるわけではない。")) :date "Wed Jul 25 22:51:59 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (misc))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su0/packages/c/cman/pre-build/cman-2.0.60/fence/fenced/recover.c" :point 1404 :surround ("f the nodes in the domain\n   so that a victim isn't fenced by everyone.\n" "" "   - The node to run fence_victims is the node with lowest id that's in ") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "生きのこっているノードのうち最も小さいidを持つ\nノードがフェンスを実行する。\nEL4のclusterであれば/proc/cluster/nodesかに\nノードidの記載がある。openaisだと？？？\n")) :date "Wed Jul 25 22:52:55 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (misc))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su0/packages/c/cman/pre-build/cman-2.0.60/fence/fenced/recover.c" :point 1 :surround ("" "" "/***********************************************************************") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "* フェンスの振舞いについて\n\nLANケーブルの抜き挿しを伴う障害試験において、LANケーブルを抜かれたノー\nドとは異なるノードがフェンスアウトされる場合があった。この動作(以下、\n該当の動作)について説明する。\n\n説明を単純にするために3台のノード(A, B, X)からなるクラスターを考える。\nここでXがLANケーブルの抜き差しの対象となるノードとする。ノードにはクラスター\n起動時に自動的に決定する順位があり、より順位が高いノードがフェンスを実施する。\n想定する3台のノードの順位は以下の通りとする(上にあるものほど順位が高い)。\n\nX\nA\nB\n\n現在の順位は、/proc/cluster/nodes にて確認できる。\nノードは5秒(既定値)周期でハートビートを発信し、21秒(既定値)以上ハートビー\nトが途絶えたノードをフェンスアウトする。\n\nまずXに対するフェンスアウトを確実に実施する場合(21秒以上)とフェンスアウ\nトを実施しない場合(16秒以内)について説明する。XからLANケーブルを抜き放\n置すると、A, Bから見てXからのハートビートが途絶えるため、Bよりも優先順\n位の高いAがXをフェンスアウトする。LANケーブルを抜くタイミングとハートビー\nトのタイミングを考慮すると、LANケーブルを抜いてから16秒(21秒-5秒)以内に\n挿し戻せば、クラスターには何もおこらない。\n\n該当の動作は、LANケーブルを抜いてから16秒から21秒以内にLANケーブルを差\nし戻した場合に発生する。この動作を理解するには、フェンスのかけあいを避ける\nために使われているアリゴリズムを理解する必要がある。\n\nLANケーブルを抜いている時間にかかわらず、LANケーブルを抜くと、A, Bから\n見てXのハートビートが途絶えるだけでなく、Xから見てもA, Bのハートビート\nが途絶える。従ってXとAが互いにフェンスをかけあってしまう恐れがある。この\nような状況を避けるためにフェンスアウトを実施するノードは、フェンスアウトを実\n施する前に、少なくとも1台以上のノードからハートビートが届いていることを確認す\nる。ハートビートが届いていない場合、LANケーブルを抜かれて孤立したのは、自ノー\nドであると判断して、フェンスアウトを実施しない。一方1台以上のノードからハート\nビートが届いた場合、孤立したのは自ノードではなく、ハートビートが届かなくなった\nノードだと判断してフェンスアウトを実施する。\n\nXからLANケーブルを抜いた場合、XはAからのハートビートもBからのハートビー\nトも途絶えるため、自ノードが孤立したことを知りA及びBに対するフェンスア\nウトを実施しない。一方Aは、Xのハートビートが途絶えた上に、Bからのハート\nビートは届いているので、自ノードが孤立したのではなく、Xが孤立しているこ\nとがわかる。そこで、Xに対してAがフェンスアウトを実施する。なおBの振舞い\nは次のようになる: Xからのハートビートが途切れて、Aからのハートビートは\n届いているが、Aより自ノードの方が優先順位が低いので、自分ではフェンスア\nウトを実施しない。\n\nLANケーブルを抜いてから16秒から21秒以内にLANケーブルを差し戻した場合、\nLANケーブルを抜くタイミングとハートビートのタイミングによっては、Aから\n見てXのハートビートが途絶えた期間が21秒以内にもかかわらず、Xから見て\nAのハートビートが途絶えた期間が21秒に達して、しかもXから見てBのハートビート\nが途絶えた期間が21秒以内となる場合があり得る。これが該当の動作となる状況\nである。\n\n次の図は、X,A,Bのハートビートの送受信とLANケーブルを抜いている時間の関係\nをあらわす。\n\nT:-4  0    5     10   15   20\n  |   |    |     |    |    | \nX:A-BP__________________FP----P\nA:P-BX-P-B--P-B--P-B--P-B\nB:A-PX-A-P--A-P--A-P--A-PX----X\n\n左端、T:は時刻を、X:, A:, B:はそれぞれの行がX, B, Bのノードを表現してい\nる。行中のA は、そのノードがAからハートビートを受信したことを意味する。\n同様に、B, Xは、そのノードがBあるいはXからハートビートを受信したことを\n意味する。P はヒートビートを送信したことを意味する。_はケーブルを抜いて\nいる期間を意味する。Fはフェンスアウトを実施したことを意味する。\n\n\nTが0のときに、LANケーブルを抜き、16のときにLANケーブルを戻す。\n\nT:-4  0    5     10   15   20\n  |   |    |     |    |    |\nX:A-BP__________________FP----P\nB:A-PX-A-P--A-P--A-P--A-PX----X\n\nXから見えてT=-4でAのハートビートを受信して以来T=16までの21秒間\nAのハートビートを受信していない。またT=-2の時点でBのハートビートを\n受信している。T=16の時点では、Xから見てBのハートビートが途絶えてから\n19秒しか経ていない。従って、XはT=16でAをフェンスアウトする。\n\nT:-4  0    5     10   15   20\n  |   |    |     |    |    |\nX:A-BP__________________FP----P\nA:P-BX-P-B--P-B--P-B--P-B\n\n一方Aから見ると、T=-1を最後にXからのハートビートは途絶えるが、Xから\nフェンスをかけられる、T=16の時点でも、ハートビートが途絶えている期間は、\n19秒しか経ていないので、Xにフェンスをかけない。")) :date "Wed Jul 25 22:57:44 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (misc))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel4u5/packages/a/autorun/pre-build/autorun-3.14/cdrom.cc" :point 3469 :coding-system undecided-unix :line 158 :which-func "isMounted()" :surround ("ne(line, PATH_MAX*3-1)) {\n      char mpoint[PATH_MAX], dname[PATH_MAX];\n" "" "      sscanf(line, \"%s %s\", dname, mpoint);\n      int len = readlink(dna") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "/で始まっているかどうかをチェックすべきではないか。\n.e.g\n\tnone /proc/sys/fs/binfmt_misc binfmt_misc rw 0 0")) :date "Fri Aug 24 20:05:50 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (need-report))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su0/packages/o/openais/pre-build/openais-0.80.2/exec/totemsrp.c" :point 111575 :coding-system undecided-unix :line 4042 :which-func "main_deliver_fn()" :surround ("er_function_token_retransmit_timeout (instance);\n\t\t}\n\t}\n\treturn (0);\n}\n\n" "" "void main_deliver_fn (\n\tvoid *context,\n\tvoid *msg,\n\tint msg_len)\n{\n\tstru") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "ここでmsgが消費されているので、元まで辿る。")) :date "Sat Aug 25 04:08:14 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-for-totem-openais-dissectors))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su0/packages/o/openais/pre-build/openais-0.80.2/exec/totemrrp.c" :point 36462 :coding-system undecided-unix :line 1378 :which-func "totemrrp_initialize()" :surround ("rp_handle *handle,\n\tstruct totem_config *totem_config,\n\tvoid *context,\n\n" "" "\tvoid (*deliver_fn) (\n\t\tvoid *context,\n\t\tvoid *msg,\n\t\tint msg_len),\n\n\tvo") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "deliver_fn => main_deliver_fn")) :date "Sat Aug 25 04:09:46 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-for-totem-openais-dissectors))
(define-keyword reading-for-totem-openais-dissectors :version 0 :keywords reading-for-totem-openais-dissectors :subject "graphvizの記述中で \"->xxx\" をxxxフィールドを介した\n間接関数呼び出しときてとくと良いかも。" :date "Sat Aug 25 04:16:19 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com")
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su0/packages/o/openais/pre-build/openais-0.80.2/exec/totemrrp.c" :point 30269 :coding-system undecided-unix :line 1127 :which-func "active_token_recv()" :surround ("tive_instance = (struct active_instance *)instance->rrp_algo_instance;\n\n" "" "\tactive_instance->totemrrp_context = context; // this should be in totem") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "msg自体はcopyしてるだけだけど、token_seqがあるってことは実は\nどこかでmsgをパースしてるのか。")) :date "Sat Aug 25 04:20:21 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-for-totem-openais-dissectors))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su0/packages/o/openais/pre-build/openais-0.80.2/exec/totemrrp.c" :point 4698 :coding-system undecided-unix :line 167 :which-func "totemrrp_instance{}" :surround ("t rrp_algo *rrp_algo;\n\n\tvoid *context;\n\t\n\tchar *status[INTERFACE_MAX];\n\n" "" "\tvoid (*totemrrp_deliver_fn) (\n\t\tvoid *context,\n\t\tvoid *msg,\n\t\tint msg_l") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "totemsrpのdeliver_fnをここに登録する。")) :date "Sat Aug 25 04:21:26 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-for-totem-openais-dissectors))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su0/packages/o/openais/pre-build/openais-0.80.2/exec/totemsrp.c" :point 111575 :coding-system undecided-unix :line 4042 :which-func "main_deliver_fn()" :surround ("er_function_token_retransmit_timeout (instance);\n\t\t}\n\t}\n\treturn (0);\n}\n\n" "" "void main_deliver_fn (\n\tvoid *context,\n\tvoid *msg,\n\tint msg_len)\n{\n\tstru") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type graphviz-dot :data "digraph openaix_msg {\n  node[shape=plaintext, fontsize=10];\n  subgraph clustermrp {\n    graph[label=mrp];\n    totemmrp_deliver_fn;\n  }\n  subgraph clustersrp {\n    graph[label=\"srp\"];\n    \"->totemsrp_deliver_fn\"[fontcolor=red];\n    main_deliver_fn->\"->totemsrp_deliver_fn\"\n    \"->totemsrp_deliver_fn\"->totemmrp_deliver_fn;\n  }\n  subgraph clusterrrp {\n    graph[label=\"rrp\"];\n    \"->totemrrp_deliver_fn\"->main_deliver_fn;\n    timer_function_active_token_expired->\"->totemrrp_deliver_fn\";\n    timer_function_passive_token_expired->\"->totemrrp_deliver_fn\";\n    \n    none_mcast_recv->\"->totemrrp_deliver_fn\";\n    none_token_recv->\"->totemrrp_deliver_fn\";\n    \n    \"passive_algo{}\"->passive_mcast_recv->\"->totemrrp_deliver_fn\"\n    \"passive_algo{}\"->passive_token_recv->\"->totemrrp_deliver_fn\"\n    \n    \"active_algo{}\"->active_mcast_recv;\n    \"active_algo{}\"->active_token_recv\n    active_mcast_recv->\"->totemrrp_deliver_fn\";\n    active_token_recv->\"->totemrrp_deliver_fn\";\n    \"none_algo{}\"->none_mcast_recv;\n    \"none_algo{}\"->none_token_recv;\n  \n    // none_algo\n    // passive_algo\n    // active_algo\n    // rrp_deliver_fn->\n    rrp_deliver_fn->rrp_algo;\n    rrp_algo->\"none_algo{}\";\n    rrp_algo->\"passive_algo{}\";\n    rrp_algo->\"active_algo{}\";\n  }\n\n}")) :date "Sat Aug 25 04:12:13 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-for-totem-openais-dissectors))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su0/packages/o/openais/pre-build/openais-0.80.2/exec/totemrrp.c" :point 34835 :coding-system undecided-unix :line 1299 :which-func "rrp_deliver_fn()" :surround ("fn_context *deliver_fn_context = (struct deliver_fn_context *)context;\n\n" "" "\tdeliver_fn_context->instance->totemrrp_token_seqid_get (\n\t\tmsg,\n\t\t&toke") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "こいつの方が先にmsgを解釈しているか。")) :date "Sat Aug 25 04:51:19 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-for-totem-openais-dissectors))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su0/packages/o/openais/pre-build/openais-0.80.2/exec/totemsrp.c" :point 16960 :coding-system undecided-unix :line 646 :which-func "main_token_seqid_get()" :surround ("->header.type == MESSAGE_TYPE_ORF_TOKEN) {\n\t\t*seqid = token->token_seq;\n" "" "\t\t*token_is = 1;\n\t}\n}\n\nunsigned int main_msgs_missing (void)\n{\n// TODO\n\t") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "toke_is == 1 なら unicast")) :date "Sat Aug 25 04:55:53 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-for-totem-openais-dissectors))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su0/packages/o/openais/pre-build/openais-0.80.2/exec/totemsrp.c" :point 16796 :coding-system undecided-unix :line 640 :which-func "main_token_seqid_get()" :surround ("eqid_get (\n\tvoid *msg,\n\tunsigned int *seqid,\n\tunsigned int *token_is)\n{\n" "" "\tstruct orf_token *token = (struct orf_token *)msg;\n\n\t*seqid = 0;\n\t*toke") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "長さを調べずにキャストしている。\ntypeは1バイト目のようなので良いとしても、\ntoken->token_seq は 9バイト目ぐらい。")) :date "Sat Aug 25 04:56:15 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-for-totem-openais-dissectors))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su0/packages/o/openais/pre-build/openais-0.80.2/exec/totem.h" :point 2890 :coding-system undecided-unix :line 83 :which-func "totem_config{}" :surround ("int log_level_warning;\n\tint log_level_notice;\n\tint log_level_debug;\n};\n\n" "" "struct totem_config {\n\tint version;\n\n\t/*\n\t * network\n\t */\n\tstruct totem_") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "極めて重要、先に読め。")) :date "Thu Oct 18 21:29:29 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su0/packages/o/openais/pre-build/openais-0.80.2/exec/totem.h" :point 3161 :coding-system undecided-unix :line 103 :which-func "totem_config{}" :surround ("8];\n\n\tint private_key_len;\n\n\t/*\n\t * Totem configuration parameters\n\t */\n" "" "\tunsigned int token_timeout;\n\n\tunsigned int token_retransmit_timeout;\n\n\t") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "ハートビートの間隔。単位不明。")) :date "Thu Oct 18 21:29:49 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su0/packages/o/openais/pre-build/openais-0.80.2/exec/tlist.h" :point 3696 :coding-system undecided-unix :line 117 :which-func "timerlist_add_future()" :surround ("rlist_timer));\n\tif (timer == 0) {\n\t\terrno = ENOMEM;\n\t\treturn (-1);\n\t}\n\t\n" "" "\tseconds = msec_in_future / 1000;\n\tmseconds = msec_in_future % 1000;\n\n\tg") :surround-attached-by attach-surrounding) (target :type file :file "/srv/sources/dists/rhel5su0/packages/o/openais/pre-build/openais-0.80.2/exec/totem.h" :point 3161 :coding-system undecided-unix :line 103 :which-func "totem_config{}" :surround ("8];\n\n\tint private_key_len;\n\n\t/*\n\t * Totem configuration parameters\n\t */\n" "" "\tunsigned int token_timeout;\n\n\tunsigned int token_retransmit_timeout;\n\n\t") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "msecのようである。")) :date "Thu Oct 18 21:31:42 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 1233 :coding-system undecided-unix :line 37 :which-func "lslist")) :annotation-list ((annotation :type text :data "このリストに全てのlockspaceがぶらさがっている。")) :date "Mon Oct 22 22:37:32 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 1266 :coding-system undecided-unix :line 38 :which-func "lslist_lock")) :annotation-list ((annotation :type text :data "lslistを保護する。")) :date "Mon Oct 22 22:38:08 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 1180 :coding-system undecided-unix :line 35 :which-func "ls_count")) :annotation-list ((annotation :type text :data "lockspaceの数")) :date "Mon Oct 22 22:38:45 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 1203 :coding-system undecided-unix :line 36 :which-func "ls_lock")) :annotation-list ((annotation :type text :data "少なくともls_countを保護している。")) :date "Mon Oct 22 22:38:59 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 8719 :coding-system undecided-unix :line 408 :which-func "new_lockspace()")) :annotation-list ((annotation :type text :data "要求した名前がローカルのリストにあるかどうかをチェックする。")) :date "Mon Oct 22 22:39:25 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 8822 :coding-system undecided-unix :line 412 :which-func "new_lockspace()")) :annotation-list ((annotation :type text :data "あればエラー。")) :date "Mon Oct 22 22:39:47 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 8665 :coding-system undecided-unix :line 405 :which-func "new_lockspace()")) :annotation-list ((annotation :type text :data "ここでmoduleのrefcountを増やす。")) :date "Mon Oct 22 22:40:18 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/dlm_internal.h" :point 11131 :coding-system undecided-unix :line 420 :which-func "")) :annotation-list ((annotation :type text :data "lockspaceを表現するデータ構造。")) :date "Mon Oct 22 22:41:02 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 9079 :coding-system undecided-unix :line 425 :which-func "new_lockspace()")) :annotation-list ((annotation :type text :data "configfs経由で設定されるっぽい。")) :date "Mon Oct 22 22:42:36 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 9079 :coding-system undecided-unix :line 425 :which-func "new_lockspace()")) :annotation-list ((annotation :type text :data "RSBのテーブルの初期化")) :date "Mon Oct 22 22:44:23 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 9414 :coding-system undecided-unix :line 437 :which-func "new_lockspace()")) :annotation-list ((annotation :type text :data "LKBテーブルの初期化")) :date "Mon Oct 22 22:44:35 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 9740 :coding-system undecided-unix :line 449 :which-func "new_lockspace()")) :annotation-list ((annotation :type text :data "DIRテーブルの初期化")) :date "Mon Oct 22 22:44:49 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/recoverd.c" :point 6586 :coding-system undecided-unix :line 287 :which-func "dlm_recoverd_start()")) :annotation-list ((annotation :type text :data "リカバーはカーネルスレッドで実行している。")) :date "Mon Oct 22 22:47:35 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 11465 :coding-system undecided-unix :line 511 :which-func "new_lockspace()")) :annotation-list ((annotation :type text :data "lockspace毎に動作するリカバー用カーネルスレッドの起動。")) :date "Mon Oct 22 22:48:25 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/recoverd.c" :point 6586 :coding-system undecided-unix :line 287 :which-func "dlm_recoverd_start()")) :annotation-list ((annotation :type text :data "kthread_runはtask_structを返す。")) :date "Mon Oct 22 22:49:12 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/dlm_internal.h" :point 12413 :coding-system undecided-unix :line 465 :which-func "dlm_ls{}")) :annotation-list ((annotation :type text :data "リカバーを実施する per lockspace なkernel threadのtask struct")) :date "Mon Oct 22 22:49:48 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 11168 :coding-system undecided-unix :line 499 :which-func "new_lockspace()")) :annotation-list ((annotation :type text :data "自分自身を指す。")) :date "Mon Oct 22 22:52:25 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/recoverd.c" :point 5975 :coding-system undecided-unix :line 256 :which-func "dlm_recoverd()")) :annotation-list ((annotation :type text :data "localのlockspaceのリストから自分自身が面倒を見るlockspaceを捜す。\n")) :date "Mon Oct 22 22:53:20 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/recoverd.c" :point 6422 :coding-system undecided-unix :line 278 :which-func "dlm_recoverd_kick()")) :annotation-list ((annotation :type text :data "たぶん LSFL_WORKフラッグを用いて\nスレッド作成と起動に時間差をつけている。\n")) :date "Mon Oct 22 22:55:37 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 11592 :coding-system undecided-unix :line 517 :which-func "new_lockspace()")) :annotation-list ((annotation :type text :data "CONFIG_DLM_DEBUGがonのときにdebugfs経由で情報がとれる。\n\nF7のconfigs/kernel-2.6.21-i686.configでは\n\n\tCONFIG_DLM_DEBUG=y\n\n何がとれるか調べること。\n")) :date "Mon Oct 22 22:58:47 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 11621 :coding-system undecided-unix :line 519 :which-func "new_lockspace()")) :annotation-list ((annotation :type text :data "sysfsのセットアップ。何がセットアップされるか調べること。")) :date "Mon Oct 22 23:00:00 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/lib/kobject_uevent.c" :point 5251 :coding-system undecided-unix :line 207 :which-func "kobject_uevent_env()")) :annotation-list ((annotation :type text :data "sysfs経由で書き換えることができるようである。")) :date "Mon Oct 22 23:03:08 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/lib/kobject_uevent.c" :point 5112 :coding-system undecided-unix :line 201 :which-func "kobject_uevent_env()")) :annotation-list ((annotation :type text :data "NETLINK経由で通知")) :date "Mon Oct 22 23:03:42 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 11748 :coding-system undecided-unix :line 527 :which-func "new_lockspace()")) :annotation-list ((annotation :type text :data "netlinkあるいはhotplug経由でユーザー空間に\nlockspaceのKOBJ_ONLINE(=1)、 KOBJ_OFFLINEを通知する。\n通知に失敗した場合、返り値がそれを表現する。")) :date "Mon Oct 22 23:04:39 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 10431 :coding-system undecided-unix :line 476 :which-func "new_lockspace()")) :annotation-list ((annotation :type text :data "この後sysfsのセットアップで使う。")) :date "Mon Oct 22 23:06:05 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 5108 :coding-system undecided-unix :line 201 :which-func "do_uevent()")) :annotation-list ((annotation :type text :data "dlm_event_store経由でユーザー空間からの応答を待つのか。")) :date "Mon Oct 22 23:07:41 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 11748 :coding-system undecided-unix :line 527 :which-func "new_lockspace()")) :annotation-list ((annotation :type text :data "イベントに対するユーザー空間からの応答を待つようである。")) :date "Mon Oct 22 23:08:05 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 12412 :coding-system undecided-unix :line 564 :which-func "dlm_new_lockspace()")) :annotation-list ((annotation :type text :data "per lockspaceではなくローカルノード全体で共通のカーネルスレッド群を開始する。\n")) :date "Mon Oct 22 23:10:05 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 7797 :coding-system undecided-unix :line 357 :which-func "threads_start()")) :annotation-list ((annotation :type text :data "非同期トラップの処理")) :date "Mon Oct 22 23:11:08 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 7910 :coding-system undecided-unix :line 363 :which-func "threads_start()")) :annotation-list ((annotation :type text :data "DIRテーブルを見てなにかGCしてるっぽい。")) :date "Mon Oct 22 23:12:31 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 8095 :coding-system undecided-unix :line 370 :which-func "threads_start()")) :annotation-list ((annotation :type text :data "通信担当。メッセージはキューイングされて、このkthreadが\n実際に送信するようである。")) :date "Mon Oct 22 23:13:03 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 8095 :coding-system undecided-unix :line 370 :which-func "threads_start()")) :annotation-list ((annotation :type text :data "configurationによってsctp版かtcp版が動く。")) :date "Tue Oct 23 19:28:01 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 11368 :coding-system undecided-unix :line 507 :which-func "new_lockspace()")) :annotation-list ((annotation :type text :data "ここでlslistに自身を追加する。\nlslistはhostグローバル。")) :date "Tue Oct 23 19:30:35 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 4471 :coding-system undecided-unix :line 168 :which-func "")) :annotation-list ((annotation :type text :data "たぶん /sys/kernel/dlm 以下にファイルができる。")) :date "Tue Oct 23 19:38:59 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.h" :point 777 :coding-system undecided-unix :line 19 :which-func "dlm_find_lockspace_global()")) :annotation-list ((annotation :type text :data "名前, global_id, local_idの3つのどれでも同定できる。")) :date "Wed Oct 24 16:05:56 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.A21/vanilla/fs/dlm/lockspace.c" :point 2147 :coding-system undecided-unix :line 80 :which-func "dlm_id_store()")) :annotation-list ((annotation :type text :data "ls_global_idの変更に対してロックがない。\n\nspin_lock(&lslist_lock) --- spin_unlock(&lslist_lock)\n\nで保護すべきではないか？")) :date "Wed Oct 24 16:08:48 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 6951 :coding-system undecided-unix :line 304 :which-func "dlm_find_lockspace_local()")) :annotation-list ((annotation :type text :data "findするとrefcountがあがる。")) :date "Wed Oct 24 16:10:47 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 6951 :coding-system undecided-unix :line 304 :which-func "dlm_find_lockspace_local()")) :annotation-list ((annotation :type text :data "ls->ls_countとls_countは違う。\nls->ls_countはlsに対するrefcountの数\nls_countはlocalにあるlsの数\n")) :date "Wed Oct 24 16:10:59 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 1482 :coding-system undecided-unix :line 47 :which-func "dlm_control_store()")) :annotation-list ((annotation :type text :data "refcountを上げるため。")) :date "Wed Oct 24 16:11:49 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 1683 :coding-system undecided-unix :line 61 :which-func "dlm_control_store()")) :annotation-list ((annotation :type text :data "refcountをさげる。")) :date "Wed Oct 24 16:12:48 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 7051 :coding-system undecided-unix :line 314 :which-func "dlm_find_lockspace_device()")) :annotation-list ((annotation :type text :data "ユーザー空間からlockを操作するために、lockspace毎に\nデバイスファイルを用意するようである。")) :date "Wed Oct 24 17:18:46 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 7670 :coding-system undecided-unix :line 348 :which-func "remove_lockspace()")) :annotation-list ((annotation :type text :data "1秒待つ。なぜ？")) :date "Wed Oct 24 17:19:42 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 7670 :coding-system undecided-unix :line 348 :which-func "remove_lockspace()")) :annotation-list ((annotation :type text :data "様子を見るため。")) :date "Wed Oct 24 17:34:40 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 5791 :coding-system undecided-unix :line 239 :which-func "dlm_scand()")) :annotation-list ((annotation :type text :data "スリープの時間もconfigで与える。")) :date "Wed Oct 24 17:42:17 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 6141 :coding-system undecided-unix :line 262 :which-func "dlm_find_lockspace_name()")) :annotation-list ((annotation :type text :data "namespaceを作るときに与えた名前で引く。")) :date "Wed Oct 24 17:45:37 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/debug_fs.c" :point 8077 :coding-system undecided-unix :line 353 :which-func "dlm_create_debug_file()")) :annotation-list ((annotation :type text :data "strlen(\"_waiters\") => 8")) :date "Wed Oct 24 17:52:58 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.h" :point 777 :coding-system undecided-unix :line 19 :which-func "dlm_find_lockspace_global()")) :annotation-list ((annotation :type text :data "findするとrefcontがあがる。")) :date "Wed Oct 24 18:18:35 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 5440 :coding-system undecided-unix :line 221 :which-func "dlm_lockspace_init()")) :annotation-list ((annotation :type text :data "/sysfs/kernel/dlmを作成する。")) :date "Wed Oct 24 18:20:14 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/memory.c" :point 808 :coding-system undecided-unix :line 25 :which-func "dlm_memory_init()")) :annotation-list ((annotation :type text :data "lock blockだけキャッシュを使う。")) :date "Wed Oct 24 18:38:27 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/main.c" :point 1048 :coding-system undecided-unix :line 32 :which-func "init_dlm()")) :annotation-list ((annotation :type text :data "アロケータの初期化")) :date "Wed Oct 24 18:43:26 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/main.c" :point 1102 :coding-system undecided-unix :line 37 :which-func "init_dlm()")) :annotation-list ((annotation :type text :data "sysfsのエントリーの準備")) :date "Wed Oct 24 18:43:38 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/main.c" :point 1162 :coding-system undecided-unix :line 41 :which-func "init_dlm()")) :annotation-list ((annotation :type text :data "<configfsのマウントポイント>/dlm")) :date "Wed Oct 24 18:46:52 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/main.c" :point 1102 :coding-system undecided-unix :line 37 :which-func "init_dlm()")) :annotation-list ((annotation :type text :data "/sysfs/kernel/dlm")) :date "Wed Oct 24 18:47:09 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/main.c" :point 1225 :coding-system undecided-unix :line 45 :which-func "init_dlm()")) :annotation-list ((annotation :type text :data "<debugfsのマウントポイント>/dlm/<ロックスペースの名前>\n<debugfsのマウントポイント>/dlm/<ロックスペースの名前>_waiters")) :date "Wed Oct 24 18:47:23 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/main.c" :point 1289 :coding-system undecided-unix :line 48 :which-func "init_dlm()")) :annotation-list ((annotation :type text :data "miscデバイス/dev/dlm-controlの準備")) :date "Wed Oct 24 19:07:33 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/user.c" :point 19425 :coding-system undecided-unix :line 787 :which-func "dlm_user_init()")) :annotation-list ((annotation :type text :data "#define MISC_MAJOR\t\t10")) :date "Wed Oct 24 19:08:12 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/user.c" :point 19425 :coding-system undecided-unix :line 787 :which-func "dlm_user_init()")) :annotation-list ((annotation :type text :data "/proc/miscでmiscデバイスの知覧が見れる。")) :date "Wed Oct 24 19:09:50 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su0/packages/c/cman/pre-build/cman-2.0.60/dlm/scripts/51-dlm.rules" :point 1 :coding-system undecided-unix :line 1 :surround ("" "" "KERNEL=\"dlm_control\", NAME=\"misc/dlm-control\"\nKERNEL=\"dlm-*\", NAME=\"misc") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "ここで /dev/misc/dlm-controlを作る。")) :date "Wed Oct 24 19:16:24 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/user.c" :point 19425 :coding-system undecided-unix :line 787 :which-func "dlm_user_init()")) :annotation-list ((annotation :type text :data "udevに与えているdlm用スクリプトによって \n/dev/misc/dlm-controlとして見えるようになる。")) :date "Wed Oct 24 19:16:47 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/main.c" :point 1289 :coding-system undecided-unix :line 48 :which-func "init_dlm()")) :annotation-list ((annotation :type text :data "正確には/dev/misc/dlm-control")) :date "Wed Oct 24 19:17:20 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su0/packages/c/cman/pre-build/cman-2.0.60/dlm/tests/usertest/lvb.c" :point 462 :coding-system undecided-unix :line 33 :which-func "LCK$M_VALBLK=" :surround ("e <netdb.h>\n#include <stdlib.h>\n#include <string.h>\n#include <libdlm.h>\n" "" "#define LCK$M_VALBLK LKF_VALBLK\n#define LCK$M_CONVERT LKF_CONVERT\n#defin") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "Cのプリプロセッサで$って使えるんだ。")) :date "Wed Oct 24 19:23:15 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/user.c" :point 18798 :coding-system undecided-unix :line 755 :which-func "ctl_device_open()")) :annotation-list ((annotation :type text :data "いつも成功")) :date "Wed Oct 24 19:57:52 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/include/linux/dlm_device.h" :point 1319 :coding-system undecided-unix :line 47 :which-func "dlm_write_request{}")) :annotation-list ((annotation :type text :data "ユーザー空間から書き込むデータのフォーマット")) :date "Wed Oct 24 20:06:53 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/include/linux/dlm_device.h" :point 1376 :coding-system undecided-unix :line 50 :which-func "dlm_write_request{}")) :annotation-list ((annotation :type text :data "たぶんここが1だと新しいコードが動く。")) :date "Wed Oct 24 20:07:11 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/include/linux/dlm_device.h" :point 1365 :coding-system undecided-unix :line 49 :which-func "dlm_write_request{}")) :annotation-list ((annotation :type text :data "LOCK, UNLOCK, QUERY, CREATE_LOCKSPACE or REMOVE_LOCKSPACE")) :date "Wed Oct 24 20:10:06 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/user.c" :point 12529 :coding-system undecided-unix :line 500 :which-func "device_write()")) :annotation-list ((annotation :type text :data "DLM_USER_QUERYは？？？？")) :date "Wed Oct 24 20:10:55 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su0/packages/c/cman/pre-build/cman-2.0.60/dlm/lib/libdlm.c" :point 16318 :coding-system undecided-unix :line 716 :which-func "dlm_ls_query_wait()" :surround ("_lkid)\n    {\n\terrno = EINVAL;\n\treturn -1;\n    }\n\n    set_version(&req);\n" "" "    req.cmd = DLM_USER_QUERY;\n    req.i.query.query = query;\n    req.i.q") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "fs/dlm/user.cのdevice_writeでハンドルするはずだが...")) :date "Wed Oct 24 20:11:38 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su0/packages/c/cman/pre-build/cman-2.0.60/dlm/lib/libdlm.c" :point 15834 :coding-system undecided-unix :line 687 :which-func "" :surround ("return dlm_ls_unlock(ls, lkid, flags | LKF_WAIT,\n\t\t\t     lksb, NULL);\n}\n" "" "#ifdef QUERY\nint dlm_ls_query_wait(dlm_lshandle_t lockspace,\n\t\t      str") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "defineされてないし作ってるところかな。")) :date "Wed Oct 24 20:14:43 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/user.c" :point 11746 :coding-system undecided-unix :line 462 :which-func "device_write()")) :annotation-list ((annotation :type text :data "シグナル受けない。")) :date "Wed Oct 24 20:15:38 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/user.c" :point 12671 :coding-system undecided-unix :line 507 :which-func "device_write()")) :annotation-list ((annotation :type text :data "着信しているシグナルがあれば、確認してtask内のflagを立てる？")) :date "Wed Oct 24 20:17:22 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/user.c" :point 7865 :coding-system undecided-unix :line 298 :which-func "device_create_lockspace()")) :annotation-list ((annotation :type text :data "nul terminated.")) :date "Wed Oct 24 20:23:15 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/user.c" :point 8087 :coding-system undecided-unix :line 308 :which-func "device_create_lockspace()")) :annotation-list ((annotation :type text :data "name_prefix == \"dlm\"")) :date "Wed Oct 24 20:24:15 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/user.c" :point 8087 :coding-system undecided-unix :line 308 :which-func "device_create_lockspace()")) :annotation-list ((annotation :type text :data "'_', '\\0' => 2")) :date "Wed Oct 24 20:24:32 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su0/packages/c/cman/pre-build/cman-2.0.60/dlm/scripts/51-dlm.rules" :point 1 :coding-system undecided-unix :line 1 :surround ("" "" "KERNEL=\"dlm_control\", NAME=\"misc/dlm-control\"\nKERNEL=\"dlm-*\", NAME=\"misc") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "/dev/misc/dlm-<lockspace>も作る？")) :date "Wed Oct 24 20:39:41 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/user.c" :point 8229 :coding-system undecided-unix :line 312 :which-func "device_create_lockspace()")) :annotation-list ((annotation :type text :data "/dev/misc/dlm-<ロックスペース名>")) :date "Wed Oct 24 20:38:42 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/user.c" :point 13269 :coding-system undecided-unix :line 532 :which-func "device_open()")) :annotation-list ((annotation :type text :data "ls_local_handleはlsを指す。")) :date "Wed Oct 24 20:43:46 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/user.c" :point 8229 :coding-system undecided-unix :line 312 :which-func "device_create_lockspace()")) :annotation-list ((annotation :type text :data "dロックスペースの名前をデバイスに関連付ける。")) :date "Wed Oct 24 20:45:54 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 7051 :coding-system undecided-unix :line 314 :which-func "dlm_find_lockspace_device()")) :annotation-list ((annotation :type text :data "そのデバイスはmiscデバイスにぶらさがり、マイナー番号が自動的に与えられる。")) :date "Wed Oct 24 20:48:37 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/user.c" :point 13511 :coding-system undecided-unix :line 539 :which-func "device_open()")) :annotation-list ((annotation :type text :data "read, writeで使うことでしょう。")) :date "Wed Oct 24 20:57:39 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 13664 :coding-system undecided-unix :line 618 :which-func "release_lockspace()")) :annotation-list ((annotation :type text :data "devを介したユーザスペースからのリクエストは force = 2.")) :date "Wed Oct 24 21:20:20 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/user.c" :point 9090 :coding-system undecided-unix :line 354 :which-func "device_remove_lockspace()")) :annotation-list ((annotation :type text :data "destroy lockspace regardless of LKBs")) :date "Wed Oct 24 21:26:05 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/util.c" :point 642 :coding-system undecided-unix :line 16 :which-func "")) :annotation-list ((annotation :type text :data "通信データのバイトオーダーを整えている。")) :date "Fri Oct 26 21:37:29 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 23104 :coding-system undecided-unix :line 907 :which-func "")) :annotation-list ((annotation :type text :data "テンプレートとして使うのか？")) :date "Fri Oct 26 21:57:21 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/include/linux/configfs.h" :point 2892 :coding-system undecided-unix :line 100 :which-func "config_group{}")) :annotation-list ((annotation :type text :data "デフォルト値をぶらさげるのか。")) :date "Fri Oct 26 22:03:57 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 16420 :coding-system undecided-unix :line 594 :which-func "clusters_root=")) :annotation-list ((annotation :type text :data "subsys, su_group, cg_itemというのは、configfsからの\n要請である。/<configfsのマウントポイント>/dlm ができる。\nclusters_typeを追う。")) :date "Fri Oct 26 22:03:20 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/include/asm-x86_64/semaphore.h" :point 2545 :coding-system undecided-unix :line 78 :which-func "init_MUTEX()")) :annotation-list ((annotation :type text :data "バイナリsemaphoreのことをmutexと言うのか。\nどうもmutexには2種類あるようだ。")) :date "Fri Oct 26 22:09:21 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 16609 :coding-system undecided-unix :line 607 :which-func "dlm_config_init()")) :annotation-list ((annotation :type text :data "su_groupの指す構造体のうち cg_itemフィールドは、\nクライアント(このdlmモジュールのこと)が初期化するが、\n残りのフィールドはconfigfs側で初期化するので、\nconfigfs_register_subsystemに先立って、\nconfig_group_initを呼んでいる。init_MUTEXは呼ぶ必要があるのか？\n静的にフィールドを初期化できんのか。")) :date "Fri Oct 26 22:06:26 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/include/linux/configfs.h" :point 2524 :coding-system undecided-unix :line 85 :which-func "config_item_type{}")) :annotation-list ((annotation :type text :data "itemとgroup選べるのか。")) :date "Fri Oct 26 22:10:41 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/include/linux/configfs.h" :point 2621 :coding-system undecided-unix :line 87 :which-func "config_item_type{}")) :annotation-list ((annotation :type text :data "attributeを選べるのか。")) :date "Fri Oct 26 22:10:55 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 9334 :coding-system undecided-unix :line 290 :which-func "clusters_ops=")) :annotation-list ((annotation :type text :data "make_group => たぶんここでmkdirした場合に呼び出されるコールバック\nmake_item => たぶんここでopenした場合に呼び出されるコールバック\ndrop_item => たぶんここでunlinkした場合に呼び出されるコールバック\nコールバックには、「ここ」とmkdir, openなりをしたときの「名前」が\n渡される。")) :date "Fri Oct 26 22:11:50 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/linux-2.6.21.i386/configs/kernel-2.6.21-i686.config" :point 71762 :coding-system undecided-unix :line 3473 :which-func "CONFIG_DLM_TCP")) :annotation-list ((annotation :type text :data "SCTPはビルドしない。")) :date "Fri Oct 26 22:17:57 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 13002 :coding-system undecided-unix :line 434 :which-func "make_cluster()")) :annotation-list ((annotation :type text :data "kfreeは引数NULLを許す。")) :date "Fri Oct 26 22:18:49 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 11663 :coding-system undecided-unix :line 394 :which-func "make_cluster()")) :annotation-list ((annotation :type text :data "name => mkdirしたユーザーが与える。")) :date "Fri Oct 26 22:21:58 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 11857 :coding-system undecided-unix :line 402 :which-func "make_cluster()")) :annotation-list ((annotation :type text :data "clusterとはdlmが扱う最も大きいコンテキスト。\n\n\tcluster = lockspace + comms\n\ncommsはたぶん通信方式。")) :date "Fri Oct 26 22:23:08 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 11908 :coding-system undecided-unix :line 403 :which-func "make_cluster()")) :annotation-list ((annotation :type text :data "dlmは複数のclusterを持てる。このclusterをconfigfsに見せる\nためのエントリーポイント。")) :date "Fri Oct 26 22:24:35 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 12120 :coding-system undecided-unix :line 410 :which-func "make_cluster()")) :annotation-list ((annotation :type text :data "箱、名前、ハンドラ群で初期化。")) :date "Fri Oct 26 22:25:41 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 11908 :coding-system undecided-unix :line 403 :which-func "make_cluster()")) :annotation-list ((annotation :type text :data "3 => 子供の数 => sps + cms + NULL")) :date "Fri Oct 26 22:26:02 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 12487 :coding-system undecided-unix :line 419 :which-func "make_cluster()")) :annotation-list ((annotation :type text :data "テンプレートからコピー。このクラスターのデフォルト値？？？？")) :date "Fri Oct 26 22:26:58 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 11857 :coding-system undecided-unix :line 402 :which-func "make_cluster()")) :annotation-list ((annotation :type text :data "違う。通信オブジェクト。")) :date "Fri Oct 26 22:27:22 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 12915 :coding-system undecided-unix :line 429 :which-func "make_cluster()")) :annotation-list ((annotation :type text :data "lockspaceの集合と通信オブジェクトはそれぞれ別で管理する。")) :date "Fri Oct 26 22:27:48 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 10498 :coding-system undecided-unix :line 342 :which-func "spaces_type=")) :annotation-list ((annotation :type text :data "clusterにぶらさがる複数のlockspaceを管理する。")) :date "Fri Oct 26 22:28:33 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 14000 :coding-system undecided-unix :line 480 :which-func "make_space()")) :annotation-list ((annotation :type text :data "spacesディレクトリの下にロックnodesディレクトリができるのか。")) :date "Fri Oct 26 22:30:10 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/include/linux/configfs.h" :point 2852 :coding-system undecided-unix :line 99 :which-func "config_group{}")) :annotation-list ((annotation :type text :data "親、あるいは祖先か。")) :date "Fri Oct 26 22:31:54 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/include/linux/configfs.h" :point 2892 :coding-system undecided-unix :line 100 :which-func "config_group{}")) :annotation-list ((annotation :type text :data "なぜデフォルト。想定された名前に対してハンドラを用意しとくのか？")) :date "Fri Oct 26 22:32:04 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 14000 :coding-system undecided-unix :line 480 :which-func "make_space()")) :annotation-list ((annotation :type text :data "spaces/lockspaeの名前/nodes")) :date "Fri Oct 26 22:32:46 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 11364 :coding-system undecided-unix :line 381 :which-func "to_space()")) :annotation-list ((annotation :type text :data "to_config_group(i)が指しているポインタは あるspace構造体のgroupフィールドである。\ncontainer_ofでそのspace構造体へのポインタを得る。")) :date "Fri Oct 26 22:38:01 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 15606 :coding-system undecided-unix :line 556 :which-func "make_node()")) :annotation-list ((annotation :type text :data "良くわからんが、属するspaceをとってる。")) :date "Fri Oct 26 22:40:47 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 15751 :coding-system undecided-unix :line 563 :which-func "make_node()")) :annotation-list ((annotation :type text :data "node名を焼き込む。")) :date "Fri Oct 26 22:41:13 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 15809 :coding-system undecided-unix :line 564 :which-func "make_node()")) :annotation-list ((annotation :type text :data "デフォルト値を入れて。")) :date "Fri Oct 26 22:41:30 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 8845 :coding-system undecided-unix :line 261 :which-func "space{}")) :annotation-list ((annotation :type text :data "node群")) :date "Fri Oct 26 22:42:10 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 15887 :coding-system undecided-unix :line 567 :which-func "make_node()")) :annotation-list ((annotation :type text :data "スペースのメンバーにノードを追加する。")) :date "Fri Oct 26 22:42:28 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 11046 :coding-system undecided-unix :line 368 :which-func "node_type=")) :annotation-list ((annotation :type text :data "clusters/クラスター名/spaces/スペース名/nodes/ノード名に\n対するオペレーション。")) :date "Fri Oct 26 22:42:54 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 10362 :coding-system undecided-unix :line 336 :which-func "cluster_type=")) :annotation-list ((annotation :type text :data "clusters/クラスター名にできること。")) :date "Fri Oct 26 22:45:36 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 5854 :coding-system undecided-unix :line 153 :which-func "CLUSTER_ATTR()")) :annotation-list ((annotation :type text :data "tcp_port_write(), tcp_port_read(), \ncluster_attr_tcp_port{ .attr  = { .ca_name = \"tcp_port\", 0644, .ca_owner = THIS_MODULE},\n                       .show  = tcp_port_read,\n                       .store = tcp_port_write }")) :date "Fri Oct 26 22:58:01 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 6118 :coding-system undecided-unix :line 163 :which-func "cluster_attrs=")) :annotation-list ((annotation :type text :data "各クラスター毎に設定できる。\n\ndlm/clusters/cluster名/tcp_port\n...")) :date "Fri Oct 26 23:02:37 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 16915 :coding-system undecided-unix :line 621 :which-func "show_cluster()")) :annotation-list ((annotation :type text :data "configfsの要素毎にあるshowattributeメソッド呼び出しを\ndlm側の設定要素(cluster)にあるshowメソッド呼び出しへ変換する。")) :date "Fri Oct 26 23:05:31 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 17495 :coding-system undecided-unix :line 640 :which-func "show_comm()")) :annotation-list ((annotation :type text :data "configfsレベルの呼び出しをcommレベルへ変換")) :date "Fri Oct 26 23:06:43 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 18960 :coding-system undecided-unix :line 701 :which-func "show_node()")) :annotation-list ((annotation :type text :data "configfsレベルのメソッド呼び出しをnodeレベルへ変換")) :date "Fri Oct 26 23:07:20 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 3749 :coding-system undecided-unix :line 94 :which-func "{}")) :annotation-list ((annotation :type text :data "各クラスター毎に設定できるアトリビュートのインデックス")) :date "Fri Oct 26 23:08:16 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 6727 :coding-system undecided-unix :line 176 :which-func "{}")) :annotation-list ((annotation :type text :data "各comm毎に設定できる要素。")) :date "Fri Oct 26 23:08:38 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 7841 :coding-system undecided-unix :line 218 :which-func "{}")) :annotation-list ((annotation :type text :data "ノード毎に設定できる項目")) :date "Fri Oct 26 23:10:31 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 1060 :coding-system undecided-unix :line 28 :which-func "")) :annotation-list ((annotation :type text :data "複数のクラスターに参加できんという意味か？")) :date "Fri Oct 26 23:12:01 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 3689 :coding-system undecided-unix :line 90 :which-func "cluster{}")) :annotation-list ((annotation :type text :data "たぶんGCの頻度。")) :date "Fri Oct 26 23:12:34 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/Kconfig" :point 301 :coding-system undecided-unix :line 13)) :annotation-list ((annotation :type text :data "choiceなのでどちらか一方。")) :date "Fri Oct 26 23:14:17 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 11728 :coding-system undecided-unix :line 395 :which-func "make_cluster()")) :annotation-list ((annotation :type text :data "何個でもつくれそうだが...")) :date "Fri Oct 26 23:19:55 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 11728 :coding-system undecided-unix :line 395 :which-func "make_cluster()")) :annotation-list ((annotation :type text :data "試してみたら複数個つくれた。")) :date "Fri Oct 26 23:21:34 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 15088 :coding-system undecided-unix :line 531 :which-func "make_comm()")) :annotation-list ((annotation :type text :data "初期値")) :date "Fri Oct 26 23:22:40 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 5854 :coding-system undecided-unix :line 153 :which-func "CLUSTER_ATTR()")) :annotation-list ((annotation :type text :data "実際に試してみるとtcp_portとか見えなぁ。")) :date "Fri Oct 26 23:24:43 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/linux-2.6.21.i386/fs/dlm/config.h" :point 1146 :coding-system undecided-unix :line 37 :which-func "dlm_nodeid_to_addr()")) :annotation-list ((annotation :type text :data "ここでstorageとはハードディスクのことではなくて、sockaddr_xxx汎用という意味のようである。")) :date "Tue Oct 30 18:17:35 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/config.c" :point 10440 :coding-system undecided-unix :line 338 :which-func "cluster_type=")) :annotation-list ((annotation :type text :data "このフィールドはEL5にないため、\n\n\tCLUSTER_ATTR(tcp_port, 1);\n\nこのあたりは設定できない。")) :date "Tue Oct 30 18:33:55 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/include/linux/configfs.h" :point 4882 :coding-system undecided-unix :line 157 :which-func "configfs_group_operations{}")) :annotation-list ((annotation :type text :data "touchしてconfig_itemを作れる。")) :date "Fri Nov  2 18:51:28 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/include/linux/configfs.h" :point 4963 :coding-system undecided-unix :line 158 :which-func "configfs_group_operations{}")) :annotation-list ((annotation :type text :data "mkdirしてconfig_groupを作れる。")) :date "Fri Nov  2 18:52:13 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/include/linux/configfs.h" :point 2469 :coding-system undecided-unix :line 83 :which-func "config_item_type{}")) :annotation-list ((annotation :type text :data "メソッドテーブル")) :date "Fri Nov  2 19:01:42 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/configfs/file.c" :point 7347 :coding-system undecided-unix :line 253 :which-func "check_perm()")) :annotation-list ((annotation :type text :data "ファイルをオープンするには ct_item_ops が必要である。")) :date "Fri Nov  2 19:18:49 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/configfs/file.c" :point 1185 :coding-system undecided-unix :line 36 :which-func "")) :annotation-list ((annotation :type text :data "ファイルの内容を保持する。")) :date "Fri Nov  2 19:20:42 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/configfs/file.c" :point 8158 :coding-system undecided-unix :line 287 :which-func "check_perm()")) :annotation-list ((annotation :type text :data "ci_type->ct_item_opsがくっつく。")) :date "Fri Nov  2 19:22:55 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/include/linux/configfs.h" :point 1673 :coding-system undecided-unix :line 56 :which-func "config_item{}")) :annotation-list ((annotation :type text :data "ファイルエントリーを表現している。\nconfig_item_typeのitem_opsで操作する。")) :date "Fri Nov  2 19:24:53 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/include/linux/kobject.h" :point 1045 :coding-system undecided-unix :line 42 :which-func "kobject_action{}")) :annotation-list ((annotation :type text :data "ユーザー空間に告知できるイベントの種類")) :date "Mon Nov  5 11:37:39 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/lib/kobject_uevent.c" :point 4064 :coding-system undecided-unix :line 163 :which-func "kobject_uevent_env()")) :annotation-list ((annotation :type text :data "独自のueventメソッドが定義されていれば、そのメソッドを呼ぶ。")) :date "Mon Nov  5 11:40:49 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 1723 :coding-system undecided-unix :line 65 :which-func "dlm_event_store()")) :annotation-list ((annotation :type text :data "event_doneという別のファイルから読む。\nueventファイルではない。")) :date "Mon Nov  5 11:42:47 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 4938 :coding-system undecided-unix :line 192 :which-func "do_uevent()")) :annotation-list ((annotation :type text :data "ueventからlockspaceのONLINE, OFFLINEを通知して、event_doneでユーザ空間からのackを待つ。")) :date "Mon Nov  5 11:44:22 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/drivers/char/misc.c" :point 6386 :coding-system undecided-unix :line 284 :which-func "misc_init()")) :annotation-list ((annotation :type text :data "このあたりで、sysfsにからんでくる。")) :date "Mon Nov  5 11:50:16 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/user.c" :point 19425 :coding-system undecided-unix :line 787 :which-func "dlm_user_init()")) :annotation-list ((annotation :type text :data "udevは, /sys/class/misc/dlm-contorol/*を見るようである。\nmisc_registerのなかで登録したdeviceはsysfsで見えるようになる。")) :date "Mon Nov  5 11:51:49 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/fs/dlm/lockspace.c" :point 2913 :coding-system undecided-unix :line 111 :which-func "dlm_attr_id=")) :annotation-list ((annotation :type text :data "Global lock space ID")) :date "Mon Nov  5 11:56:23 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su0/packages/k/kernel/pre-build/kernel-2.6.18/vanilla/drivers/base/core.c" :point 7503 :coding-system undecided-unix :line 310 :which-func "device_add()" :surround (" &parent->kobj;\n\n\tif ((error = kobject_add(&dev->kobj)))\n\t\tgoto Error;\n\n" "" "\tdev->uevent_attr.attr.name = \"uevent\";\n\tdev->uevent_attr.attr.mode = S_") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "書き込み可能だけど読めない。store_ueventは\n\n\t\tkobject_uevent(&dev->kobj, KOBJ_ADD);\n\nしてるだけ。")) :date "Mon Nov  5 13:19:21 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f7/packages/k/kernel/pre-build/kernel-2.6.21/vanilla/drivers/base/core.c" :point 6335 :coding-system undecided-unix :line 244 :which-func "store_uevent()")) :annotation-list ((annotation :type text :data "書き込むとそのデバイスについて KOBJ_ADDを再送してくれる。")) :date "Mon Nov  5 13:31:33 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/c/cman/pre-build/cman-2.0.73/cman/cman_tool/join.c" :point 3554 :coding-system undecided-unix :line 129 :which-func "join" :surround ("d\", p[1]);\n\tenvp[envptr++] = strdup(scratch);\n\n\tenvp[envptr++] = NULL;\n\n" "" "\targv[0] = \"aisexec\";\n\n\t/* Fork/exec cman */\n\tswitch ( (aisexec_pid = fo") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "ここで起動する。")) :date "Thu Dec 13 21:46:57 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su0/packages/o/openais/pre-build/openais-0.80.2/exec/totemrrp.c" :point 36641 :coding-system undecided-unix :line 1388 :which-func "totemrrp_finalize" :surround ("text,\n\t\tstruct totem_ip_address *iface_addr,\n\t\tunsigned int iface_no),\n\n" "" "\tvoid (*token_seqid_get) (\n\t\tvoid *msg,\n\t\tunsigned int *seqid,\n\t\tunsigne") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "token_seqid_get => main_token_seqid_get")) :date "Fri Dec 14 17:21:26 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-for-totem-openais-dissectors))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su0/packages/o/openais/pre-build/openais-0.80.2/exec/totemrrp.c" :point 30269 :coding-system undecided-unix :line 1127 :which-func "active_token_recv" :surround ("tive_instance = (struct active_instance *)instance->rrp_algo_instance;\n\n" "" "\tactive_instance->totemrrp_context = context; // this should be in totem") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "パースしている。\nrrp_deliver_fnの中のtotemrrp_token_seqid_getメソッド")) :date "Fri Dec 14 17:26:58 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-for-totem-openais-dissectors))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su0/packages/o/openais/pre-build/openais-0.80.2/exec/totemrrp.c" :point 31103 :coding-system undecided-unix :line 1151 :which-func "active_token_recv" :surround ("ken */\n\t\t\t}\n\t\t}\n\t\tactive_timer_expired_token_cancel (active_instance);\n\n" "" "\t\tinstance->totemrrp_deliver_fn (\n\t\t\tcontext,\n\t\t\tmsg,\n\t\t\tmsg_len);\n\t}\n}\n") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "最終的にtotemrrp_deliver_fnを呼ぶ。")) :date "Fri Dec 14 17:28:29 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-for-totem-openais-dissectors))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su0/packages/m/mkinitrd/pre-build/mkinitrd-5.1.19.6/nash/nash.c" :point 52077 :coding-system undecided-unix :line 2182 :which-func "mkblkdevsCommand" :surround ("  eprintf(\"mkblkdevs: unexpected arguments\\n\");\n        return 1;\n    }\n" "" "\n    sysfs_blkdev_probe(_nash_context, \"/sys/block\");\n    return 1;\n}\n\ns") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "initrd中のinitで呼ばれているmkblkdevsの定義はここ")) :date "Tue Dec 18 19:58:46 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-who-creates-md0-on-EL5))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f8/packages/r/ruby/pre-build/ruby-1.8.6.110/ruby-1.8.6-p110/parse.y" :point 117271 :coding-system undecided-unix :line 6041 :which-func "rb_intern")) :annotation-list ((annotation :type text :data "長さ0の文字列だと不味い。")) :date "Thu Dec 27 17:20:11 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ruby-zero-length-symbol))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel3u9/packages/k/kernel/pre-build/kernel-2.4.21/linux-2.4.21/fs/dcache.c" :point 8530 :coding-system undecided-unix :line 344 :which-func "__prune_dcache" :surround ("y aren't near the tail they will\n\t\t\t * be moved down again soon.\n\t\t\t */\n" "" "\t\t\tint skip = count;\n\t\t\twhile (skip > 0 &&\n\t\t\t    tmp != &dentry_unused ") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "最初から捜し直しなのか。")) :date "Thu Dec 27 20:13:21 2007" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ruby-zero-length-symbol))
(stitch-annotation :version 0 :target-list ((target :type directory :directory "/srv/sources/src-upstream/lcopy-SOURCES/openjdk/" :item "j2se")) :annotation-list ((annotation :type text :data "ライブラリ")) :date "Tue Jan 15 14:51:21 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openjdk))
(stitch-annotation :version 0 :target-list ((target :type directory :directory "/srv/sources/src-upstream/lcopy-SOURCES/openjdk/" :item "hotspot")) :annotation-list ((annotation :type text :data "vm")) :date "Tue Jan 15 14:51:38 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openjdk))
(stitch-annotation :version 0 :target-list ((target :type directory :directory "/srv/sources/src-upstream/lcopy-SOURCES/openjdk/hotspot/" :item "agent")) :annotation-list ((annotation :type text :data "デバッグ用のツール")) :date "Tue Jan 15 14:51:46 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openjdk))
(stitch-annotation :version 0 :target-list ((target :type directory :directory "/srv/sources/src-upstream/lcopy-SOURCES/openjdk/hotspot/" :item "src")) :annotation-list ((annotation :type text :data "vm")) :date "Tue Jan 15 14:52:18 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openjdk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/x/xen/pre-build/xen-3.1.0-src/xen-3.0.3_0-src/xen/arch/x86/boot/x86_32.S" :point 1399 :coding-system undecided-unix :line 47 :surround ("# Write an attribute to the VGA framebuffer\n        jmp     1b\n        \n" "" "__start:\n        /* Set up a few descriptors: on entry only CS is guaran") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "ここから始まる。")) :date "Mon Jan 21 20:49:16 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-xen))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/x/xen/pre-build/xen-3.1.0-src/xen/arch/powerpc/domain_build.c" :point 1832 :coding-system undecided-unix :line 60 :which-func "construct_dom0" :surround ("d from common/elf.c */\n#define RM_MASK(a,l) ((a) & ((1UL << (l)) - 1))\n\n" "" "int construct_dom0(struct domain *d,\n                   unsigned long im") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "ここで仮想CPUのプロセスカウンターにdom0ファイルのelfのエントリー\nポイントを設定している。")) :date "Mon Jan 21 20:55:22 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-xen))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/x/xen/pre-build/xen-3.1.0-src/xen/arch/powerpc/domain_build.c" :point 7624 :coding-system undecided-unix :line 232 :which-func "construct_dom0" :surround (" dom0 kernel. */\n    elf.dest = (void *)dst;\n    elf_load_binary(&elf);\n" "" "    v->arch.ctxt.pc = dst - rma + (parms.virt_entry - parms.virt_kstart)") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "ここでpcを設定。")) :date "Mon Jan 21 20:56:10 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-xen))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/x/xen/pre-build/xen-3.1.0-src/xen/arch/x86/x86_32/entry.S" :point 21652 :coding-system undecided-unix :line 637 :surround ("        .long do_machine_check\n        .long do_simd_coprocessor_error\n\n" "" "ENTRY(hypercall_table)\n        .long do_set_trap_table     /*  0 */\n    ") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "hypercall一覧")) :date "Mon Jan 21 20:57:35 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-xen))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/p/pykickstart/pre-build/pykickstart-0.43/pykickstart/parser.py" :point 43376 :coding-system undecided-unix :line 1048 :which-func "handleScriptHdr" :surround ("errorOnFail\", action=\"store_true\",\n                      default=False)\n" "" "        op.add_option(\"--interpreter\", dest=\"interpreter\", default=\"/bin") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "--interpreterとすることで%postの内容の評価器を選択できる。")) :date "Thu Feb  7 13:31:48 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-kickstart))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/p/pykickstart/pre-build/pykickstart-0.43/pykickstart/parser.py" :point 49958 :coding-system undecided-unix :line 1206 :which-func "readKickstart" :surround ("ScriptHdr (lineno, args)\n                else:\n                    try:\n" "" "                        self.handleScriptHdr (lineno, args)\n            ") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "ここで%postの処理方針を決定する。")) :date "Thu Feb  7 13:32:29 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-kickstart))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/p/pykickstart/pre-build/pykickstart-0.43/pykickstart/parser.py" :point 44997 :coding-system undecided-unix :line 1092 :which-func "readKickstart" :surround ("             if self.state in [STATE_PRE, STATE_POST, STATE_TRACEBACK]:\n" "" "                    self.script[\"body\"].append(line)\n\n                ne") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "何も考えずに行をアペンド")) :date "Thu Feb  7 13:33:25 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-kickstart))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/r/rpm/pre-build/rpm-4.4.2/lib/fsm.c" :point 20260 :coding-system undecided-unix :line 828 :which-func "expandRegular" :surround ("stem, internalState @*/\n\t/*@modifies fsm, fileSystem, internalState @*/\n" "" "{\n    const struct stat * st = &fsm->sb;\n    int left = st->st_size;\n   ") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "インストール時、ここでファイルを書きこむのか。")) :date "Fri Feb 22 09:49:46 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rpm-1500MB-limit))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/r/rpm/pre-build/rpm-4.4.2/lib/fsm.c" :point 20659 :coding-system undecided-unix :line 847 :which-func "expandRegular" :surround ("rsize : left);\n\trc = fsmNext(fsm, FSM_DREAD);\n\tif (rc)\n\t    goto exit;\n\n" "" "\trc = fsmNext(fsm, FSM_WRITE);\n\tif (rc)\n\t    goto exit;\n\n\tleft -= fsm->w") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "ここで書き込みステートへ。")) :date "Fri Feb 22 09:52:01 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rpm-1500MB-limit))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/r/rpm/pre-build/rpm-4.4.2/lib/fsm.c" :point 63954 :coding-system undecided-unix :line 2414 :which-func "if" :surround ("\", cur,\n\t\tfsm->path, fsm->wfd, fsm->wrbuf);\n\tbreak;\n    case FSM_WRITE:\n" "" "\tfsm->wrnb = Fwrite(fsm->wrbuf, sizeof(*fsm->wrbuf), fsm->rdnb, fsm->wfd") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "ここで書く。")) :date "Fri Feb 22 09:52:11 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rpm-1500MB-limit))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/r/rpm/pre-build/rpm-4.4.2/lib/fsm.c" :point 20659 :coding-system undecided-unix :line 847 :which-func "expandRegular" :surround ("rsize : left);\n\trc = fsmNext(fsm, FSM_DREAD);\n\tif (rc)\n\t    goto exit;\n\n" "" "\trc = fsmNext(fsm, FSM_WRITE);\n\tif (rc)\n\t    goto exit;\n\n\tleft -= fsm->w") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "fsm->wrbuf\nがデータソース")) :date "Fri Feb 22 09:52:59 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rpm-1500MB-limit))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/r/rpm/pre-build/rpm-4.4.2/lib/fsm.c" :point 23463 :coding-system undecided-unix :line 958 :which-func "writeFile" :surround (" mmap generates *lots* of fdio debugging */\n#if HAVE_MMAP\n\tnmapped = 0;\n" "" "\tmapped = mmap(NULL, st->st_size, PROT_READ, MAP_SHARED, Fileno(fsm->rfd") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "これがあやしいけど、失敗したらファイルI/Oしてるように見える。")) :date "Fri Feb 22 10:08:39 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rpm-1500MB-limit))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f8/packages/r/rpm/pre-build/rpm-4.4.2.2/lib/fsm.c" :point 24235 :coding-system undecided-unix :line 993 :which-func "writeFile")) :annotation-list ((annotation :type text :data "うーん。")) :date "Fri Feb 22 10:27:48 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rpm-1500MB-limit))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/c/clustermon/pre-build/clustermon-0.10.0/ricci/modules/cluster/clumon/src/include/clumond_globals.h" :point 845 :coding-system undecided-unix :line 28 :surround ("redhat.com>\n */\n\n\n#ifndef clumond_globals_h\n#define clumond_globals_h\n\n\n" "" "#define COMMUNICATION_PORT 16851\n#define MONITORING_CLIENT_SOCKET \"/var/") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "このポートはrucciが使う。\nXMLをまま流すのでパケットみたいな話にはならない。")) :date "Thu Mar  6 18:07:25 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/o/openais/pre-build/openais-0.80.3/exec/totemsrp.c" :point 98701 :coding-system undecided-unix :line 3602 :which-func "message_handler_mcast")) :annotation-list ((annotation :type text :data "ここで決め打ち。")) :date "Mon Mar 10 16:12:41 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/o/openais/pre-build/openais-0.80.3/exec/totemsrp.c" :point 55363 :coding-system undecided-unix :line 1996 :which-func "totemsrp_mcast")) :annotation-list ((annotation :type text :data "送信者のidをsystem_fromに入れる。")) :date "Tue Mar 11 11:04:20 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/o/openais/pre-build/openais-0.80.3/exec/totemsrp.c" :point 54234 :coding-system undecided-unix :line 1949 :which-func "totemsrp_mcast")) :annotation-list ((annotation :type text :data "上位のサービスがこれを使って送信する。")) :date "Tue Mar 11 11:04:39 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/o/openais/pre-build/openais-0.80.3/exec/totemsrp.c" :point 59811 :coding-system undecided-unix :line 2208 :which-func "orf_token_mcast")) :annotation-list ((annotation :type text :data "message_itemは mcast部分と iovecで表現されるpayload\nに分かれているが、これをiovecだけからなるsort_queue_item\nにパッキングする。")) :date "Tue Mar 11 11:29:56 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/o/openais/pre-build/openais-0.80.3/exec/totemsrp.c" :point 61684 :coding-system undecided-unix :line 2268 :which-func "orf_token_mcast")) :annotation-list ((annotation :type text :data "ここで長さと個数を指定して送信")) :date "Tue Mar 11 12:24:38 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/o/openais/pre-build/openais-0.80.3/exec/totemrrp.c" :point 34935 :coding-system undecided-unix :line 1303 :which-func "rrp_deliver_fn")) :annotation-list ((annotation :type text :data "ORF_TOKENならtoken_is == 1")) :date "Tue Mar 11 16:38:06 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/c/cman/pre-build/cman-2.0.73/cman/daemon/ais.c" :point 15005 :coding-system undecided-unix :line 509 :which-func "comms_init_ais" :surround ("\t\t\t\t\"4800\", strlen(\"4800\")+1);\n\t\t}\n\n\n\t\t/* Set RRP mode appropriately */\n" "" "\t\tif (num_interfaces > 1) {\n\t\t\tglobal_objdb->object_key_create(object_ha") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "ここでrrp_modeを設定している。\nnum_interface > 1のときactive, そうでなければnone. ")) :date "Tue Mar 11 16:43:57 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/o/openais/pre-build/openais-0.80.3/exec/totemsrp.c" :point 95443 :coding-system undecided-unix :line 3480 :which-func "messages_deliver_to_app")) :annotation-list ((annotation :type text :data "ここだ。")) :date "Tue Mar 11 17:28:43 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/o/openais/pre-build/openais-0.80.3/exec/totempg.c" :point 14399 :coding-system undecided-unix :line 514 :which-func "totempg_deliver_fn")) :annotation-list ((annotation :type text :data "こっちにはネットワーク経由で直にこない。")) :date "Tue Mar 11 17:35:55 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/o/openais/pre-build/openais-0.80.3/exec/totempg.c" :point 10174 :coding-system undecided-unix :line 349 :which-func "group_matches")) :annotation-list ((annotation :type text :data "なんだこりゃ。")) :date "Wed Mar 12 11:43:01 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/o/openais/pre-build/openais-0.80.3/exec/totempg.c" :point 14295 :coding-system undecided-unix :line 511 :which-func "totempg_deliver_fn")) :annotation-list ((annotation :type text :data "payloadをassemblyをコピー")) :date "Wed Mar 12 11:53:53 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/c/cman/pre-build/cman-2.0.73/group/lib/libgroup.h" :point 2052 :coding-system undecided-unix :line 52 :surround ("h, void *priv, char *name,\n\t\t\t        int nodeid, int len, char *buf);\n\n" "" "typedef struct {\n\tgroup_stop_t stop;\n\tgroup_start_t start;\n\tgroup_finish") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "groupdとクライアントとのインターフェイス")) :date "Mon Mar 17 19:27:38 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/c/cman/pre-build/cman-2.0.73/cman/daemon/commands.c" :point 1724 :coding-system undecided-unix :line 56 :surround ("hat\n * has this port bound. Port 0 is reserved for protocol messages */\n" "" "static struct connection *port_array[256];\n\n// Stuff that was more globa") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "256口が上限としてある。")) :date "Mon Mar 24 10:25:50 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/b/bash/pre-build/bash-3.1/pathexp.c" :point 5436 :coding-system undecided-unix :line 237 :which-func "shell_glob_filename" :surround ("es ())\n\tignore_glob_matches (results);\n      if (results && results[0])\n" "" "\tstrvec_sort (results);\n      else\n\t{\n\t  FREE (results);\n\t  results = (c") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "echo * の出力がsortされるのはこのコードパスによる。")) :date "Wed Mar 26 20:45:05 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-glob-sorted-result))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/b/bash/pre-build/bash-3.1/lib/sh/stringvec.c" :point 3034 :coding-system undecided-unix :line 151 :which-func "strvec_strcmp" :surround ("rcmp(3). */\nint\nstrvec_strcmp (s1, s2)\n     register char **s1, **s2;\n{\n" "" "#if defined (HAVE_STRCOLL)\n   return (strcoll (*s1, *s2));\n#else /* !HAV") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "この関数が\n\n   echo *\n\nのsortの比較関数に使われる。")) :date "Wed Mar 26 20:45:54 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-glob-sorted-result))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/g/gdb/pre-build/gdb-6.5/gdb/target.c" :point 51618 :coding-system undecided-unix :line 1933 :which-func "store_waitstatus" :surround (" (CHILD_SPECIAL_WAITSTATUS (ourstatus, hoststatus))\n    return;\n#endif\n\n" "" "  if (WIFEXITED (hoststatus))\n    {\n      ourstatus->kind = TARGET_WAITK") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "debugee が受けたシグナルの種類によって ここで分岐か。")) :date "Thu Mar 27 20:59:08 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-sigstop))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/g/gdb/pre-build/gdb-6.5/gdb/target.c" :point 51618 :coding-system undecided-unix :line 1933 :which-func "store_waitstatus" :surround (" (CHILD_SPECIAL_WAITSTATUS (ourstatus, hoststatus))\n    return;\n#endif\n\n" "" "  if (WIFEXITED (hoststatus))\n    {\n      ourstatus->kind = TARGET_WAITK") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "正しくはwaitから得られる情報")) :date "Thu Mar 27 20:59:53 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-sigstop))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su2/packages/k/krb5/pre-build/krb5-1.6.1/src/util/support/selinux.c" :point 3437 :coding-system undecided-unix :line 115 :which-func "push_fscreatecon" :surround ("Setting file creation context \"\n\t\t\t\t\t\"to \\\"%s\\\".\\n\", next);\n\t\t\t}\n#endif\n" "" "\t\t\tif (setfscreatecon(next) != 0) {\n\t\t\t\tfreecon(next);\n\t\t\t\tif (previous)") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "setfscreatecon(next) => NULL\nのときnextが開放されない。\n\n\thttps://bugzilla.redhat.com/show_bug.cgi?id=432462")) :date "Thu May 22 11:52:07 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (need-report))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rt-beta/packages/k/kernel-2.6.24.4/pre-build/kernel-2.6.24.4/linux-2.6.24.4.i686/arch/x86/kernel/entry_32.S" :point 6695 :coding-system undecided-unix :line 314)) :annotation-list ((annotation :type text :data "割込みがプロセスのコードを実行中に起きたのか、\nカーネルコード実行中におきたのかで置きたか調べる。")) :date "Fri May 30 16:47:44 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-mrg))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rt-beta/packages/k/kernel-2.6.24.4/pre-build/kernel-2.6.24.4/linux-2.6.24.4.i686/arch/x86/kernel/entry_32.S" :point 7707 :coding-system undecided-unix :line 348)) :annotation-list ((annotation :type text :data "この中でスケジューラを呼ぶ。")) :date "Fri May 30 17:07:18 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-mrg))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rt-beta/packages/k/kernel-2.6.24.4/pre-build/kernel-2.6.24.4/linux-2.6.24.4.i686/arch/x86/kernel/entry_32.S" :point 7454 :coding-system undecided-unix :line 339)) :annotation-list ((annotation :type text :data "preempt_countが0でなければ、restore_nocheckに飛ぶ。")) :date "Fri May 30 17:17:19 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-mrg))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rt-beta/packages/k/kernel-2.6.24.4/pre-build/kernel-2.6.24.4/linux-2.6.24.4.i686/arch/x86/kernel/entry_32.S" :point 7375 :coding-system undecided-unix :line 337)) :annotation-list ((annotation :type text :data "kernel_preemptionが0だったらrestore_nocheckに飛ぶ。")) :date "Fri May 30 17:18:45 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-mrg))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rt-beta/packages/k/kernel-2.6.24.4/pre-build/kernel-2.6.24.4/linux-2.6.24.4.i686/arch/x86/kernel/entry_32.S" :point 7347 :coding-system undecided-unix :line 336)) :annotation-list ((annotation :type text :data "kernel_preemptionはブート時に設定できるオプションで、動的な性質はない。")) :date "Fri May 30 17:32:50 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-mrg))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rt-beta/packages/k/kernel-2.6.24.4/pre-build/kernel-2.6.24.4/linux-2.6.24.4.i686/include/linux/spinlock.h" :point 14016 :coding-system undecided-unix :line 398 :which-func "_spin_lock_irqsave_nested")) :annotation-list ((annotation :type text :data "do {\n    if (__builtin_types_compatible_p(typeof((lock)), raw_spinlock_t*))\n      __spin_lock((raw_spinlock_t *)(lock));\n    else if (__builtin_types_compatible_p(typeof((lock)), spinlock_t *))\n      _spin_lock((spinlock_t *)(lock));\n    else __bad_func_type();\n } while (0);")) :date "Fri May 30 19:04:04 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-mrg))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rt-beta/packages/k/kernel-2.6.24.4/pre-build/kernel-2.6.24.4/linux-2.6.24.4.i686/include/linux/spinlock.h" :point 14016 :coding-system undecided-unix :line 398 :which-func "_spin_lock_irqsave_nested")) :annotation-list ((annotation :type text :data "lockの型によって、spin_lockの名前で__spin_lockと_spin_lockを\n使いわけることができる。")) :date "Fri May 30 19:04:36 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-mrg))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rt-beta/packages/k/kernel-2.6.24.4/pre-build/kernel-2.6.24.4/linux-2.6.24.4.i686/kernel/rtmutex.c" :point 22112 :coding-system undecided-unix :line 809 :which-func "__rt_spin_lock")) :annotation-list ((annotation :type text :data "このifdefはいらんと思う。CONFIG_DEBUG_LOCK_ALLOCが定義されて\nいない場合spin_acquireはnopになるためである。")) :date "Fri May 30 19:35:28 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-mrg))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rt-beta/packages/k/kernel-2.6.24.4/pre-build/kernel-2.6.24.4/linux-2.6.24.4.i686/kernel/rtmutex.c" :point 20269 :coding-system undecided-unix :line 735 :which-func "rt_spin_lock_slowlock")) :annotation-list ((annotation :type text :data "ここでスケジューラ呼び出し。")) :date "Fri May 30 19:46:16 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-mrg))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rt-beta/packages/k/kernel-2.6.24.4/pre-build/kernel-2.6.24.4/linux-2.6.24.4.i686/kernel/softirq.c" :point 8827 :coding-system undecided-unix :line 366 :which-func "__do_softirq")) :annotation-list ((annotation :type text :data "'immediate' softirq executionに行かずにsoftirqdを起動する。")) :date "Mon Jun  2 12:31:45 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-mrg))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rt-beta/packages/k/kernel-2.6.24.4/pre-build/kernel-2.6.24.4/linux-2.6.24.4.i686/arch/x86/kernel/entry_64.S" :point 17304 :coding-system undecided-unix :line 738)) :annotation-list ((annotation :type text :data "この中でschduleが呼び出される。")) :date "Mon Jun  2 16:29:06 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-mrg))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rt-beta/packages/k/kernel-2.6.24.4/pre-build/kernel-2.6.24.4/linux-2.6.24.4.i686/include/asm-x86/hw_irq_64.h" :point 4617 :coding-system undecided-unix :line 160)) :annotation-list ((annotation :type text :data "ここで各IRQ毎にコードを生成する。")) :date "Mon Jun  2 16:31:50 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-mrg))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rt-beta/packages/k/kernel-2.6.24.4/pre-build/kernel-2.6.24.4/linux-2.6.24.4.i686/include/linux/irq.h" :point 9902 :coding-system undecided-unix :line 315 :which-func "generic_handle_irq")) :annotation-list ((annotation :type text :data "handle_irqがあればhandle_irq、なければ__do_IRQ。")) :date "Mon Jun  2 18:55:02 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-mrg))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rt-beta/packages/k/kernel-2.6.24.4/pre-build/kernel-2.6.24.4/linux-2.6.24.4.i686/include/linux/irq.h" :point 11100 :coding-system undecided-unix :line 354 :which-func "__set_irq_handler_unlocked")) :annotation-list ((annotation :type text :data "handle_irqはここでセットする。")) :date "Mon Jun  2 18:57:00 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-mrg))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rt-beta/packages/k/kernel-2.6.24.4/pre-build/kernel-2.6.24.4/linux-2.6.24.4.i686/kernel/Kconfig.preempt" :point 3944 :coding-system undecided-unix :line 108)) :annotation-list ((annotation :type text :data "GENERIC_HARDIRQS_NO__DO_IRQは定義されていないこと。")) :date "Mon Jun  2 19:02:05 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-mrg))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rt-beta/packages/k/kernel-2.6.24.4/pre-build/kernel-2.6.24.4/linux-2.6.24.4.i686/arch/x86/kernel/io_apic_32.c" :point 31350 :coding-system undecided-unix :line 1290 :which-func "ioapic_register_intr")) :annotation-list ((annotation :type text :data "ここでハンドラを挿入している。")) :date "Mon Jun  2 19:16:58 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-mrg))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rt-beta/packages/k/kernel-2.6.24.4/pre-build/kernel-2.6.24.4/linux-2.6.24.4.i686/include/linux/spinlock.h" :point 6507 :coding-system undecided-unix :line 185 :which-func "_spin_lock_irqsave")) :annotation-list ((annotation :type text :data "rtの場合_spin_lockと同じ。")) :date "Tue Jun  3 12:16:15 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-mrg))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/k/kernel/pre-build/kernel-2.6.18/linux-2.6.18.i386/net/core/sock.c" :point 9537 :coding-system undecided-unix :line 254 :which-func "sock_queue_rcv_skb")) :annotation-list ((annotation :type text :data "ここで設定するフィルターはlibpcapから設定できる。")) :date "Tue Jun  3 14:39:55 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-mrg))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rt-beta/packages/k/kernel-2.6.24.4/pre-build/kernel-2.6.24.4/linux-2.6.24.4.i686/kernel/irq/handle.c" :point 5954 :coding-system undecided-unix :line 260 :which-func "__do_IRQ")) :annotation-list ((annotation :type text :data "raw_spinlock_t\t\tlock;")) :date "Tue Jun  3 15:18:57 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-mrg))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rt-beta/packages/k/kernel-2.6.24.4/pre-build/kernel-2.6.24.4/linux-2.6.24.4.i686/kernel/irq/manage.c" :point 16470 :coding-system undecided-unix :line 661 :which-func "thread_simple_irq")) :annotation-list ((annotation :type text :data "ここでスケジューラをまわす。")) :date "Tue Jun  3 16:13:42 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-mrg))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rt-beta/packages/k/kernel-2.6.24.4/pre-build/kernel-2.6.24.4/linux-2.6.24.4.i686/kernel/irq/manage.c" :point 19822 :coding-system undecided-unix :line 808 :which-func "do_irqd")) :annotation-list ((annotation :type text :data "一つの割込み処理毎にスケジューラをまわすから\nwhileの条件の箇所ではTASK_RUNNINGとなる。\nところが処理すべき割込みがない場合TASK_INTERRUPTIBLEのまま\n下のscheduleにつっこむ。")) :date "Tue Jun  3 16:28:46 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-mrg))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su2/packages/c/cman/pre-build/cman-2.0.84/group/dlm_controld/action.c" :point 15640 :coding-system undecided-unix :line 808 :which-func "get_ccs_timewarn" :surround (";\n\t}\n\n\tfree(str);\n\tlog_debug(\"got ccs timewarn %d\", rv);\n\treturn rv;\n}\n\n" "" "#define DEBUG_PATH \"/cluster/dlm/@log_debug\"\n\nstatic int get_ccs_debug(i") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "cluster.confでdlmのlog_debugを制御できる。")) :date "Fri Jun 20 18:52:14 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm_controld))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su2/packages/c/cman/pre-build/cman-2.0.84/group/dlm_controld/action.c" :point 18442 :coding-system undecided-unix :line 978 :which-func "set_ccs_options" :surround ("d)\n{\n\tint cd;\n\n\tcd = open_ccs();\n\n\tlog_debug(\"set_ccs_options %d\", cd);\n" "" "\n\tset_protocol(cd);\n\tset_timewarn(cd);\n\tset_debug(cd);\n\n\tccs_disconnect(") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "ccs経由でcluster.confの情報を受けとり、configfsでカーネルに押し込む。")) :date "Fri Jun 20 18:53:05 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm_controld))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su2/packages/c/cman/pre-build/cman-2.0.84/group/dlm_controld/main.c" :point 13865 :coding-system undecided-unix :line 644 :which-func "loop" :surround ("\n\t\tgoto for_loop;\n\n\trv = setup_netlink();\n\tif (rv < 0)\n\t\tgoto for_loop;\n" "" "\tclient_add(rv, process_netlink, NULL);\n\n for_loop:\n\n\tfor (;;) {\n\t\trv = ") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "どのロックであれtimeoutが発生したことをnetlink経由でカーネルが\n教えてくれる。それを/var/log/messagesに残してDLM_MSG_CYCLE_STARTを\ncpgでつながる仲間に伝える。")) :date "Fri Jun 20 19:13:33 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dlm_controld))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su2/packages/O/OpenIPMI/pre-build/OpenIPMI-2.0.6/ipmitool-1.8.9/src/ipmievd.c" :point 11613 :coding-system undecided-unix :line 398 :which-func "openipmi_read" :surround ("izeof(addr);\n\trecv.msg.data = data;\n\trecv.msg.data_len = sizeof(data);\n\n" "" "\trv = ioctl(eintf->intf->fd, IPMICTL_RECEIVE_MSG_TRUNC, &recv);\n\tif (rv ") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "ここで読んで、\n(IPMICTL_RECEIVE_MSG_TRUNCはlinux kernelが知っている\n (drivers/char/ipmi, include/linux/ipmi*))")) :date "Tue Jun 24 19:29:26 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ipmievd))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su2/packages/O/OpenIPMI/pre-build/OpenIPMI-2.0.6/ipmitool-1.8.9/src/ipmievd.c" :point 12259 :coding-system undecided-unix :line 424 :which-func "openipmi_read" :surround ("md:%x ccode:%d\",\n\t    recv.msg.netfn, recv.msg.cmd, recv.msg.data[0]);\n\n" "" "\teintf->log(eintf, (struct sel_event_record *)recv.msg.data);\n\n\treturn 0") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "ここでログを残す。")) :date "Tue Jun 24 19:30:20 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ipmievd))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel4u4/packages/k/kernel/pre-build/kernel-2.6.9/linux-2.6.9/net/ipv4/devinet.c" :point 14938 :coding-system undecided-unix :line 625 :which-func "devinet_ioctl" :surround (";\n\t\t\tif (!ifa)\n\t\t\t\tbreak;\n\t\t\tret = 0;\n\t\t\tif (!(ifr.ifr_flags & IFF_UP))\n" "" "\t\t\t\tinet_del_ifa(in_dev, ifap, 1);\n\t\t\tbreak;\n\t\t}\n\t\tret = dev_change_flag") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "この話ではここは通る。")) :date "Fri Aug 15 18:56:19 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-naito-jiffies-and-nicalias))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel4u4/packages/k/kernel/pre-build/kernel-2.6.9/linux-2.6.9/net/ipv4/devinet.c" :point 5573 :coding-system undecided-unix :line 240 :which-func "inet_del_ifa" :surround ("();\n\n\t/* 1. Deleting primary ifaddr forces deletion all secondaries */\n\n" "" "\tif (!(ifa1->ifa_flags & IFA_F_SECONDARY)) {\n\t\tstruct in_ifaddr *ifa;\n\t\t") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data ":がついていない(エイリアスでない)口に対する処理。")) :date "Fri Aug 15 19:02:00 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-naito-jiffies-and-nicalias))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel4u4/packages/k/kernel/pre-build/kernel-2.6.9/linux-2.6.9/net/ipv4/devinet.c" :point 2966 :coding-system undecided-unix :line 115 :which-func "inet_free_ifa" :surround ("free(ifa);\n}\n\nstatic inline void inet_free_ifa(struct in_ifaddr *ifa)\n{\n" "" "\tcall_rcu(&ifa->rcu_head, inet_rcu_free_ifa);\n}\n\nvoid in_dev_finish_dest") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "inet_rcu_free_ifa(ifa);\nとなぜ書かずに非同期実行するのか？")) :date "Fri Aug 15 19:19:50 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-naito-jiffies-and-nicalias))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel4u4/packages/k/kernel/pre-build/kernel-2.6.9/linux-2.6.9/net/ipv4/devinet.c" :point 3285 :coding-system undecided-unix :line 128 :which-func "in_dev_finish_destroy" :surround ("inish_destroy: %p=%s\\n\",\n\t       idev, dev ? dev->name : \"NIL\");\n#endif\n" "" "\tdev_put(dev);\n\tif (!idev->dead)\n\t\tprintk(\"Freeing alive in_device %p\\n\"") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "refcountを下げているだけで、refcountが0になったときの処理が無い。\nいったい何の意味があるのか。0かどうかを確認して0のときの破壊用関数を\n呼び出す別の処理が、どこかにあるはずだ。")) :date "Fri Aug 15 21:19:31 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-naito-jiffies-and-nicalias))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel4u4/packages/k/kernel/pre-build/kernel-2.6.9/linux-2.6.9/net/ipv4/devinet.c" :point 15276 :coding-system undecided-unix :line 641 :which-func "devinet_ioctl" :surround ("BUFS;\n\t\t\tif ((ifa = inet_alloc_ifa()) == NULL)\n\t\t\t\tbreak;\n\t\t\tif (colon)\n" "" "\t\t\t\tmemcpy(ifa->ifa_label, ifr.ifr_name, IFNAMSIZ);\n\t\t\telse\n\t\t\t\tmemcpy(i") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "こっちがeth0:1")) :date "Fri Aug 15 21:55:07 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-naito-jiffies-and-nicalias))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel4u4/packages/k/kernel/pre-build/kernel-2.6.9/linux-2.6.9/net/ipv4/devinet.c" :point 15336 :coding-system undecided-unix :line 643 :which-func "devinet_ioctl" :surround ("\tif (colon)\n\t\t\t\tmemcpy(ifa->ifa_label, ifr.ifr_name, IFNAMSIZ);\n\t\t\telse\n" "" "\t\t\t\tmemcpy(ifa->ifa_label, dev->name, IFNAMSIZ);\n\t\t} else {\n\t\t\tret = 0;\n") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "こっちはeth0, デバイスの名前から取る。")) :date "Fri Aug 15 21:55:14 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-naito-jiffies-and-nicalias))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel4u4/packages/k/kernel/pre-build/kernel-2.6.9/linux-2.6.9/net/ipv4/devinet.c" :point 15276 :coding-system undecided-unix :line 641 :which-func "devinet_ioctl" :surround ("BUFS;\n\t\t\tif ((ifa = inet_alloc_ifa()) == NULL)\n\t\t\t\tbreak;\n\t\t\tif (colon)\n" "" "\t\t\t\tmemcpy(ifa->ifa_label, ifr.ifr_name, IFNAMSIZ);\n\t\t\telse\n\t\t\t\tmemcpy(i") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "ifrというのはioctlの引数から渡される*R*equest")) :date "Fri Aug 15 21:55:26 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-naito-jiffies-and-nicalias))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel4u4/packages/k/kernel/pre-build/kernel-2.6.9/linux-2.6.9/net/ipv4/devinet.c" :point 15994 :coding-system undecided-unix :line 666 :which-func "devinet_ioctl" :surround ("\n\t\t\tifa->ifa_prefixlen = 32;\n\t\t\tifa->ifa_mask = inet_make_mask(32);\n\t\t}\n" "" "\t\tret = inet_set_ifa(dev, ifa);\n\t\tbreak;\n\n\tcase SIOCSIFBRDADDR:\t/* Set t") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "この中でハードウェア実体であるdevからinet_devを取り出して、\ninet_devの管理するアドレス一覧リストに、ifaを追加する。")) :date "Fri Aug 15 21:56:52 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-naito-jiffies-and-nicalias))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel4u4/packages/k/kernel/pre-build/kernel-2.6.9/linux-2.6.9/net/ipv4/devinet.c" :point 4657 :coding-system undecided-unix :line 195 :which-func "inetdev_destroy" :surround ("dev;\n\n\tASSERT_RTNL();\n\n\tin_dev->dead = 1;\n\n\tip_mc_destroy_dev(in_dev);\n\n" "" "\twhile ((ifa = in_dev->ifa_list) != NULL) {\n\t\tinet_del_ifa(in_dev, &in_d") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "アドレスリストが空でないときは全部引っこ抜いて、破壊。")) :date "Fri Aug 15 22:02:09 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-naito-jiffies-and-nicalias))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel4u4/packages/k/kernel/pre-build/kernel-2.6.9/linux-2.6.9/include/linux/netdevice.h" :point 10667 :coding-system undecided-unix :line 364 :which-func "net_device" :surround ("tocol specific pointers */\n\t\n\tvoid \t\t\t*atalk_ptr;\t/* AppleTalk link \t*/\n" "" "\tvoid\t\t\t*ip_ptr;\t/* IPv4 specific data\t*/  \n\tvoid                    *dn") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "ありゃー。")) :date "Fri Aug 15 22:24:08 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-naito-jiffies-and-nicalias))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/f9/packages/q/qemu/pre-build/qemu-0.9.1/hw/pcnet.c" :point 3186 :coding-system undecided-unix :line 102 :which-func "BCR_DWIO")) :annotation-list ((annotation :type text :data "bcr[BCR_SWS]は定数。see pcnet_h_reset.")) :date "Fri Aug 22 17:59:47 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-phsad-qemu))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel3u5/packages/k/kernel/pre-build/kernel-2.4.21/linux-2.4.21/net/ipv4/tcp_ipv4.c" :point 3325 :coding-system undecided-unix :line 107 :surround (" to\n * 32768-61000\n */\nint sysctl_local_port_range[2] = { 1024, 4999 };\n" "" "int tcp_port_rover = (1024 - 1);\n\nstatic __inline__ int tcp_hashfn(__u32") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "ポート番号を明示的に与えなかった場合(=0)これを起点に番号を与えるようだ。")) :date "Fri Sep 26 15:18:54 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-tcp-port-min))
(stitch-annotation :version 0 :target-list ((target :type file :file "/usr/share/srpmix/sources/k/kernel/2.6.9-78.EL/pre-build/kernel-2.6.9/linux-2.6.9/mm/rmap.c" :point 18610 :coding-system undecided-unix :line 703 :which-func "try_to_unmap_anon")) :annotation-list ((annotation :type text :data "pageが複数のプロセスから参照されている可能性がある。")) :date "Mon Oct  6 12:23:29 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rmap))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-92.el5/pre-build/kernel-2.6.18/linux-2.6.18.i386/net/ipv4/route.c" :point 62492 :coding-system undecided-unix :line 2479 :which-func "ip_route_output_slow")) :annotation-list ((annotation :type text :data "connectでtarget addressを指定せず(=0とした場合)ここに来る。\n")) :date "Mon Nov 10 17:34:01 2008" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-connect-target-addrress=0))
(stitch-annotation :version 0 :target-list ((target :type region :subtype file :file "/srv/sources/sources/k/kernel/2.6.18-53.el5/pre-build/kernel-2.6.18/linux-2.6.18.i386/include/linux/sched.h" :region (30279 30367) :coding-system undecided-unix :line 974 :face underline :which-func "task_struct")) :annotation-list ((annotation :type oneline :data "非同期I/Oのときはスタック上のwait子を使う")) :date "Tue Jan  6 21:00:17 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-aio))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-53.el5/pre-build/kernel-2.6.18/linux-2.6.18.i386/fs/open.c" :point 18426 :coding-system undecided-unix :line 822 :which-func "sys_fchown")) :annotation-list ((annotation :type text :data "ここで inode->i_fopを f_opに入れている。")) :date "Wed Jan  7 15:46:25 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-open))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-53.el5/pre-build/kernel-2.6.18/linux-2.6.18.i386/fs/nfs/file.c" :point 1854 :coding-system undecided-unix :line 54)) :annotation-list ((annotation :type text :data ".openが呼ばれる前にまずinodeを経由してfilp->f_opに代入される。\nその後 .open が呼ばれる。")) :date "Wed Jan  7 15:47:16 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-open))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-53.el5/pre-build/kernel-2.6.18/linux-2.6.18.i386/fs/nfs/file.c" :point 3186 :coding-system undecided-unix :line 116 :which-func "nfs_file_open")) :annotation-list ((annotation :type text :data "さらにrpc_opsのfile_openが呼ばれる。")) :date "Wed Jan  7 15:49:16 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-open))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-53.el5/pre-build/kernel-2.6.18/linux-2.6.18.i386/fs/nfs/nfs3proc.c" :point 23790 :coding-system undecided-unix :line 930 :which-func "nfs3_proc_lock")) :annotation-list ((annotation :type text :data "nfsのfile_operationsのopenから呼ばれる。")) :date "Wed Jan  7 15:51:39 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-open))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su1/packages/k/kernel/pre-build/kernel-2.6.18/linux-2.6.18.i386/fs/nfs/inode.c" :point 14946 :coding-system undecided-unix :line 557 :which-func "nfs_open")) :annotation-list ((annotation :type text :data "filpのプライベートデータにctxを入れる。")) :date "Wed Jan  7 15:52:26 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-open))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-53.el5/pre-build/kernel-2.6.18/linux-2.6.18.i386/fs/nfs/file.c" :point 1960 :coding-system undecided-unix :line 57)) :annotation-list ((annotation :type text :data "結局 中で .aio_writeを呼ぶ。")) :date "Wed Jan  7 15:54:28 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-open))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-53.el5/pre-build/kernel-2.6.18/linux-2.6.18.i386/fs/nfs/file.c" :point 11225 :coding-system undecided-unix :line 407 :which-func "nfs_file_write")) :annotation-list ((annotation :type text :data "結局genericな機構を使う。")) :date "Wed Jan  7 15:55:25 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-open))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-53.el5/pre-build/kernel-2.6.18/linux-2.6.18.i386/fs/nfs/file.c" :point 11168 :coding-system undecided-unix :line 406 :which-func "nfs_file_write")) :annotation-list ((annotation :type text :data "ここでの計測結果は、/proc/$PID/mountstatsで見れる。")) :date "Wed Jan  7 16:04:36 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-open))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-53.el5/pre-build/kernel-2.6.18/linux-2.6.18.i386/fs/nfs/file.c" :point 11334 :coding-system undecided-unix :line 409 :which-func "nfs_file_write")) :annotation-list ((annotation :type text :data "generic_file_aio_writeの中でもSYNCかどうかチェックして特別な処理\nを回しているのになぜここでもチェックがあるのか？")) :date "Wed Jan  7 16:05:54 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-open))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-53.el5/pre-build/kernel-2.6.18/linux-2.6.18.i386/mm/filemap.c" :point 65980 :coding-system undecided-unix :line 2521 :which-func "generic_file_aio_write")) :annotation-list ((annotation :type text :data "ここで生のバッファをiovで包んでいる。")) :date "Wed Jan  7 16:07:40 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-open))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-53.el5/pre-build/kernel-2.6.18/linux-2.6.18.i386/mm/filemap.c" :point 50163 :coding-system undecided-unix :line 1904 :which-func "__grab_cache_page")) :annotation-list ((annotation :type text :data "さがして")) :date "Wed Jan  7 16:16:16 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-open))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-53.el5/pre-build/kernel-2.6.18/linux-2.6.18.i386/mm/filemap.c" :point 50240 :coding-system undecided-unix :line 1907 :which-func "__grab_cache_page")) :annotation-list ((annotation :type text :data "無ければalloc")) :date "Wed Jan  7 16:16:22 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-open))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-53.el5/pre-build/kernel-2.6.18/linux-2.6.18.i386/mm/page_alloc.c" :point 21078 :coding-system undecided-unix :line 790 :which-func "buffered_rmqueue")) :annotation-list ((annotation :type text :data "cpu毎にそれぞれページプールがある？")) :date "Wed Jan  7 16:20:34 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-open))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-53.el5/pre-build/kernel-2.6.18/linux-2.6.18.i386/mm/swap.c" :point 11906 :coding-system undecided-unix :line 478 :which-func "__pagevec_lru_add")) :annotation-list ((annotation :type text :data "まずはinactiveからスタート")) :date "Wed Jan  7 16:23:50 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-open))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-53.el5/pre-build/kernel-2.6.18/linux-2.6.18.i386/mm/filemap.c" :point 57335 :coding-system undecided-unix :line 2187 :which-func "generic_file_buffered_write")) :annotation-list ((annotation :type text :data "ここでコピー")) :date "Wed Jan  7 16:24:46 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-open))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-53.el5/pre-build/kernel-2.6.18/linux-2.6.18.i386/fs/open.c" :point 18334 :coding-system undecided-unix :line 818 :which-func "sys_fchown")) :annotation-list ((annotation :type text :data "ここを経由して address_spaceのopもfに関連付けられる。")) :date "Wed Jan  7 16:28:44 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-open))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-53.el5/pre-build/kernel-2.6.18/linux-2.6.18.i386/mm/filemap.c" :point 66754 :coding-system undecided-unix :line 2551 :which-func "generic_file_write")) :annotation-list ((annotation :type text :data "同じinodeに対する書き込みは競合する。")) :date "Wed Jan  7 16:30:43 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-open))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-53.el5/pre-build/kernel-2.6.18/linux-2.6.18.i386/mm/filemap.c" :point 56876 :coding-system undecided-unix :line 2170 :which-func "generic_file_buffered_write")) :annotation-list ((annotation :type text :data "nfsの場合同じ領域に対する書き込みが過去にあれば、そのページをフラッシュするようだ。")) :date "Wed Jan  7 16:31:18 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-open))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-53.el5/pre-build/kernel-2.6.18/linux-2.6.18.i386/fs/nfs/write.c" :point 22920 :coding-system undecided-unix :line 847 :which-func "nfs_updatepage")) :annotation-list ((annotation :type text :data "syncマウントであれば？")) :date "Wed Jan  7 16:39:14 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-open))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-53.el5/pre-build/kernel-2.6.18/linux-2.6.18.i386/fs/fs-writeback.c" :point 3699 :coding-system undecided-unix :line 127 :which-func "__mark_inode_dirty")) :annotation-list ((annotation :type text :data "superblock毎にdirtyリストがある。\nbackground_writeout関数がスキャンする。")) :date "Wed Jan  7 17:31:15 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-open))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-53.el5/pre-build/kernel-2.6.18/linux-2.6.18.i386/fs/nfs/write.c" :point 7435 :coding-system undecided-unix :line 248 :which-func "nfs_writepage_sync")) :annotation-list ((annotation :type text :data "いよいよNFSプロトコルのwriteメソッドを呼ぶ。")) :date "Wed Jan  7 17:37:56 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-open))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-53.el5/pre-build/kernel-2.6.18/linux-2.6.18.i386/fs/nfs/nfs3proc.c" :point 7291 :coding-system undecided-unix :line 286 :which-func "nfs3_proc_write")) :annotation-list ((annotation :type text :data "このargsの中にpageが埋まっている。")) :date "Wed Jan  7 17:40:37 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-open))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/n/net-snmp/5.0.9-2.30E.15/pre-build/net-snmp-5.0.9/snmplib/system.c" :point 8218 :coding-system undecided-unix :line 364 :which-func "get_myaddr" :surround ("family = AF_INET;\n        remote_in_addr.sin_port = htons(IPPORT_ECHO);\n" "" "        remote_in_addr.sin_addr.s_addr = inet_addr(\"128.22.33.11\");\n    ") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "と思ったらここはwin32")) :date "Thu Jan  8 20:32:53 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-open))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/d/device-mapper-multipath/0.4.7-8.el5/pre-build/multipath-tools-0.4.7.rhel5.2/kpartx/kpartx.c" :point 1396 :coding-system undecided-unix :line 76 :which-func "initpts" :surround ("t].type = t;\n\tpts[ptct].fn = f;\n\tptct++;\n}\n\nstatic void\ninitpts(void)\n{\n" "" "\taddpts(\"gpt\", read_gpt_pt);\n\taddpts(\"dos\", read_dos_pt);\n\taddpts(\"bsd\",") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "ここにあるメソッドでプローブ総当たり")) :date "Wed Jan 14 21:32:19 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-kpartx))
(stitch-annotation :version 0 :target-list ((target :type directory :directory "/srv/sources/dists/f9/packages/j/java-1.6.0-openjdk/pre-build/icedtea6-1.2/" :item "mauve-2008-03-11")) :annotation-list ((annotation :type text :data "cygnusで作っていたJavaの実行環境に対するテスト群")) :date "Thu Jan 29 17:02:57 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openjdk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/2.0.84-2.el5/pre-build/cman-2.0.84/cman/daemon/ais.c" :point 15547 :coding-system undecided-unix :line 526 :which-func "comms_init_ais" :surround ("_handle, \"secauth\", strlen(\"secauth\"),\n\t\t\t\t\t\t tmp, strlen(tmp)+1);\n\t\t}\n\n" "" "\t\tif (key_filename)\n\t\t{\n\t\t\tobjdb->object_key_create(object_handle, \"keyf") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "キーの作り方")) :date "Fri Jan 30 12:35:45 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/r/rgmanager/2.0.38-2.el5/pre-build/rgmanager-2.0.38/src/clulib/vft.c" :point 17291 :coding-system undecided-unix :line 826 :which-func "vf_event_loop" :surround ("sgctx_t *ctx, int my_node_id)\n{\n\tint n;\n\tgeneric_msg_hdr *hdrp = NULL;\n\n" "" "\tif (msg_wait(ctx, 3) != 0) {\n\n\t\tn = msg_receive_simple(ctx, &hdrp, 2);\n") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "3秒でタイムアウト")) :date "Fri Feb 27 18:15:44 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rgmanager-view-formation-for-wireshark))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/r/rgmanager/2.0.38-2.el5/pre-build/rgmanager-2.0.38/src/clulib/vft.c" :point 17322 :coding-system undecided-unix :line 828 :which-func "vf_event_loop" :surround ("\n\tint n;\n\tgeneric_msg_hdr *hdrp = NULL;\n\n\tif (msg_wait(ctx, 3) != 0) {\n\n" "" "\t\tn = msg_receive_simple(ctx, &hdrp, 2);\n\n\t\tif (n <= 0 || !hdrp) {\n\t\t\tre") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "2秒でタイムアウト")) :date "Fri Feb 27 18:16:07 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rgmanager-view-formation-for-wireshark))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel4u5/packages/p/pam/pre-build/Linux-PAM-0.77/modules/pam_loginuid/pam_loginuid.c" :point 1753 :coding-system undecided-unix :line 68 :which-func "set_loginuid")) :annotation-list ((annotation :type text :data "%uだろ。")) :date "Tue Apr  7 20:23:52 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-pam-audit-loginuid))
(stitch-annotation :version 0 :target-list ((target :type file :file "/var/lib/srpmix/sources/r/rpm/4.6.0-2.fc10/pre-build/rpm-4.6.0/lib/backend/db3.c" :point 25249 :coding-system undecided-unix :line 932 :which-func "db3open" :surround ("ose = 0;\n\n    if (dbi->dbi_use_dbenv) {\n\tif (rpmdb->db_dbenv == NULL) {\n" "" "\t    rc = db_init(dbi, dbhome, dbfile, dbsubfile, &dbenv);\n\t    if (rc =") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "ここから")) :date "Wed Apr 22 18:39:23 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-sources-rpm-kill0))
(stitch-annotation :version 0 :target-list ((target :type file :file "/var/lib/srpmix/sources/r/rpm/4.6.0-2.fc10/pre-build/rpm-4.6.0/lib/backend/db3.c" :point 25509 :coding-system undecided-unix :line 944 :which-func "db3open" :surround ("db_opens++;\n\t}\n    }\n\n    {\tchar *dbiflags = prDbiOpenFlags(oflags, 0);\n" "" "    \trpmlog(RPMLOG_DEBUG, \"opening  db index       %s/%s %s mode=0x%x\\n\"") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "ここまで")) :date "Wed Apr 22 18:39:31 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-sources-rpm-kill0))
(stitch-annotation :version 0 :target-list ((target :type file :file "/var/lib/srpmix/sources/c/compat-db/4.6.21-5.fc10/pre-build/compat-db-4.6.21/db-4.5.20/env/env_failchk.c" :point 3916 :coding-system undecided-unix :line 168 :which-func "__env_in_api" :surround ("READ_OUT &&\n\t\t\t    thread->thr_count <  thread->thr_max))\n\t\t\t\tcontinue;\n" "" "\t\t\tif (dbenv->is_alive(\n\t\t\t    dbenv, ip->dbth_pid, ip->dbth_tid, 0))\n\t\t") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "ここの先でkill(pid, 0)している。")) :date "Wed Apr 22 19:18:57 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-sources-rpm-kill0))
(stitch-annotation :version 0 :target-list ((target :type file :file "/var/lib/srpmix/sources/r/rpm/4.6.0-2.fc10/pre-build/rpm-4.6.0/lib/backend/db3.c" :point 8364 :coding-system undecided-unix :line 287 :which-func "db_init" :surround ("\n     * thread_count 8 is some kind of \"magic minimum\" value...\n     */\n" "" "    dbenv->set_thread_count(dbenv, 8);\n    dbenv->set_isalive(dbenv, db3") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "ここでスレッド数を与えている。")) :date "Wed Apr 22 20:33:58 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-sources-rpm-kill0))
(stitch-annotation :version 0 :target-list ((target :type file :file "/var/lib/srpmix/sources/r/rpm/4.6.0-2.fc10/pre-build/rpm-4.6.0/lib/backend/db3.c" :point 8403 :coding-system undecided-unix :line 288 :which-func "db_init" :surround ("\"magic minimum\" value...\n     */\n    dbenv->set_thread_count(dbenv, 8);\n" "" "    dbenv->set_isalive(dbenv, db3isalive);\n#endif\n\n    if ((dbi->dbi_ecf") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "ここでkill(pig, 0)するハンドラを入れている。")) :date "Wed Apr 22 20:34:05 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-sources-rpm-kill0))
(stitch-annotation :version 0 :target-list ((target :type file :file "/var/lib/srpmix/sources/r/rpm/4.6.0-2.fc10/pre-build/rpm-4.6.0/lib/backend/db3.c" :point 10862 :coding-system undecided-unix :line 371 :which-func "db_init" :surround ("key);\n\txx = cvtdberr(dbi, \"dbenv->set_shm_key\", xx, _debug);\n    }\n  }\n\n" "" "    rc = (dbenv->open)(dbenv, dbhome, eflags, dbi->dbi_perms);\n    rc = ") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "ここからさきでスレッドを準備か。")) :date "Wed Apr 22 21:45:03 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-sources-rpm-kill0))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-128.el5/pre-build/kernel-2.6.18/linux-2.6.18.i386/drivers/scsi/scsi_transport_fc.c" :point 66887 :coding-system undecided-unix :line 2174 :which-func "fc_remote_port_add")) :annotation-list ((annotation :type text :data "(ot -> to)タイポ")) :date "Fri Jul 10 15:07:58 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (need-report))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-128.el5/pre-build/kernel-2.6.18/linux-2.6.18.i386/drivers/scsi/qla2xxx/qla_os.c" :point 63575 :coding-system undecided-unix :line 2478 :which-func "qla2x00_free_sp_pool")) :annotation-list ((annotation :type text :data "up up")) :date "Fri Jul 10 15:41:18 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (need-report))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/.rawhide/srpmix/sources/c/cman/2.0.98-1.el5_3.4/pre-build/cman-2.0.98/cman/qdisk/disk.h" :point 1938 :coding-system undecided-unix :line 72)) :annotation-list ((annotation :type text :data "なんだこれは？")) :date "Wed Jul 29 20:26:07 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/2.0.98-1.el5_3.4/pre-build/cman-2.0.98/cman/qdisk/main.c" :point 19851 :coding-system undecided-unix :line 841 :which-func "cman_alive" :surround ("\tif (errno == EAGAIN)\n\t\t\t\treturn 0;\n\t\t\treturn -1;\n\t\t}\n\t}\n\treturn 0;\n}\n\n\n" "" "int\nquorum_loop(qd_ctx *ctx, node_info_t *ni, int max)\n{\n\tdisk_msg_t msg") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "ハブ関数である。")) :date "Wed Jul 29 20:31:42 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/.rawhide/srpmix/sources/o/openais/0.80.3-15.el5/pre-build/openais-0.80.3/lib/util.c" :point 3582 :coding-system undecided-unix :line 122 :which-func "saServiceConnect")) :annotation-list ((annotation :type text :data "先頭の0バイトを潰している。")) :date "Tue Aug  4 17:09:55 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/.rawhide/srpmix/sources/c/cman/2.0.84-2.el5/pre-build/cman-2.0.84/group/dlm_controld/deadlock.c" :point 29244 :coding-system undecided-unix :line 1232 :which-func "deliver_cb")) :annotation-list ((annotation :type text :data "デコードが必要")) :date "Wed Aug  5 14:28:44 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su2/packages/c/cman/pre-build/cman-2.0.84/group/lib/libgroup.h" :point 2838 :coding-system undecided-unix :line 78 :surround ("\n\n/*\n * Querying for group information\n */\n\ntypedef struct group_data {\n" "" "\tchar client_name[32+1];\n\tchar name[MAX_GROUP_NAME_LEN+1];\n\tint level;\n\t") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "プロセスの名前")) :date "Fri Aug  7 13:36:43 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su2/packages/c/cman/pre-build/cman-2.0.84/group/lib/libgroup.h" :point 2863 :coding-system undecided-unix :line 79 :surround ("p information\n */\n\ntypedef struct group_data {\n\tchar client_name[32+1];\n" "" "\tchar name[MAX_GROUP_NAME_LEN+1];\n\tint level;\n\tunsigned int id;\n\tint mem") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "グループの名前、一つのプロセスに複数のグループが存在しえる。")) :date "Fri Aug  7 13:37:25 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/.rawhide/srpmix/sources/o/openais/0.80.3-22.el5_3.8/pre-build/openais-0.80.3/exec/cpg.c" :point 27280 :coding-system undecided-unix :line 912 :which-func "message_handler_req_lib_cpg_join")) :annotation-list ((annotation :type text :data "これが初期値")) :date "Fri Aug  7 13:58:02 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su2/packages/c/cman/pre-build/cman-2.0.84/group/lib/libgroup.h" :point 2069 :coding-system undecided-unix :line 53 :surround ("ar *name,\n\t\t\t        int nodeid, int len, char *buf);\n\ntypedef struct {\n" "" "\tgroup_stop_t stop;\n\tgroup_start_t start;\n\tgroup_finish_t finish;\n\tgroup") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "メンバーの出入りがあったので、一旦アプリケーション(groupdのクライアント)に動作休止を依頼。")) :date "Fri Aug  7 14:10:23 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su2/packages/c/cman/pre-build/cman-2.0.84/group/lib/libgroup.h" :point 2089 :coding-system undecided-unix :line 54 :surround (" int nodeid, int len, char *buf);\n\ntypedef struct {\n\tgroup_stop_t stop;\n" "" "\tgroup_start_t start;\n\tgroup_finish_t finish;\n\tgroup_terminate_t termina") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "再開か？")) :date "Fri Aug  7 14:10:47 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type directory :directory "/srv/sources/.rawhide/srpmix/sources/b/bind/9.2.4-20.EL3/pre-build/bind-9.2.4/lib/" :item "isccc")) :annotation-list ((annotation :type text :data "雑物")) :date "Fri Aug  7 16:05:51 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-bind))
(stitch-annotation :version 0 :target-list ((target :type directory :directory "/srv/sources/.rawhide/srpmix/sources/b/bind/9.2.4-20.EL3/pre-build/bind-9.2.4/lib/" :item "isc")) :annotation-list ((annotation :type text :data "便利物")) :date "Fri Aug  7 16:06:29 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-bind))
(stitch-annotation :version 0 :target-list ((target :type directory :directory "/srv/sources/.rawhide/srpmix/sources/b/bind/9.2.4-20.EL3/pre-build/bind-9.2.4/lib/" :item "isccfg")) :annotation-list ((annotation :type text :data "configとlog関係")) :date "Fri Aug  7 16:08:34 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-bind))
(stitch-annotation :version 0 :target-list ((target :type directory :directory "/srv/sources/.rawhide/srpmix/sources/b/bind/9.2.4-20.EL3/pre-build/bind-9.2.4/lib/" :item "lwres")) :annotation-list ((annotation :type text :data "軽量リゾルバ")) :date "Fri Aug  7 16:09:07 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-bind))
(stitch-annotation :version 0 :target-list ((target :type directory :directory "/srv/sources/.rawhide/srpmix/sources/b/bind/9.2.4-20.EL3/pre-build/bind-9.2.4/lib/" :item "dns")) :annotation-list ((annotation :type text :data "RFCか？")) :date "Fri Aug  7 16:10:52 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-bind))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/.rawhide/srpmix/sources/b/bind/9.2.4-20.EL3/pre-build/bind-9.2.4/lib/dns/resolver.c" :point 133438 :coding-system undecided-unix :line 5282 :which-func "dns_resolver_createfetch")) :annotation-list ((annotation :type text :data "clientのview毎にresolverがあり、名前をハッシュキーとして、\nresolverからfctxを取り出す。")) :date "Fri Aug  7 16:42:14 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-bind))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/.rawhide/srpmix/sources/b/bind/9.2.4-20.EL3/pre-build/bind-9.2.4/lib/dns/resolver.c" :point 61207 :coding-system undecided-unix :line 2434 :which-func "fctx_create")) :annotation-list ((annotation :type text :data "ここでfctxをhashtableに入れる。")) :date "Fri Aug  7 16:50:40 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-bind))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/.rawhide/srpmix/sources/b/bind/9.2.4-20.EL3/pre-build/bind-9.2.4/lib/dns/resolver.c" :point 53929 :coding-system undecided-unix :line 2161 :which-func "fctx_start")) :annotation-list ((annotation :type text :data "Jul 29 21:54:05.317 fctx 0x3ff11d10: start")) :date "Fri Aug  7 17:00:58 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-bind))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/.rawhide/srpmix/sources/b/bind/9.2.4-20.EL3/pre-build/bind-9.2.4/lib/dns/resolver.c" :point 11484 :coding-system undecided-unix :line 384 :which-func "fctx_starttimer")) :annotation-list ((annotation :type text :data "fctx->expires初期値30秒か。")) :date "Fri Aug  7 17:03:38 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-bind))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/.rawhide/srpmix/sources/b/bind/9.2.4-20.EL3/pre-build/bind-9.2.4/bin/named/query.c" :point 57104 :coding-system undecided-unix :line 2151 :which-func "query_recurse")) :annotation-list ((annotation :type text :data "forwarders => NULL")) :date "Fri Aug  7 17:22:29 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-bind))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/.rawhide/srpmix/sources/b/bind/9.2.4-20.EL3/pre-build/bind-9.2.4/lib/dns/resolver.c" :point 43455 :coding-system undecided-unix :line 1701 :which-func "fctx_getaddresses")) :annotation-list ((annotation :type text :data "ここでpendingがインクリメントされると次の人がwaitさせられる。")) :date "Fri Aug  7 18:32:38 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-bind))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/.rawhide/srpmix/sources/b/bind/9.2.4-20.EL3/pre-build/bind-9.2.4/lib/dns/resolver.c" :point 117792 :coding-system undecided-unix :line 4615 :which-func "resquery_response")) :annotation-list ((annotation :type text :data "\"noanswer_response\"が出るのはどの条件だろうか？")) :date "Thu Aug 13 23:35:20 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-bind))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/o/openais/0.80.6-8.el5_4.1/pre-build/openais-0.80.6/exec/totemsrp.c" :point 37416 :coding-system undecided-unix :line 1425 :which-func "timer_function_orf_token_timeout" :surround ("TIONAL state.\\n\");\n\t\t\ttotemrrp_iface_check (instance->totemrrp_handle);\n" "" "\t\t\tmemb_state_gather_enter (instance, 2);\n\t\t\tbreak;\n\n\t\tcase MEMB_STATE_G") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "トークンが来なかった。gatherへ。")) :date "Tue Nov 17 14:35:17 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-totem))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/o/openais/0.80.6-8.el5_4.1/pre-build/openais-0.80.6/exec/totemsrp.c" :point 103104 :coding-system undecided-unix :line 3779 :which-func "memb_join_process" :surround ("_consensus_agreed (instance) &&\n\t\t\tmemb_lowest_in_config (instance)) {\n\n" "" "\t\t\tmemb_state_commit_token_create (instance, my_commit_token);\n\t\n\t\t\tmemb") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "自分がrepresentativeの場合、トークンを作る。")) :date "Tue Nov 17 14:46:59 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-totem))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/o/openais/0.80.6-8.el5_4.1/pre-build/openais-0.80.6/exec/totemsrp.c" :point 6767 :coding-system undecided-unix :line 224 :which-func "memb_join" :surround ("ribute__((packed));\n\n\nstruct memb_join {\n\tstruct message_header header;\n" "" "\tstruct srp_addr system_from;\n\tunsigned int proc_list_entries;\n\tunsigned") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "a.k.a. sender_id ")) :date "Tue Nov 17 18:30:08 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-totem))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/o/openais/0.80.6-8.el5_4.1/pre-build/openais-0.80.6/exec/totemsrp.c" :point 6797 :coding-system undecided-unix :line 225 :which-func "memb_join" :surround ("emb_join {\n\tstruct message_header header;\n\tstruct srp_addr system_from;\n" "" "\tunsigned int proc_list_entries;\n\tunsigned int failed_list_entries;\n\tuns") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "proc_set")) :date "Tue Nov 17 18:30:53 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-totem))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/o/openais/0.80.6-8.el5_4.1/pre-build/openais-0.80.6/exec/totemsrp.c" :point 6830 :coding-system undecided-unix :line 226 :which-func "memb_join" :surround (" header;\n\tstruct srp_addr system_from;\n\tunsigned int proc_list_entries;\n" "" "\tunsigned int failed_list_entries;\n\tunsigned long long ring_seq;\n\tunsign") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "fail_set")) :date "Tue Nov 17 18:31:01 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-totem))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/o/openais/0.80.6-8.el5_4.1/pre-build/openais-0.80.6/exec/totempg.c" :point 9917 :coding-system undecided-unix :line 326 :which-func "app_confchg_fn" :surround ("_groups_instance_database,\n\t\t\ti, (void *)&instance);\n\n\t\tif (res == 0) {\n" "" "\t\t\tif (instance->confchg_fn) {\n\t\t\t\tinstance->confchg_fn (\n\t\t\t\t\tconfigura") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "instanceはlcrで注入されている。")) :date "Tue Nov 17 22:00:52 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-totem))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/o/openais/0.80.6-8.el5_4.1/pre-build/openais-0.80.6/exec/clm.c" :point 14680 :coding-system undecided-unix :line 498 :which-func "clm_confchg_fn" :surround ("_handle, &req_exec_clm_iovec, 1, TOTEMPG_AGREED);\n\n\treturn (result);\n}\n\n" "" "static void clm_confchg_fn (\n\tenum totem_configuration_type configuratio") :surround-attached-by attach-surrounding)) :annotation-list ((annotation :type text :data "totempgの層から呼び出される。")) :date "Tue Nov 17 22:01:20 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-totem))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/2.0.115-1.el5/pre-build/cman-2.0.115/group/gfs_controld/group.c" :point 4123 :coding-system undecided-unix :line 181 :surround ("\tint rv;\n" "" "\n\tgh = group_init(NULL, LOCK_DLM_GROUP_NAME, LOCK_DLM_GROUP_LEVEL,") :which-func "setup_groupd")) :annotation-list ((annotation :type text :data "第3引数 level でrecoverの優先度が決まる。")) :date "Wed Jan 13 15:34:37 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/2.0.115-1.el5_4.3/pre-build/cman-2.0.115/fence/fenced/group.c" :point 3576 :coding-system undecided-unix :line 162 :surround ("\n" "" "\tgh = group_init(NULL, \"fence\", 0, &callbacks, GROUPD_TIMEOUT);\n\tif (!gh) {") :which-func "setup_groupd")) :annotation-list ((annotation :type text :data "level -> 0 優先度が最も高い。")) :date "Wed Jan 13 15:35:11 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/2.0.115-1.el5_4.3/pre-build/cman-2.0.115/group/dlm_controld/group.c" :point 4725 :coding-system undecided-unix :line 218 :surround ("\n" "" "\tgh = group_init(NULL, \"dlm\", 1, &callbacks, GROUPD_TIMEOUT);\n\tif (!gh) {") :which-func "setup_groupd")) :annotation-list ((annotation :type text :data "優先度1. gfsより高いな。")) :date "Wed Jan 13 15:36:16 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/2.0.98-1.el5_3.8/pre-build/cman-2.0.98/fence/fenced/recover.c" :point 927 :coding-system undecided-unix :line 26 :surround ("   - complete = list of nodes in previous completed fence domain\n" "" "   - cl_nodes = list of current domain members provided by start\n   - victims = list of nodes in complete that are not in cl_nodes"))) :annotation-list ((annotation :type text :data "cl_nodes: そんなものはない。")) :date "Wed Jan 13 17:16:37 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/2.0.98-1.el5_3.8/pre-build/cman-2.0.98/fence/fenced/recover.c" :point 1058 :coding-system undecided-unix :line 28 :surround ("   - victims = list of nodes in complete that are not in cl_nodes\n" "" "   - prev = saved version of cl_nodes (in list format)\n   - fence_victims() fences nodes in victims list"))) :annotation-list ((annotation :type text :data "groupdからのDO_STARTによるフェンスをする(do_recoveryする)。\nDO_STARTには付随情報としてgroupdが活きていると認識している全ノードのリストが送られてくるので、\nこれををprevに保存し、fencingが終ったらprevの内容をcompleteに移す。")) :date "Wed Jan 13 17:17:55 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/2.0.98-1.el5_3.8/pre-build/cman-2.0.98/fence/fenced/recover.c" :point 992 :coding-system undecided-unix :line 27 :surround ("   - cl_nodes = list of current domain members provided by start\n" "" "   - victims = list of nodes in complete that are not in cl_nodes\n   - prev = saved version of cl_nodes (in list format)"))) :annotation-list ((annotation :type text :data "completeにあって、groupdよりやってくるDO_START付属の情報: 現在groupdが認識している\n活きているノードの一覧にないノードをかつて存在したが消失したノードとして、victimsに\n追加して、フェンスする。")) :date "Wed Jan 13 17:19:27 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/2.0.98-1.el5_3.8/pre-build/cman-2.0.98/fence/fenced/recover.c" :point 927 :coding-system undecided-unix :line 26 :surround ("   - complete = list of nodes in previous completed fence domain\n" "" "   - cl_nodes = list of current domain members provided by start\n   - victims = list of nodes in complete that are not in cl_nodes"))) :annotation-list ((annotation :type text :data "古いバージョンの名残りで、groupdから来るDO_STARTの付随情報を指していると考えられる。")) :date "Wed Jan 13 17:22:52 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/2.0.98-1.el5_3.8/pre-build/cman-2.0.98/fence/fenced/recover.c" :point 862 :coding-system undecided-unix :line 25 :surround ("   do_recovery (service event start)\n" "" "   - complete = list of nodes in previous completed fence domain\n   - cl_nodes = list of current domain members provided by start"))) :annotation-list ((annotation :type text :data "最後にdomainが形成されたときの形成ノード群。初期化時は、ccsより\n取ってきたノード名一覧を使う。")) :date "Wed Jan 13 17:23:44 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-openais-cman))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/z/zip/3.0-1.fc13/pre-build/zip30/unix/unix.c" :point 6923 :coding-system undecided-unix :line 257 :surround ("  while (*t == '/')\n" "" "    t++;                /* strip leading '/' chars to get a relative path */\n  while (*t == '.' && t[1] == '/')") :which-func "ex2in")) :annotation-list ((annotation :type text :data "飛ばすんだ。")) :date "Thu Feb 25 20:38:39 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-slash-char-in-filename-in-zipfile))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/z/zip/3.0-1.fc13/pre-build/zip30/zip.c" :point 151752 :coding-system undecided-unix :line 4580 :surround ("            else\n" "" "              f = fopen(fn, \"w\");\n          }") :which-func "zipmain")) :annotation-list ((annotation :type text :data "ここは関係無い。")) :date "Thu Feb 25 20:43:26 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-slash-char-in-filename-in-zipfile))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-164.el5/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/fs/buffer.c" :point 6142 :coding-system undecided-unix :line 245 :surround ("\n" "" "\t\tsync_blockdev(sb->s_bdev);\n") :which-func "freeze_bdev")) :annotation-list ((annotation :type text :data "これでsyncしてくれる。")) :date "Mon May 10 17:04:42 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-fs-freeze))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/b/bash/4.1.5-1.fc14/pre-build/bash-4.1/execute_cmd.c" :point 132052 :coding-system undecided-unix :line 4803 :surround ("\n" "" "  /* If we get to this point, then start checking out the file.\n     Maybe it is something we can hack ourselves. */") :which-func "shell_execve")) :annotation-list ((annotation :type text :data "#!で始まっていないシェルスクリプトを実行するとカーネルが拒否して(ENOEXEC)\nexecveから返ってくる。")) :date "Fri May 14 16:52:53 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-exec-without-shbang))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-194.3.1.el5/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/net/core/dev.c" :point 45478 :coding-system undecided-unix :line 1791 :surround ("\t\t\tif (spin_trylock(&dev->queue_lock)) {\n" "" "\t\t\t\tqdisc_run(dev);\n\t\t\t\tspin_unlock(&dev->queue_lock);") :which-func "net_tx_action")) :annotation-list ((annotation :type text :data "実際にデバイスに送信を依頼するのはこちら。")) :date "Mon May 17 15:02:06 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-net-xmit-path))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-194.3.1.el5/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/net/sched/sch_generic.c" :point 4932 :coding-system undecided-unix :line 191 :surround ("\n" "" "\twhile (qdisc_restart(dev) < 0) {\n\t\tif (netif_queue_stopped(dev))") :which-func "__qdisc_run")) :annotation-list ((annotation :type text :data "この先でデバイスの送信メソッドを呼ぶ。")) :date "Mon May 17 15:02:43 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-net-xmit-path))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su5/packages/k/kernel/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/drivers/serial/8250.c" :point 70311 :coding-system undecided-unix :line 2764 :surround ("\n" "" "\t\tret = uart_add_one_port(&serial8250_reg, &uart->port);\n\t\tif (ret == 0)") :which-func "serial8250_register_port")) :annotation-list ((annotation :type text :data "この中から2行目を出している。")) :date "Wed May 26 22:47:18 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-kdump-vs-serial))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^lcopy-trunk/pre-build/linux-2.6/arch/x86/mm/fault.c" :point 16109 :coding-system undecided-unix :line 700 :surround ("\n" "" "\tprintk(KERN_CONT \"\\n\");\n}") :which-func "show_signal_msg")) :annotation-list ((annotation :type text :data "この後にprocess treeを出す。")) :date "Mon Jun 14 15:26:50 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-print-kprocess-tree-after-coredump))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/e/esc/1.1.0-11.el5/pre-build/esc-1.1.0/esc/src/app/daemon/escd.cpp" :point 2014 :coding-system undecided-unix :line 80 :surround ("\n" "" "    PR_LOG( escDLog, PR_LOG_DEBUG, (\"%s Daemon: Nmber of args! %d \\n\",GetTStamp(tBuff,56),argc));\n") :which-func "ESC_D::init")) :annotation-list ((annotation :type text :data "Nmber => Number")) :date "Wed Jun 16 15:47:54 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (need-report))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-53.1.4.el5/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/include/linux/sched.h" :point 17126 :coding-system undecided-unix :line 529 :surround ("\tatomic_t processes;\t/* How many processes does this user have? */\n" "" "\tatomic_t files;\t\t/* How many open files does this user have? */\n\tatomic_t sigpending;\t/* How many pending signals does this user have? */") :which-func "user_struct")) :annotation-list ((annotation :type text :data "使っていない。")) :date "Wed Jul  7 15:34:14 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-user-files-field))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/2.0.98-1.el5_3.8/pre-build/cman-2.0.98/fence/fenced/main.c" :point 2424 :coding-system undecided-unix :line 106 :surround ("\n" "" "\tif (comline.clean_start_opt == FALSE) {\n\t\tstr = NULL;") :which-func "setup_ccs")) :annotation-list ((annotation :type text :data "優先順位: コマンドライン, ローカルで動作するccsd(cluster.conf)、ハードコードされている値(0)")) :date "Tue Aug 10 22:31:21 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-fenced-clean-start))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/2.0.98-1.el5_3.8/pre-build/cman-2.0.98/fence/fenced/main.c" :point 4344 :coding-system undecided-unix :line 184 :surround ("\t\tlog_debug(\"clean start, skipping initial nodes\");\n" "" "\t\tgoto out;\n\t}") :which-func "setup_ccs")) :annotation-list ((annotation :type text :data "clean_startだとgoto outしてしまうので、\n初期のクラスターノードリストは空になる。")) :date "Tue Aug 10 22:34:30 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-fenced-clean-start))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^lcopy-trunk/pre-build/linux-2.6/net/netfilter/nf_conntrack_ftp.c" :point 2126 :coding-system undecided-unix :line 71 :surround ("\t\t{\n" "" "\t\t\t.pattern\t= \"PORT\",\n\t\t\t.plen\t\t= sizeof(\"PORT\") - 1,"))) :annotation-list ((annotation :type text :data "patternをスキャンして")) :date "Wed Nov 10 21:19:55 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ftp-conntrack))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^lcopy-trunk/pre-build/linux-2.6/net/netfilter/nf_conntrack_ftp.c" :point 2245 :coding-system undecided-unix :line 76 :surround ("\t\t\t.ftptype\t= NF_CT_FTP_PORT,\n" "" "\t\t\t.getnum\t\t= try_rfc959,\n\t\t},"))) :annotation-list ((annotation :type text :data "getnumで残りも文字列を読んで情報を得る。")) :date "Wed Nov 10 21:20:19 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ftp-conntrack))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su6/packages/c/cman/pre-build/cman-2.0.115/cman/qdisk/main.c" :point 26053 :coding-system undecided-unix :line 1064 :surround ("\t\t\t\t}\n" "" "\t\t\t\tif (!errors && \n\t\t\t\t    (!(ctx->qc_flags & RF_MASTER_WINS)))") :which-func "quorum_loop")) :annotation-list ((annotation :type text :data "エラーもおこっておらず、master winsでもなければ、ここでqdiskのvoteを維持する。")) :date "Wed Mar  2 23:28:51 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk-masterwins))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-71.el6/pre-build/kernel-2.6.32-71.el6/linux-2.6.32-71.el6.x86_64/arch/x86/include/asm/futex.h" :point 2744 :coding-system undecided-unix :line 112 :surround ("\n" "" "static inline int futex_atomic_cmpxchg_inatomic(int __user *uaddr, int oldval,\n\t\t\t\t\t\tint newval)") :which-func "futex_atomic_cmpxchg_inatomic")) :annotation-list ((annotation :type text :data "cmpxchgl src, dest\n\ncmpxchgl newval, *uaddr\n\noldval(=eax)とnewvalの値を比較する。\nもし等しけれは、uaddrの先にnewvalが\nロードされる。等しくなければuaddr\nの先の値がoldvalにロードされる。\n\nuaddrアクセス時にpage faultが発生したら\noldvalに-EFAULTを設定して再試行")) :date "Sat Mar 19 04:59:20 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-futex))
(stitch-annotation :version 0 :target-list ((target :type file :file "/usr/src/debug/glibc-2.10.1-69-gaa152ec/nptl/sysdeps/unix/sysv/linux/x86_64/lowlevellock.S" :point 3616 :coding-system undecided-unix :line 134 :surround ("1:\tmovl\t$SYS_futex, %eax\n" "" "\tsyscall\n"))) :annotation-list ((annotation :type text :data " * Register setup:\n * rax  system call number\n * rdi  arg0\n * rcx  return address for syscall/sysret, C arg3\n * rsi  arg1\n * rdx  arg2\n * r10  arg3 \t(--> moved to rcx for C)\n * r8   arg4\n * r9   arg5\n * r11  eflags for syscall/sysret, temporary for C\n * r12-r15,rbp,rbx saved by C code, not touched.")) :date "Tue Mar 22 17:24:11 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-futex))
(stitch-annotation :version 0 :target-list ((target :type file :file "/usr/src/debug/glibc-2.10.1-69-gaa152ec/nptl/sysdeps/unix/sysv/linux/x86_64/lowlevellock.S" :point 3616 :coding-system undecided-unix :line 134 :surround ("1:\tmovl\t$SYS_futex, %eax\n" "" "\tsyscall\n"))) :annotation-list ((annotation :type text :data "int futex(int *uaddr,  /* rdi */\n          int op,      /* rsi */\n          int val,     /* rdx */\n          const struct timespec *timeout, /* rcs/r10? */\n          int *uaddr2, /* r8 */\n          int val3);   /* r9 */")) :date "Tue Mar 22 17:24:39 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-futex))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/r/rgmanager/2.0.52-9.el5/pre-build/rgmanager-2.0.52/src/resources/lvm_by_vg.sh" :point 1709 :coding-system undecided-unix :line 72 :surround ("{\n" "" "\tif ! strip_tags; then\n\t\tocf_log err \"Failed to remove tags from volume group, $OCF_RESKEY_vg_name\"") :which-func #("strip_and_add_tag" 0 17 (fontified t)))) :annotation-list ((annotation :type text :data "全てのタグを除去して、")) :date "Wed Mar 23 17:58:04 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ha-lvm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/r/rgmanager/2.0.52-9.el5/pre-build/rgmanager-2.0.52/src/resources/lvm_by_vg.sh" :point 1840 :coding-system undecided-unix :line 77 :surround ("\n" "" "\tvgchange --addtag $(local_node_name) $OCF_RESKEY_vg_name\n\tif [ $? -ne 0 ]; then") :which-func #("strip_and_add_tag" 0 17 (fontified t)))) :annotation-list ((annotation :type text :data "自分の名前を付与")) :date "Wed Mar 23 17:58:55 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ha-lvm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/r/rgmanager/2.0.52-9.el5/pre-build/rgmanager-2.0.52/src/resources/lvm_by_vg.sh" :point 6030 :coding-system undecided-unix :line 256 :surround ("\tif ! strip_and_add_tag ||\n" "" "\t   ! vgchange -ay $OCF_RESKEY_vg_name; then\n\t\tocf_log err \"Failed to activate volume group, $OCF_RESKEY_vg_name\"") :which-func #("vg_start_single" 0 15 (fontified t)))) :annotation-list ((annotation :type text :data "tagとして自分の名前を付与したvgについては、-ayでアクティベートされる。")) :date "Wed Mar 23 17:59:39 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ha-lvm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/r/rgmanager/2.0.52-9.el5/pre-build/rgmanager-2.0.52/src/daemons/groups.c" :point 30056 :coding-system undecided-unix :line 1374 :surround ("\n" "" "\t\trt_enqueue_request(rg, RG_STATUS,\n\t\t\t\t   NULL, 1, 0, 0, 0);") :which-func "q_status_checks")) :annotation-list ((annotation :type text :data "> 暁さんによればそもそも別々のノードで動くrgmanagerが同時にこの\n> 処理を実行することはなさそうだとのことです。ほぼ間違いなさそうですが、\n> 重要なことなので、機会があればソースコード上で確認しておきたいと思います。\n\n裏をとりました。q_status_checks関数中で\nリソースグループ毎に\n\n\trt_enqueue_request(rg, RG_STATUS,\n\t\t\t\t   NULL, 1, 0, 0, 0);\n\nを呼び出してstatus確認を要請する記述があります。このループ中、\nrt_enqueue_requestを呼び出す前に条件をチェックして必要であれば\nrt_enqueue_requestを呼び出さずcontinueしてループの先頭に戻って\nいます。別々のノードで動くrgmanagerのうちリソースを持っている\nノードだけがstatusをチェックするという動作は、このコードに由来\nすると思います。\n")) :date "Wed Mar 23 20:31:14 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ha-lvm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/packages/f/firefox/kojipkgs-fedoraproject-org-20110330/pre-build/firefox-4.0/mozilla-2.0/toolkit/components/passwordmgr/src/nsLoginManager.js" :point 5800 :coding-system undecided-unix :line 156 :surround ("\n" "" "        // Preferences. Add observer so we get notified of changes.\n        this._prefBranch = Services.prefs.getBranch(\"signon.\");") :which-func "LoginManager")) :annotation-list ((annotation :type text :data "url => about:config\n\nとしてdebugでフィルターして signon.debugをさがして有効にすると標準エラー出力にログが出る?\n\nもしかしたら\n\n    export  NSPR_LOG_MODULES=ALL:5\n    export NSPR_LOG_FILE=firefox.log\n    cd /tmp\n    firefox\n\n    とすると /tmp/firefox.log ができる。\n\nが必要かも。")) :date "Thu Mar 31 11:46:05 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-firefox-oracle-password-manager-issue))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/packages/f/firefox/kojipkgs-fedoraproject-org-20110330/pre-build/firefox-4.0/mozilla-2.0/toolkit/components/passwordmgr/src/nsLoginManager.js" :point 28422 :coding-system undecided-unix :line 798 :surround ("     */\n" "" "    _isAutocompleteDisabled :  function (element) {\n        if (element && element.hasAttribute(\"autocomplete\") &&") :which-func "LoginManager")) :annotation-list ((annotation :type text :data "formで autocompleteをoffとする属性があるかどうかを調べている。")) :date "Thu Mar 31 11:53:19 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-firefox-oracle-password-manager-issue))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/attic/cradles/lcopy.sys/mirror/k/kernel/trunk/pre-build/linux-2.6/arch/x86/kernel/head_32.S" :point 17414 :coding-system undecided-unix :line 729 :surround ("ENTRY(boot_gdt)\n" "" "\t.fill GDT_ENTRY_BOOT_CS,8,0\n\t.quad 0x00cf9a000000ffff\t/* kernel 4GB code at 0x00000000 */"))) :annotation-list ((annotation :type text :data ".fill REPEAT , SIZE , VALUE")) :date "Mon Apr 25 16:32:16 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-thread_local_storage))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/attic/cradles/lcopy.sys/mirror/k/kernel/trunk/pre-build/linux-2.6/arch/x86/kernel/head_32.S" :point 17443 :coding-system undecided-unix :line 730 :surround ("\t.fill GDT_ENTRY_BOOT_CS,8,0\n" "" "\t.quad 0x00cf9a000000ffff\t/* kernel 4GB code at 0x00000000 */\n\t.quad 0x00cf92000000ffff\t/* kernel 4GB data at 0x00000000 */"))) :annotation-list ((annotation :type text :data "このpatternで8バイト埋めろ。\nGDT_ENTRY_BOOT_CSなので、\nここで埋めている1番目が BOOT_CS用、2番目がBOOT_DSとなる。")) :date "Mon Apr 25 16:34:02 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-thread_local_storage))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u0/packages/c/corosync/pre-build/corosync-1.2.3/exec/totemsrp.c" :point 93405 :coding-system undecided-unix :line 3369 :surround ("\tif (token->seq == instance->my_last_seq) {\n" "" "\t\tstart_merge_detect_timeout (instance);\n\t\tinstance->my_seq_unchanged += 1;") :which-func "message_handler_orf_token")) :annotation-list ((annotation :type text :data "メッセージがしばらく流れていない場合、時間と回数それぞにを見て特別な処理を入れる。")) :date "Fri May 27 21:14:14 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-totem))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u0/packages/c/corosync/pre-build/corosync-1.2.3/exec/totemsrp.c" :point 93491 :coding-system undecided-unix :line 3372 :surround ("\t} else {\n" "" "\t\tcancel_merge_detect_timeout (instance);\n\t\tcancel_token_hold_retransmit_timeout (instance);") :which-func "message_handler_orf_token")) :annotation-list ((annotation :type text :data "メッセージが流れている場合")) :date "Fri May 27 21:14:23 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-totem))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/corosync/^lcopy-trunk/pre-build/trunk/exec/totemsrp.c" :point 28093 :coding-system undecided-unix :line 1017 :surround ("\n" "" "unsigned int totemsrp_my_nodeid_get (\n\tvoid *srp_context)") :which-func "totemsrp_my_nodeid_get")) :annotation-list ((annotation :type text :data "自身のnodeidはconfigから取っている。")) :date "Wed Jun  8 18:57:39 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-totem))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/c/cluster/pre-build/cluster-3.0.12/group/dlm_controld/main.c" :point 18403 :coding-system undecided-unix :line 953 :surround ("\n" "" "\tgroup_mode = GROUP_LIBCPG;\n") :which-func "loop")) :annotation-list ((annotation :type text :data "groupdって言ってるけどcpg。")) :date "Fri Jun 10 17:03:57 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-cluster))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/c/cluster/pre-build/cluster-3.0.12/group/dlm_controld/cpg.c" :point 57864 :coding-system undecided-unix :line 2307 :surround ("\n" "" "static cpg_callbacks_t cpg_callbacks_daemon = {\n\t.cpg_deliver_fn = deliver_cb_daemon,") :which-func "confchg_cb_daemon")) :annotation-list ((annotation :type text :data "このファイルにcpg_callbacks_tが2つあるから気をつけろ。\nもう一方がrecoveryにかかわる。")) :date "Fri Jun 10 17:12:56 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-cluster))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/c/cluster/pre-build/cluster-3.0.12/group/dlm_controld/cpg.c" :point 44456 :coding-system undecided-unix :line 1742 :surround ("\n" "" "static cpg_callbacks_t cpg_callbacks = {\n\t.cpg_deliver_fn = deliver_cb,") :which-func "deliver_cb")) :annotation-list ((annotation :type text :data "こっちがリカバリーの本命だ。")) :date "Fri Jun 10 17:13:44 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-cluster))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/c/cluster/pre-build/cluster-3.0.12/group/dlm_controld/cpg.c" :point 39582 :coding-system undecided-unix :line 1551 :surround ("\n" "" "\tstop_kernel(ls, cg->seq);\n") :which-func "confchg_cb")) :annotation-list ((annotation :type text :data "構成変更にあたりここで /sys/kernel/dlm/clvmd/control経由でリカバリーをかけている。")) :date "Fri Jun 10 17:16:03 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-cluster))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cluster/^lcopy-stable31/pre-build/cluster/group/dlm_controld/cpg.c" :point 17504 :coding-system undecided-unix :line 732 :surround ("\tformat_renew_ids(ls);\n" "" "\tset_configfs_members(ls->name, member_count, member_ids,\n\t\t\t     renew_count, renew_ids);") :which-func "start_kernel")) :annotation-list ((annotation :type text :data "startする前にconfigfsで構成を差し込む。")) :date "Fri Jun 10 17:19:28 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-cluster))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/c/cluster/pre-build/cluster-3.0.12/group/dlm_controld/cpg.c" :point 39695 :coding-system undecided-unix :line 1556 :surround ("\n" "" "\tapply_changes(ls);\n") :which-func "confchg_cb")) :annotation-list ((annotation :type text :data "この先でstartt kernel。")) :date "Fri Jun 10 17:24:51 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-cluster))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/c/cluster/pre-build/cluster-3.0.12/group/gfs_controld/cpg-new.c" :point 60284 :coding-system undecided-unix :line 2326 :surround ("\n" "" "\trv = set_sysfs(mg, \"recover\", jid);\n\tif (rv < 0) {") :which-func "start_journal_recovery")) :annotation-list ((annotation :type text :data "ここでジャーナルの再生依頼を出しています。")) :date "Mon Jun 13 17:51:07 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-cluster))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cluster/3.0.7-3.el6/pre-build/cluster-3.0.7/config/plugins/xml/config.c" :point 3499 :coding-system undecided-unix :line 139 :surround ("\t/* load it in objdb */\n" "" "\txml2objdb(root_node, objdb, OBJECT_PARENT_HANDLE);\n") :which-func "init_config")) :annotation-list ((annotation :type text :data "ここでcluster.confをobjdbに押し込む。")) :date "Mon Jun 13 19:50:05 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-cluster))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-71.el6/pre-build/kernel-2.6.32-71.el6/linux-2.6.32-71.el6.x86_64/lib/kobject_uevent.c" :point 4570 :coding-system undecided-unix :line 182 :surround ("\t/* let the kset specific function add its stuff */\n" "" "\tif (uevent_ops && uevent_ops->uevent) {\n\t\tretval = uevent_ops->uevent(kset, kobj, env);") :which-func "kobject_uevent_env")) :annotation-list ((annotation :type text :data "kobject_uevent自体はドライバが直接起動するが、途中でksetに寄り道する。")) :date "Fri Jul  8 22:53:19 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-sysfs))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-71.el6/pre-build/kernel-2.6.32-71.el6/linux-2.6.32-71.el6.x86_64/lib/kobject_uevent.c" :point 4570 :coding-system undecided-unix :line 182 :surround ("\t/* let the kset specific function add its stuff */\n" "" "\tif (uevent_ops && uevent_ops->uevent) {\n\t\tretval = uevent_ops->uevent(kset, kobj, env);") :which-func "kobject_uevent_env")) :annotation-list ((annotation :type text :data "envに情報を連結している。")) :date "Fri Jul  8 22:57:50 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-sysfs))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-71.el6/pre-build/kernel-2.6.32-71.el6/linux-2.6.32-71.el6.x86_64/drivers/base/core.c" :point 8141 :coding-system undecided-unix :line 321 :surround ("\n" "" "static struct device_attribute uevent_attr =\n\t__ATTR(uevent, S_IRUGO | S_IWUSR, show_uevent, store_uevent);") :which-func "store_uevent")) :annotation-list ((annotation :type text :data "ここでueventへ書き込んだ場合やueventから読み出した場合のハンドラを設定している。")) :date "Fri Jul  8 23:47:12 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-sysfs))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/d/device-mapper-multipath/0.4.9-41.el6/pre-build/multipath-tools/libmultipath/discovery.c" :point 1480 :coding-system undecided-unix :line 80 :surround ("\n" "" "\tpp = find_path_by_dev(pathvec, devname);\n") :which-func "path_discover")) :annotation-list ((annotation :type text :data "pathvecにdevnameが登録済みか確認する。")) :date "Fri Jul 29 12:48:28 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/d/device-mapper-multipath/0.4.9-41.el6/pre-build/multipath-tools/libmultipath/configure.c" :point 11695 :coding-system undecided-unix :line 556 :surround ("\n" "" "\t\tr = domap(mpp);\n") :which-func "coalesce_paths")) :annotation-list ((annotation :type text :data "ここで作ったmppをカーネルに投入する。")) :date "Thu Aug  4 22:22:57 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/d/device-mapper-multipath/pre-build/multipath-tools/multipath/multipath.rules" :point 250 :coding-system undecided-unix :line 8 :surround ("\n" "" "ACTION==\"add\", ENV{DEVTYPE}!=\"partition\", \\\n\tENV{DM_MULTIPATH_DEVICE_PATH}!=\"1\", \\"))) :annotation-list ((annotation :type text :data "multipath -c: dry run.")) :date "Tue Aug  9 21:52:51 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/d/device-mapper-multipath/pre-build/multipath-tools/multipath/multipath.rules" :point 429 :coding-system undecided-unix :line 13 :surround ("\n" "" "ENV{DM_MULTIPATH_DEVICE_PATH}==\"1\", ENV{DEVTYPE}!=\"partition\", \\\n\tRUN+=\"/sbin/partx -d --nr 1-1024 $env{DEVNAME}\""))) :annotation-list ((annotation :type text :data "-d:    削除")) :date "Tue Aug  9 22:01:10 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/d/device-mapper-multipath/pre-build/multipath-tools/multipath/multipath.rules" :point 544 :coding-system undecided-unix :line 16 :surround ("\n" "" "RUN+=\"socket:/org/kernel/dm/multipath_event\"\nKERNEL!=\"dm-*\", GOTO=\"end_mpath\""))) :annotation-list ((annotation :type text :data "@が先頭についてない場合であってもソケットファイルがみつからなければ、@がついている場合と同じように\n\\0をパスの先頭につけてソケットへのパスを構築する。\nhttp://sources/dists/rhel6u1/packages/u/udev/pre-build/udev-147/libudev/libudev-monitor.c#L:114")) :date "Tue Aug  9 22:15:54 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/d/device-mapper-multipath/pre-build/multipath-tools/multipath/multipath.rules" :point 544 :coding-system undecided-unix :line 16 :surround ("\n" "" "RUN+=\"socket:/org/kernel/dm/multipath_event\"\nKERNEL!=\"dm-*\", GOTO=\"end_mpath\""))) :annotation-list ((annotation :type text :data "そのままmultipathdへイベントを配送する。")) :date "Tue Aug  9 22:18:21 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/d/device-mapper-multipath/pre-build/multipath-tools/multipath/multipath.rules" :point 657 :coding-system undecided-unix :line 19 :surround ("ACTION!=\"change\", GOTO=\"end_mpath\"\n" "" "ENV{DM_UUID}==\"mpath-?*|part[0-9]*-mpath-?*\", OPTIONS+=\"link_priority=10\"\nENV{DM_UUID}!=\"mpath-?*\", GOTO=\"end_mpath\""))) :annotation-list ((annotation :type text :data "dm-*が追加だった場合(changeだった場合)しかもmpathだった場合kpartxへ。")) :date "Tue Aug  9 22:19:14 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/d/device-mapper-multipath/pre-build/multipath-tools/libmultipath/uevent.c" :point 3926 :coding-system undecided-unix :line 157 :surround ("\n" "" "\tsock = socket(AF_LOCAL, SOCK_DGRAM, 0);\n\tif (sock >= 0) {") :which-func "uevq_thread")) :annotation-list ((annotation :type text :data "udevのルールによって、kernelからudevに届いたイベントがそのまま\n/org/kernel/dm/multipath_event経由でmultipathdに届く。")) :date "Tue Aug  9 22:22:05 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/l/lsof/^alias-kojipkgs-fedoraproject-org-20110809/pre-build/lsof_4.84-rh/dialects/linux/dsock.c" :point 46976 :coding-system undecided-unix :line 1879 :surround ("\t    }\n" "" "\t    if (nf >= 8\n\t    &&  fp[7] && *fp[7] && *fp[7] != '@'") :which-func "get_unix")) :annotation-list ((annotation :type text :data "abstract socketの場合、捨てる。バグだ。")) :date "Tue Aug  9 22:41:13 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/d/device-mapper-multipath/pre-build/multipath-tools/multipathd/main.c" :point 14296 :coding-system undecided-unix :line 695 :surround ("\n" "" "\tif (uev_discard(uev->devpath))\n\t\treturn 0;") :which-func "uev_trigger")) :annotation-list ((annotation :type text :data "blockデバイスの情報だけを拾う。")) :date "Tue Aug  9 22:46:09 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/d/device-mapper-multipath/pre-build/multipath-tools/multipathd/main.c" :point 14429 :coding-system undecided-unix :line 704 :surround ("\n" "" "\t/*\n\t * device map event") :which-func "uev_trigger")) :annotation-list ((annotation :type text :data "device mapイベントと通常のブロックデバイスの追加の両方をこの関数で扱う。まずはdmから。")) :date "Tue Aug  9 22:47:04 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/d/device-mapper-multipath/pre-build/multipath-tools/multipathd/main.c" :point 14891 :coding-system undecided-unix :line 725 :surround ("\n" "" "\t/*\n\t * path add/remove event") :which-func "uev_trigger")) :annotation-list ((annotation :type text :data "通常のブロックデバイス")) :date "Tue Aug  9 22:48:08 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/d/device-mapper-multipath/pre-build/multipath-tools/multipathd/main.c" :point 9387 :coding-system undecided-unix :line 451 :surround ("\t */\n" "" "\tif (domap(mpp) <= 0) {\n\t\tcondlog(0, \"%s: failed in domap for addition of new \"") :which-func "ev_add_path")) :annotation-list ((annotation :type text :data "kernelに新しいmapを押し込む。")) :date "Tue Aug  9 23:01:11 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/d/device-mapper-multipath/pre-build/multipath-tools/multipathd/main.c" :point 9850 :coding-system undecided-unix :line 468 :surround ("\t}\n" "" "\tdm_lib_release();\n") :which-func "ev_add_path")) :annotation-list ((annotation :type text :data "dmとのファイル記述を閉じて、デバイスノード群(/dev)を更新する？")) :date "Tue Aug  9 23:08:29 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/d/device-mapper-multipath/pre-build/multipath-tools/multipathd/main.c" :point 9943 :coding-system undecided-unix :line 473 :surround ("\t */\n" "" "\tif (setup_multipath(vecs, mpp))\n\t\tgoto fail_map;") :which-func "ev_add_path")) :annotation-list ((annotation :type text :data "カーネルと同期をとっているあ、update_mpp_pathsと違いはあるのか？")) :date "Tue Aug  9 23:10:53 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/d/device-mapper-multipath/pre-build/multipath-tools/multipathd/main.c" :point 10017 :coding-system undecided-unix :line 478 :surround ("\n" "" "\tif (mpp->action == ACT_CREATE &&\n\t    start_waiter_thread(mpp, vecs))") :which-func "ev_add_path")) :annotation-list ((annotation :type text :data "mppを単位にスレッドを起動する。")) :date "Tue Aug  9 23:13:53 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-131.0.15.el6/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/drivers/md/dm.c" :point 44227 :coding-system undecided-unix :line 1985 :surround ("\n" "" "\tdm_send_uevents(&uevents, &disk_to_dev(md->disk)->kobj);\n") :which-func "event_callback")) :annotation-list ((annotation :type text :data "ueventでも通知されるし、 DM_DEV_WAIT_CMDで待っているプロセス\nにも同じタイミングで通知が行く。")) :date "Tue Aug  9 23:31:20 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/k/kernel/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/drivers/md/dm-mpath.c" :point 23520 :coding-system undecided-unix :line 1052 :surround ("\n" "" "\tdm_path_uevent(DM_UEVENT_PATH_REINSTATED, m->ti,\n\t\t      pgpath->path.dev->name, m->nr_valid_paths);") :which-func "reinstate_path")) :annotation-list ((annotation :type text :data "dm_messageでパスの回復の通知を受ける。内部状態を更新したら、\nueventで更新したことをudevd/multipathdに伝える。")) :date "Tue Aug  9 23:44:37 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/k/kernel/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/drivers/md/dm-mpath.c" :point 23623 :coding-system undecided-unix :line 1055 :surround ("\n" "" "\tschedule_work(&m->trigger_event);\n") :which-func "reinstate_path")) :annotation-list ((annotation :type text :data "上でキューイングしたイベントにuuidやらを肉付けして、送信")) :date "Tue Aug  9 23:50:09 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cluster/3.0.12-41.el6/pre-build/cluster-3.0.12/fence/fenced/config.c" :point 4112 :coding-system undecided-unix :line 182 :surround ("\n" "" "\t\tif (cfgd_skip_undefined && !num_methods)\n\t\t\tlog_debug(\"skip %s with zero methods\", name);") :which-func "read_ccs")) :annotation-list ((annotation :type text :data "もしfence methodの定義が0であればサポートしない、と表示してはどうか？")) :date "Thu Aug 11 23:18:22 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-fenced))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cluster/3.0.12-41.el6/pre-build/cluster-3.0.12/fence/fenced/main.c" :point 15237 :coding-system undecided-unix :line 744 :surround ("\n" "" "\trv = setup_cluster();\n\tif (rv < 0)") :which-func "loop")) :annotation-list ((annotation :type text :data "内部でcman_initを呼んでいる。")) :date "Fri Aug 12 00:01:41 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-fenced))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cluster/3.0.12-41.el6/pre-build/cluster-3.0.12/fence/fenced/main.c" :point 15081 :coding-system undecided-unix :line 735 :surround ("\n" "" "\trv = setup_queries();\n\tif (rv < 0)") :which-func "loop")) :annotation-list ((annotation :type text :data "query_socket/pthreadの準備")) :date "Fri Aug 12 00:03:25 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-fenced))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/l/lvm2/2.02.83-3.el6/pre-build/LVM2.2.02.83/libdm/ioctl/libdm-iface.c" :point 2895 :coding-system undecided-unix :line 107 :surround ("/* *INDENT-OFF* */\n" "" "static struct cmd_data _cmd_data_v4[] = {\n\t{\"create\",\tDM_DEV_CREATE,\t\t{4, 0, 0}},"))) :annotation-list ((annotation :type text :data "dm側のenumはlibdevmapper.hにある。")) :date "Fri Aug 12 16:23:31 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-lvm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/usr/src/debug/LVM2.2.02.45/lib/locking/file_locking.c" :point 4918 :coding-system undecided-unix :line 232 :surround ("\tcase LCK_LV:\n" "" "\t\tswitch (flags & LCK_TYPE_MASK) {\n\t\tcase LCK_UNLOCK:") :which-func "_file_lock_resource")) :annotation-list ((annotation :type text :data "lockの種類を表現ていると思ったら、なんとresourceに対する\nオペレーションの種類を表現している。")) :date "Fri Aug 12 16:40:38 2011" :full-name "root" :mailing-address "yamato@redhat.com" :keywords (reading-lvm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cluster/3.0.12-41.el6/pre-build/cluster-3.0.12/cman/lib/libcman.h" :point 1389 :coding-system undecided-unix :line 49 :surround ("typedef enum {CMAN_REASON_PORTCLOSED,\n" "" "\t      CMAN_REASON_STATECHANGE,\n              CMAN_REASON_PORTOPENED,"))) :annotation-list ((annotation :type text :data "メンバーが抜けて？ recalculate_quorumが呼ばれたときに通知される。")) :date "Fri Aug 12 20:44:55 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-fenced))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cluster/3.0.12-41.el6/pre-build/cluster-3.0.12/cman/daemon/commands.c" :point 55328 :coding-system undecided-unix :line 2068 :surround ("\n" "" "static void process_internal_message(char *data, int nodeid, int need_byteswap)\n{") :which-func "process_internal_message")) :annotation-list ((annotation :type text :data "これがcmand同士の通信を処理する。")) :date "Fri Aug 12 20:49:34 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-fenced))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cluster/3.0.12-41.el6/pre-build/cluster-3.0.12/cman/daemon/daemon.c" :point 4222 :coding-system undecided-unix :line 169 :surround ("/* Dispatch a request from a CLIENT or ADMIN socket */\n" "" "static int process_client(hdb_handle_t handle, int fd, int revent, void *data)\n{") :which-func "process_client")) :annotation-list ((annotation :type text :data "cman_toolやら他のデーモンからの処理(AF_UNIX経由)")) :date "Fri Aug 12 20:49:57 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-fenced))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cluster/3.0.12-41.el6/pre-build/cluster-3.0.12/cman/daemon/ais.c" :point 9626 :coding-system undecided-unix :line 312 :surround ("\t/* Tell the cman membership layer */\n" "" "\tfor (i=0; i<left_list_entries; i++)\n\t\tdel_ais_node(left_list[i]);") :which-func "cman_confchg_fn")) :annotation-list ((annotation :type text :data "この先で qurorum の再計算がある。")) :date "Fri Aug 12 21:59:06 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-fenced))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cluster/3.0.12-41.el6/pre-build/cluster-3.0.12/cman/daemon/ais.c" :point 9783 :coding-system undecided-unix :line 319 :surround ("\n" "" "\t/* Save the left list for later so we can do a consolidated confchg message */\n\tif (configuration_type == TOTEM_CONFIGURATION_TRANSITIONAL) {") :which-func "cman_confchg_fn")) :annotation-list ((annotation :type text :data "corosyncがオペレーショナルな状態に入るにあたり2回cman_confchg_fnを呼び出してくる。\n\n\tcman_confchg_fn(TOTEM_CONFIGURATION_TRANSITIONAL,...\n\tcman_confchg_fn(TOTEM_CONFIGURATION_REGULAR,...\n\nTRANSITIONALのときはleftのリストを埋めてjoinのリストを空で、\nREGULARのときはleftのリストを空で、joinのリストを埋めて呼び出す。\n\n2つのcman_confchg_fnの呼び出しの間に古いリングで送信が完了しなかったメッセージ\nをアプリケーションに送信しているように見える。")) :date "Fri Aug 12 22:07:11 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-fenced))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cluster/3.0.12-41.el6/pre-build/cluster-3.0.12/cman/daemon/ais.c" :point 10821 :coding-system undecided-unix :line 343 :surround ("\t\tlog_printf(LOGSYS_LEVEL_DEBUG, \"ais: last memb_count = %d, current = %\"PRIuFAST32\"\\n\", last_memb_count, member_list_entries);\n" "" "\t\tsend_transition_msg(last_memb_count, first_trans);\n\t\tlast_memb_count = member_list_entries;") :which-func "cman_confchg_fn")) :annotation-list ((annotation :type text :data "corosyn上の他のcmanに対してCLUSTER_MSG_TRANSITIONをmcastする。")) :date "Fri Aug 12 22:11:15 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-fenced))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cluster/3.0.12-41.el6/pre-build/cluster-3.0.12/cman/daemon/commands.c" :point 55256 :coding-system undecided-unix :line 2064 :surround ("\t\tstrcpy(fence_msg->agent, node->fence_agent);\n" "" "\t\tcomms_send_message(fencemsg, sizeof(fencemsg), 0,0, nodeid, 0);\n\t}") :which-func "do_process_transition")) :annotation-list ((annotation :type text :data "toportが0なので、他のcmanそのものへの送信であって、その上のクライアントに対するものではない。\nすなわち他のノードのprocess_internal_messageで処理される。このときfromportは参照されない。")) :date "Fri Aug 12 23:11:10 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-fenced))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cluster/3.0.12-41.el6/pre-build/cluster-3.0.12/cman/lib/libcman.c" :point 2625 :coding-system undecided-unix :line 128 :surround ("\n" "" "static int process_cman_message(struct cman_handle *h, int flags, struct sock_header *msg)\n{") :which-func "process_cman_message")) :annotation-list ((annotation :type text :data "cmanからのメッセージをさばく。")) :date "Fri Aug 12 23:16:56 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-fenced))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cluster/3.0.12-41.el6/pre-build/cluster-3.0.12/rgmanager/src/clulib/msg_cluster.c" :point 16853 :coding-system undecided-unix :line 752 :surround (" */\n" "" "static void\nprocess_cman_msg(cman_handle_t h, void *priv, char *buf, int len,") :which-func "queue_for_context")) :annotation-list ((annotation :type text :data "cman_start_recv_dataであれcman_start_notificationであれ、メッセージを受け\nとったら全てM_に変換して処理する。")) :date "Fri Aug 12 23:42:30 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-fenced))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cluster/3.0.12-41.el6/pre-build/cluster-3.0.12/rgmanager/src/daemons/rg_event.c" :point 3885 :coding-system undecided-unix :line 185 :surround ("   out if we've joined the fence domain */ \n" "" "int\nfence_domain_joined(void)") :which-func "node_has_fencing")) :annotation-list ((annotation :type text :data "static int we_are_in_fence_domain(void)\n{\n\tstruct fenced_node nodeinfo;\n\tint rv;\n\n\tmemset(&nodeinfo, 0, sizeof(nodeinfo));\n\n\trv = fenced_node_info(FENCED_NODEID_US, &nodeinfo);\n\tif (rv < 0)\n\t\treturn 0;\n\n\tif (nodeinfo.member)\n\t\treturn 1;\n\treturn 0;\n}\n\nこれでいける。")) :date "Mon Aug 15 16:50:29 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-fenced))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cluster/3.0.12-41.el6/pre-build/cluster-3.0.12/rgmanager/include/reslist.h" :point 1190 :coding-system undecided-unix :line 38 :surround ("\n" "" "#ifndef SHAREDIR\n#define SHAREDIR\t\t\"/usr/share/rgmanager\""))) :annotation-list ((annotation :type text :data "configureuが SHAREDIR=/usr/share/clusterを定義する。")) :date "Tue Aug 16 21:59:07 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-fenced))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cluster/3.0.12-41.el6/pre-build/cluster-3.0.12/rgmanager/src/daemons/groups.c" :point 36792 :coding-system undecided-unix :line 1667 :surround ("\t\n" "" "\tif (ccs_get(fd, \"/cluster/rm/@statusmax\", &val) == 0) {\n\t\tif (strlen(val)) ") :which-func "init_resource_groups")) :annotation-list ((annotation :type text :data "statusチェックを同時に何個並行して実行することを許すか。")) :date "Tue Aug 16 22:40:40 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-fenced))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cluster/3.0.12-41.el6/pre-build/cluster-3.0.12/rgmanager/src/daemons/resrules.c" :point 21130 :coding-system undecided-unix :line 1024 :surround ("\t\t\t ++ruleid);\n" "" "\t\ttype = xpath_get_one(doc, ctx, base);\n\t\tif (!type)") :which-func "load_resource_rulefile")) :annotation-list ((annotation :type text :data "nameをtypeと呼んでいる。")) :date "Tue Aug 16 23:42:30 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-fenced))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/p/procps/3.2.8-17.el6/pre-build/procps-3.2.8/proc/readproc.c" :point 26754 :coding-system undecided-unix :line 900 :surround ("    }else{\n" "" "      PT->procfs = opendir(\"/proc\");\n      if(!PT->procfs) return NULL;") :which-func ("openproc"))) :annotation-list ((annotation :type text :data "ここで/procに対するディレクトリポインタを得ている。")) :date "Wed Jul 13 16:59:16 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/p/procps/3.2.8-17.el6/pre-build/procps-3.2.8/proc/readproc.c" :point 22317 :coding-system undecided-unix :line 764 :surround ("    // use \"path\" as some tmp space\n" "" "    snprintf(path, PROCPATHLEN, \"/proc/%d/task\", p->tgid);\n    PT->taskdir = opendir(path);") :which-func ("simple_nexttid"))) :annotation-list ((annotation :type text :data "ここで指定したThread Group IDに属するスレッド群へのエントリーがある\nディレクトリへのディレクトリポイントを取得している。")) :date "Wed Jul 13 17:00:37 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/l/lsof/pre-build/lsof_4.82-rh/dialects/linux/dsock.c" :point 66846 :coding-system undecided-unix :line 2753 :surround ("\n" "" "void\nset_net_paths(p, pl)") :which-func ("process_proc_sock"))) :annotation-list ((annotation :type text :data "/proc/$pid/fdのエントリーのリンク先がソケットだった場合、 \nsocket fsのinode番号しかわからない。 \n一方/proc/net/{unix,tcp,udp...}の内容は、それぞれの種類に応じた\nソケットの表になっていてる。表にはInodeというコラムがある。\n/proc/$pid/fd経由でinode番号しかわからなかったソケットについて\nlsofは、そのinode番号を表の中から探し、ソケットに関するより詳細な情報を\n得ようとする。")) :date "Wed Jul 13 17:11:43 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/l/lsof/pre-build/lsof_4.82-rh/dialects/linux/dproc.c" :point 22121 :coding-system undecided-unix :line 919 :surround (" */\n" "" "\tif ((i = make_proc_path(idp, idpl, &dpath, &dpathl, \"fd/\")) < 3)\n\t    return(0);") :which-func ("process_id"))) :annotation-list ((annotation :type text :data "/proc/[0-9]+/fdへのパスを作って")) :date "Wed Jul 13 17:22:36 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/l/lsof/pre-build/lsof_4.82-rh/dialects/linux/dproc.c" :point 22352 :coding-system undecided-unix :line 927 :surround ("\t    oty = 0;\n" "" "\tif (!(fdp = opendir(dpath))) {\n\t    if (!Fwarn) {") :which-func ("process_id"))) :annotation-list ((annotation :type text :data "ディレクトリを開いて")) :date "Wed Jul 13 17:23:34 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/l/lsof/pre-build/lsof_4.82-rh/dialects/linux/dproc.c" :point 22661 :coding-system undecided-unix :line 939 :surround ("\tdpath[i - 1] = '/';\n" "" "\twhile ((fp = readdir(fdp))) {\n\t    if (nm2id(fp->d_name, &fd, &n))") :which-func ("process_id"))) :annotation-list ((annotation :type text :data "各エントリーを調べる。")) :date "Wed Jul 13 17:32:54 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/p/procps/pre-build/procps-3.2.8/sysctl.c" :point 1146 :coding-system undecided-unix :line 46 :surround ("\n" "" "static const char PROC_PATH[] = \"/proc/sys/\";\nstatic const char DEFAULT_PRELOAD[] = \"/etc/sysctl.conf\";"))) :annotation-list ((annotation :type text :data "以下PROC_PATHを追う。")) :date "Wed Jul 13 17:40:48 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/p/procps/pre-build/procps-3.2.8/sysctl.c" :point 9037 :coding-system undecided-unix :line 347 :surround ("   /* used to open the file */\n" "" "   tmpname = malloc(equals-name+1+strlen(PROC_PATH));\n   strcpy(tmpname, PROC_PATH);") :which-func ("WriteSetting"))) :annotation-list ((annotation :type text :data "PROC_PATHをベースにパスを作って")) :date "Wed Jul 13 17:42:03 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/p/procps/pre-build/procps-3.2.8/sysctl.c" :point 9510 :coding-system undecided-unix :line 359 :surround (" \n" "" "   fp = fopen(tmpname, \"w\");\n") :which-func ("WriteSetting"))) :annotation-list ((annotation :type text :data "書き込みます。")) :date "Wed Jul 13 17:42:48 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/k/kernel/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/fs/proc/base.c" :point 61041 :coding-system undecided-unix :line 2653 :surround ("\n" "" "static const struct pid_entry tgid_base_stuff[] = {\n\tDIR(\"task\",       S_IRUGO|S_IXUGO, proc_task_inode_operations, proc_task_operations),") :which-func ("proc_pid_personality"))) :annotation-list ((annotation :type text :data "/proc/[0-9]+/*以下の定義\nそれぞれのエントリーにハンドラ(xxx_inode_operations, xxx_operations)が\n列んでいる。")) :date "Wed Jul 13 18:06:34 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/k/kernel/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/net/core/sock.c" :point 62911 :coding-system undecided-unix :line 2446 :surround ("{\n" "" "\tif (!proc_net_fops_create(net, \"protocols\", S_IRUGO, &proto_seq_fops))\n\t\treturn -ENOMEM;") :which-func ("proto_init_net"))) :annotation-list ((annotation :type text :data "/proc/net/protocolsのエントリー。\nハンドラ群としてproto_seq_fopsが渡されている。")) :date "Wed Jul 13 18:28:44 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/k/kernel/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/net/core/sock.c" :point 62779 :coding-system undecided-unix :line 2439 :surround ("\t.open\t\t= proto_seq_open,\n" "" "\t.read\t\t= seq_read,\n\t.llseek\t\t= seq_lseek,") :which-func ("proto_seq_open"))) :annotation-list ((annotation :type text :data ".readにseq_readが設定されているので、seq_xxxを使っていること\nがわかる。")) :date "Wed Jul 13 18:28:12 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/k/kernel/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/net/core/sock.c" :point 62581 :coding-system undecided-unix :line 2432 :surround ("{\n" "" "\treturn seq_open_net(inode, file, &proto_seq_ops,\n\t\t\t    sizeof(struct seq_net_private));") :which-func ("proto_seq_open"))) :annotation-list ((annotation :type text :data "seq_open*にstruct seq_operations型の\nproto_seq_opsが渡されている。")) :date "Wed Jul 13 18:31:41 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/k/kernel/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/net/core/sock.c" :point 59917 :coding-system undecided-unix :line 2349 :surround ("#ifdef CONFIG_PROC_FS\n" "" "static void *proto_seq_start(struct seq_file *seq, loff_t *pos)\n\t__acquires(proto_list_lock)") :which-func ("proto_seq_start"))) :annotation-list ((annotation :type text :data "カーネルに実装されたすべてのネットワークプロトコルの\nハンドラ群を管理しているproto_listファイルローカル変数を\n以降の表出力に使えるよう準備している。")) :date "Wed Jul 13 18:33:53 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/k/kernel/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/net/core/sock.c" :point 62347 :coding-system undecided-unix :line 2423 :surround ("\n" "" "static const struct seq_operations proto_seq_ops = {\n\t.start  = proto_seq_start,") :which-func ("proto_seq_show"))) :annotation-list ((annotation :type text :data "startで出力準備、showで一行毎に出力")) :date "Wed Jul 13 18:36:50 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/k/kernel/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/net/core/sock.c" :point 61925 :coding-system undecided-unix :line 2405 :surround ("\n" "" "static int proto_seq_show(struct seq_file *seq, void *v)\n{") :which-func ("proto_seq_show"))) :annotation-list ((annotation :type text :data "1行出力する。ただしまだ1行も処理をしていない場合はまず表のヘッダを出力\nする。\n")) :date "Wed Jul 13 18:38:15 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/k/kernel/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/include/linux/sysctl.h" :point 30428 :coding-system undecided-unix :line 1053 :surround ("\n" "" "/* A sysctl table is an array of struct ctl_table: */\nstruct ctl_table ") :which-func ("ctl_table_set"))) :annotation-list ((annotation :type text :data "/proc/sys/*のハンドラを表現するデータ型。\nファイルの名前を procnameで指定する。 \n実際のI/O処理はproc_handlerが担当する。\n\nstrategyも関数ポインタを格納しているがこれは(もう古いので使うなと言われ\nている)sysctlシステムコールからのアクセスを処理するのに使う。\n")) :date "Thu Jul 14 12:16:59 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/k/kernel/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/net/ipv4/devinet.c" :point 37820 :coding-system undecided-unix :line 1561 :surround ("\n" "" "static struct ctl_table ctl_forward_entry[] = {\n\t{") :which-func ("devinet_sysctl_unregister"))) :annotation-list ((annotation :type text :data "/proc/sys/net/ipv4/ip_forwardの定義。")) :date "Thu Jul 14 12:27:22 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/k/kernel/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/net/ipv4/devinet.c" :point 39368 :coding-system undecided-unix :line 1629 :surround ("\terr = -ENOMEM;\n" "" "\tforw_hdr = register_net_sysctl_table(net, net_ipv4_path, tbl);\n\tif (forw_hdr == NULL)") :which-func ("devinet_init_net"))) :annotation-list ((annotation :type text :data "ctl_forward_entryをtblへコピーして登録している。")) :date "Thu Jul 14 12:53:28 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/i/iputils/pre-build/iputils-s20071127/ifenslave.c" :point 10914 :coding-system undecided-unix :line 297 :surround ("\n" "" "\t/* Open a basic socket */\n\tif ((skfd = socket(AF_INET, SOCK_DGRAM, 0)) < 0) {") :which-func ("main"))) :annotation-list ((annotation :type text :data "ioctl経由でbondingデバイスを制御するために\n使うソケットの準備")) :date "Thu Jul 14 17:18:33 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/i/iputils/pre-build/iputils-s20071127/ifenslave.c" :point 22368 :coding-system undecided-unix :line 799 :surround ("\t/* Do the real thing */\n" "" "\tstrncpy(ifr.ifr_name, master_ifname, IFNAMSIZ);\n\tstrncpy(ifr.ifr_slave, slave_ifname, IFNAMSIZ);") :which-func ("enslave"))) :annotation-list ((annotation :type text :data "masterとslaveの名前をデータ構造に詰め込む。")) :date "Thu Jul 14 17:30:14 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/i/iputils/pre-build/iputils-s20071127/ifenslave.c" :point 22466 :coding-system undecided-unix :line 801 :surround ("\tstrncpy(ifr.ifr_slave, slave_ifname, IFNAMSIZ);\n" "" "\tif ((ioctl(skfd, SIOCBONDENSLAVE, &ifr) < 0) &&\n\t    (ioctl(skfd, BOND_ENSLAVE_OLD, &ifr) < 0)) {") :which-func ("enslave"))) :annotation-list ((annotation :type text :data "ソケットとifreq構造体を引数にioctlを呼び出して\nスレーブデバイスをbondingデバイスに参加させる。組込み。")) :date "Thu Jul 14 17:31:27 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/k/kernel/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/drivers/net/bonding/bond_main.c" :point 125962 :coding-system undecided-unix :line 4735 :surround ("\t.ndo_get_stats\t\t= bond_get_stats,\n" "" "\t.ndo_do_ioctl\t\t= bond_do_ioctl,\n\t.ndo_set_multicast_list\t= bond_set_multicast_list,") :which-func ("bond_ethtool_get_drvinfo"))) :annotation-list ((annotation :type text :data "bondingデバイスドライバーのioctlハンドラ")) :date "Thu Jul 14 20:39:15 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/k/kernel/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/drivers/net/bonding/bond_main.c" :point 125690 :coding-system undecided-unix :line 4727 :surround ("\n" "" "static const struct net_device_ops bond_netdev_ops = {\n\t.ndo_init\t\t= bond_init,") :which-func ("bond_ethtool_get_drvinfo"))) :annotation-list ((annotation :type text :data "bondingデバイスドライバーのメソッドテーブル")) :date "Thu Jul 14 20:40:22 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/k/kernel/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/drivers/net/bonding/bond_main.c" :point 108654 :coding-system undecided-unix :line 4041 :surround ("\n" "" "\tswitch (cmd) {\n\tcase SIOCGMIIPHY:") :which-func ("bond_do_ioctl"))) :annotation-list ((annotation :type text :data "swtich/caseでcmdごとに処理が分岐している。")) :date "Thu Jul 14 20:46:08 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/k/kernel/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/net/socket.c" :point 25516 :coding-system undecided-unix :line 994 :surround ("\t\t\tbreak;\n" "" "\t\tdefault:\n\t\t\terr = sock->ops->ioctl(sock, cmd, arg);") :which-func ("sock_ioctl"))) :annotation-list ((annotation :type text :data "プロトコル特有のioctlハンドラや\nネットワークデバイスドライバーへ処理を委譲している。")) :date "Thu Jul 14 20:50:29 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/k/kernel/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/net/socket.c" :point 23913 :coding-system undecided-unix :line 927 :surround ("\n" "" "static long sock_ioctl(struct file *file, unsigned cmd, unsigned long arg)\n{") :which-func ("sock_ioctl"))) :annotation-list ((annotation :type text :data "ソケット記述子汎用のioctlハンドラ")) :date "Thu Jul 14 20:52:22 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/a/autofs/pre-build/autofs-5.0.5/daemon/automount.c" :point 22391 :coding-system undecided-unix :line 967 :surround ("\n" "" "\t/* Pipe for kernel communications */\n\tif (open_pipe(pipefd) < 0) {") :which-func ("autofs_init_ap"))) :annotation-list ((annotation :type text :data "カーネルモジュールとやりとりするためのpipe")) :date "Thu Jul 14 21:54:23 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/a/autofs/pre-build/autofs-5.0.5/daemon/direct.c" :point 9029 :coding-system undecided-unix :line 387 :surround ("\tif (!mp->options) {\n" "" "\t\tmp->options = make_options_string(ap->path, ap->kpipefd, str_direct);\n\t\tif (!mp->options)") :which-func ("do_mount_autofs_direct"))) :annotation-list ((annotation :type text :data "ここでマウントオプションにkpipefdを焼き込む。")) :date "Thu Jul 14 21:56:01 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/a/autofs/pre-build/autofs-5.0.5/daemon/direct.c" :point 9663 :coding-system undecided-unix :line 409 :surround ("\n" "" "\tret = mount(map_name, me->key, \"autofs\", MS_MGC_VAL, mp->options);\n\tif (ret) {") :which-func ("do_mount_autofs_direct"))) :annotation-list ((annotation :type text :data "autofsをマウントする。")) :date "Thu Jul 14 21:57:07 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/q/qemu-kvm/pre-build/qemu-kvm-0.12.1.2/qemu-kvm.c" :point 8765 :coding-system undecided-unix :line 357 :surround ("\n" "" "    fd = open(\"/dev/kvm\", O_RDWR);\n    if (fd == -1) {") :which-func ("kvm_init"))) :annotation-list ((annotation :type text :data "kvm.koと通信するために/dev/kvmをオープンしている。")) :date "Thu Jul 14 22:33:27 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/q/qemu-kvm/pre-build/qemu-kvm-0.12.1.2/qemu-kvm.c" :point 9628 :coding-system undecided-unix :line 384 :surround ("\n" "" "    kvm_state->fd = fd;\n    kvm_state->vmfd = -1;") :which-func ("kvm_init"))) :annotation-list ((annotation :type text :data "カーネルとの通信路をkvm_stateに保存する。")) :date "Thu Jul 14 22:34:59 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/q/qemu-kvm/pre-build/qemu-kvm-0.12.1.2/qemu-kvm.c" :point 12284 :coding-system undecided-unix :line 495 :surround ("\n" "" "    fd = kvm_ioctl(kvm_state, KVM_CREATE_VM, 0);\n    if (fd < 0) {") :which-func ("kvm_create_vm"))) :annotation-list ((annotation :type text :data "仮想マシンを作っている。")) :date "Thu Jul 14 22:36:04 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/q/qemu-kvm/pre-build/qemu-kvm-0.12.1.2/kvm-all.c" :point 4057 :coding-system undecided-unix :line 186 :surround ("\n" "" "    ret = kvm_vm_ioctl(s, KVM_CREATE_VCPU, env->cpu_index);\n    if (ret < 0) {") :which-func ("kvm_init_vcpu"))) :annotation-list ((annotation :type text :data "vcpuの作成を依頼している。")) :date "Thu Jul 14 22:54:07 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/q/qemu-kvm/pre-build/qemu-kvm-0.12.1.2/kvm-all.c" :point 15753 :coding-system undecided-unix :line 642 :surround ("        qemu_mutex_unlock_iothread();\n" "" "        ret = kvm_vcpu_ioctl(env, KVM_RUN, 0);\n        qemu_mutex_lock_iothread();") :which-func ("kvm_cpu_exec"))) :annotation-list ((annotation :type text :data "vcpuの実行する。")) :date "Thu Jul 14 22:57:07 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/k/kernel/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/virt/kvm/kvm_main.c" :point 69589 :coding-system undecided-unix :line 3039 :surround ("\n" "" "\tr = misc_register(&kvm_dev);\n\tif (r) {") :which-func ("kvm_init"))) :annotation-list ((annotation :type text :data "/dev/kvmの登録")) :date "Thu Jul 14 23:41:47 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/k/kernel/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/virt/kvm/kvm_main.c" :point 60644 :coding-system undecided-unix :line 2616 :surround ("\n" "" "static struct miscdevice kvm_dev = {\n\tKVM_MINOR,") :which-func ("kvm_dev_ioctl"))) :annotation-list ((annotation :type text :data "/dev/kvmのハンドラ")) :date "Thu Jul 14 23:43:35 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/k/kernel/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/net/socket.c" :point 43733 :coding-system undecided-unix :line 1785 :surround ("\n" "" "SYSCALL_DEFINE5(setsockopt, int, fd, int, level, int, optname,\n\t\tchar __user *, optval, int, optlen)") :which-func ("SYSCALL_DEFINE5"))) :annotation-list ((annotation :type text :data "setsocketoptシステムコールの定義")) :date "Fri Jul 15 20:05:20 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/k/kernel/2.6.32-131.0.15.el6/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/include/linux/socket.h" :point 8624 :coding-system undecided-unix :line 268 :surround ("\n" "" "/* Setsockoptions(2) level. Thanks to BSD these must match IPPROTO_xxx */\n#define SOL_IP\t\t0") :which-func ("ucred"))) :annotation-list ((annotation :type text :data "層(level)の一覧")) :date "Fri Jul 15 20:07:31 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/k/kernel/2.6.32-131.0.15.el6/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/include/asm-generic/socket.h" :point 114 :coding-system undecided-unix :line 7 :surround ("/* For setsockopt(2) */\n" "" "#define SOL_SOCKET\t1\n"))) :annotation-list ((annotation :type text :data "ソケット一般の設定をするための疑似層SOL_SOCKET")) :date "Fri Jul 15 20:09:18 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel6u1/packages/k/kernel/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/net/socket.c" :point 44079 :coding-system undecided-unix :line 1800 :surround ("\n" "" "\t\tif (level == SOL_SOCKET)\n\t\t\terr =") :which-func ("SYSCALL_DEFINE5"))) :annotation-list ((annotation :type text :data "ソケット一般疑似層か具体的な層かでの条件分岐")) :date "Fri Jul 15 20:10:27 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-131.0.15.el6/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/net/core/sock.c" :point 21220 :coding-system undecided-unix :line 761 :surround ("\n" "" "\tswitch (optname) {\n\tcase SO_DEBUG:") :which-func ("sock_getsockopt"))) :annotation-list ((annotation :type text :data "オプションの種類毎の処理の分岐がswitch/caseで表現\nされることが多い。")) :date "Fri Jul 15 20:22:01 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/k/kernel/2.6.32-131.0.15.el6/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/include/asm-generic/socket.h" :point 136 :coding-system undecided-unix :line 9 :surround ("\n" "" "#define SO_DEBUG\t1\n#define SO_REUSEADDR\t2"))) :annotation-list ((annotation :type text :data "オプションはSO_で始まるシンボルで表現される。")) :date "Fri Jul 15 20:23:01 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-131.0.15.el6/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/net/core/sock.c" :point 14637 :coding-system undecided-unix :line 467 :surround ("\n" "" "int sock_setsockopt(struct socket *sock, int level, int optname,\n\t\t    char __user *optval, unsigned int optlen)") :which-func ("sock_setsockopt"))) :annotation-list ((annotation :type text :data "SOL_SOCKに対するsetsockopt\n")) :date "Fri Jul 15 20:32:20 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-131.0.15.el6/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/net/core/sock.c" :point 20856 :coding-system undecided-unix :line 740 :surround ("\n" "" "int sock_getsockopt(struct socket *sock, int level, int optname,\n\t\t    char __user *optval, int __user *optlen)") :which-func ("sock_getsockopt"))) :annotation-list ((annotation :type text :data "SOL_SOCKに対するgetsockopt")) :date "Fri Jul 15 20:33:06 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/k/kernel/2.6.32-131.0.15.el6/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/include/net/sock.h" :point 20839 :coding-system undecided-unix :line 709 :surround ("\tvoid\t\t\t(*shutdown)(struct sock *sk, int how);\n" "" "\tint\t\t\t(*setsockopt)(struct sock *sk, int level, \n\t\t\t\t\tint optname, char __user *optval,") :which-func ("proto"))) :annotation-list ((annotation :type text :data "プロトコル毎のsetsockopt/getsockoptハンドラ")) :date "Fri Jul 15 20:35:37 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/k/kernel/2.6.32-131.0.15.el6/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/include/linux/net.h" :point 4398 :coding-system undecided-unix :line 156 :surround ("\n" "" "struct proto_ops {\n\tint\t\tfamily;") :which-func ("proto_ops"))) :annotation-list ((annotation :type text :data "プロセス向きのプロトコルのインターフェイス")) :date "Fri Jul 15 22:36:39 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/k/kernel/2.6.32-131.0.15.el6/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/include/net/sock.h" :point 20374 :coding-system undecided-unix :line 694 :surround (" */\n" "" "struct proto {\n\tvoid\t\t\t(*close)(struct sock *sk, ") :which-func ("proto"))) :annotation-list ((annotation :type text :data "外側(ネットワーク)向きのプロトコルのインターフェイス")) :date "Fri Jul 15 22:39:24 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/k/kernel/2.6.32-131.0.15.el6/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/net/ipv4/af_inet.c" :point 23688 :coding-system undecided-unix :line 944 :surround ("\t.shutdown\t   = inet_shutdown,\n" "" "\t.setsockopt\t   = sock_common_setsockopt,\n\t.getsockopt\t   = sock_common_getsockopt,") :which-func ("inet_ioctl"))) :annotation-list ((annotation :type text :data "proto_ops型の変数におけるsetsockopt/getsockopt\nフィールドの設定例")) :date "Fri Jul 15 22:41:59 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/k/kernel/2.6.32-131.0.15.el6/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/net/ipv4/raw.c" :point 19999 :coding-system undecided-unix :line 851 :surround ("\t.init\t\t   = raw_init,\n" "" "\t.setsockopt\t   = raw_setsockopt,\n\t.getsockopt\t   = raw_getsockopt,") :which-func ("raw_ioctl"))) :annotation-list ((annotation :type text :data "struct proto型の変数に対するsetsockopt/getsockopt\nフィールドの設定例")) :date "Fri Jul 15 22:44:52 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/k/kernel/2.6.32-131.0.15.el6/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/include/linux/netfilter.h" :point 2332 :coding-system undecided-unix :line 109 :surround ("\n" "" "struct nf_sockopt_ops\n{") :which-func ("nf_sockopt_ops"))) :annotation-list ((annotation :type text :data "ネットフィルターに関連したsockoptハンドラ。\npfのプロトコルファミリーを記載する(例 PF_INET)。\nnf_register_sockoptで登録する。")) :date "Fri Jul 15 22:53:32 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/k/kernel/2.6.32-131.0.15.el6/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/net/ipv4/netfilter/ip_tables.c" :point 54194 :coding-system undecided-unix :line 2196 :surround ("\n" "" "static struct nf_sockopt_ops ipt_sockopts = {\n\t.pf\t\t= PF_INET,") :which-func ("icmp_checkentry"))) :annotation-list ((annotation :type text :data "iptablesに関連したsockoptのハンドラ")) :date "Fri Jul 15 22:55:42 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/k/kernel/2.6.32-131.0.15.el6/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/net/ipv4/netfilter/ip_tables.c" :point 55577 :coding-system undecided-unix :line 2257 :surround ("\t/* Register setsockopt */\n" "" "\tret = nf_register_sockopt(&ipt_sockopts);\n\tif (ret < 0)") :which-func ("ip_tables_init"))) :annotation-list ((annotation :type text :data "ip tablesのsockoptハンドラを登録している。")) :date "Fri Jul 15 22:58:05 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (clue-code-os-utils))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/l/lvm2/2.02.84-6.el5/pre-build/LVM2.2.02.84/lib/metadata/lv_manip.c" :point 89108 :coding-system undecided-unix :line 3398 :surround ("\n" "" "\t\tif (!vg_commit(vg))\n\t\t\treturn_0;") :which-func ("lv_create_single"))) :annotation-list ((annotation :type text :data "ここでブロックデバイスの先頭に書き込む。")) :date "Wed Aug 24 13:24:00 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-lvcreate-snapshot))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/l/lvm2/2.02.84-6.el5/pre-build/LVM2.2.02.84/lib/metadata/lv_manip.c" :point 89144 :coding-system undecided-unix :line 3401 :surround ("\n" "" "\t\tif (!resume_lv(cmd, org)) {\n\t\t\tlog_error(\"Problem reactivating origin %s\", org->name);") :which-func ("lv_create_single"))) :annotation-list ((annotation :type text :data "ここでsnapshotをorgにひもづける。その後 RESUME.")) :date "Wed Aug 24 13:24:51 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-lvcreate-snapshot))
(stitch-annotation :version 0 :target-list ((target :type directory :directory "/net/sources.nrt.redhat.com/srv/sources/sources/l/lvm2/2.02.84-6.el5/pre-build/LVM2.2.02.84/" :item ".")) :annotation-list ((annotation :type text :data "\"mda\" => metadata areaの略")) :date "Wed Aug 24 13:50:43 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-lvcreate-snapshot))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/r/rgmanager/3.0.12-10.el6/pre-build/rgmanager-3.0.12/rgmanager/src/daemons/main.c" :point 15951 :coding-system undecided-unix :line 712 :surround ("\t\tnewctx = msg_new_ctx();\n" "" "\t\tret = msg_accept(localctx, newctx);\n") :which-func ("event_loop"))) :annotation-list ((annotation :type text :data "ここでnewctxのフィールドを埋める。たとえば socket のfd.")) :date "Thu Aug 25 22:21:18 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rgmanager))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/r/rgmanager/3.0.12-10.el6/pre-build/rgmanager-3.0.12/rgmanager/src/utils/clustat.c" :point 4515 :coding-system undecided-unix :line 247 :surround ("\n" "" "\t\tif (n < sizeof(*rsmp)) {\n\t\t\tmsg_close(&ctx);") :which-func ("rg_state_list"))) :annotation-list ((annotation :type text :data "成功でも失敗でもない場合: RG_STATUSが入っている。")) :date "Thu Aug 25 23:36:26 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rgmanager))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/r/rgmanager/3.0.12-10.el6/pre-build/rgmanager-3.0.12/rgmanager/src/daemons/main.c" :point 8948 :coding-system undecided-unix :line 394 :surround ("\tcase RG_STATUS:\n" "" "\t\t//logt_print(LOG_DEBUG, \"Sending service states to CTX%p\\n\",ctx);\n\t\tif (send_rg_states(ctx, msg_hdr->gh_arg1) == 0)") :which-func ("dispatch_msg"))) :annotation-list ((annotation :type text :data "この経路に入るのはローカルからの RG_STATUSのみ。\nresgroup_thread_mainにリクエストを出すわけではなく、view formationの現在の見解を返すだけ。\n別の箇所でRG_STATUSをリソース監視のプロセスを起動依頼に使っているので紛らわしい。")) :date "Thu Aug 25 23:40:21 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rgmanager))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/r/rgmanager/3.0.12-10.el6/pre-build/rgmanager-3.0.12/rgmanager/src/daemons/main.c" :point 9117 :coding-system undecided-unix :line 400 :surround ("\tcase RG_STATUS_NODE:\n" "" "\t\t//log_printf(LOG_DEBUG, \"Sending node states to CTX%p\\n\",ctx);\n\t\tsend_node_states(ctx);") :which-func ("dispatch_msg"))) :annotation-list ((annotation :type text :data "これもローカルのクライアントからの応答のみ、と考えられる。")) :date "Fri Aug 26 15:36:52 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rgmanager))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/r/rgmanager/3.0.12-10.el6/pre-build/rgmanager-3.0.12/rgmanager/include/vf.h" :point 3273 :coding-system undecided-unix :line 131 :surround ("\n" "" "/* Return codes for vf_handle_msg... */\n#define VFR_ERROR\t100"))) :annotation-list ((annotation :type text :data "s/handle/process/")) :date "Mon Aug 29 17:04:12 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rgmanager))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/r/rgmanager/3.0.12-10.el6/pre-build/rgmanager-3.0.12/rgmanager/src/clulib/vft.c" :point 18001 :coding-system undecided-unix :line 901 :surround ("\n" "" "\tif (msg_open(MSG_CLUSTER, 0, my_port, ctx, 1) < 0) {\n\t\tmsg_free_ctx(ctx);\t") :which-func ("vf_init"))) :annotation-list ((annotation :type text :data "broadcastを受けつけることができるように \nnode:=0でopenしている。")) :date "Wed Aug 31 16:19:41 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rgmanager))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/r/rgmanager/3.0.12-10.el6/pre-build/rgmanager-3.0.12/rgmanager/src/clulib/vft.c" :point 29686 :coding-system undecided-unix :line 1413 :surround ("\t\treturn ret;\n" "" "\n\tdefault:") :which-func ("vf_process_msg"))) :annotation-list ((annotation :type text :data "VF_VOTEについてはvf_unanimousが担当する。")) :date "Wed Aug 31 18:00:01 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rgmanager))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/r/rgmanager/3.0.12-10.el6/pre-build/rgmanager-3.0.12/rgmanager/src/daemons/rg_event.c" :point 7265 :coding-system undecided-unix :line 352 :surround ("\tswab_event_master_t(&masterinfo);\n" "" "\n\tif (vf_write(m, VFF_IGN_CONN_ERRORS | VFF_RETRY,") :which-func ("event_master"))) :annotation-list ((annotation :type text :data "central_eventsのときじゃないとここに至らない。")) :date "Wed Aug 31 19:18:31 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rgmanager))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/r/rgmanager/3.0.12-10.el6/pre-build/rgmanager-3.0.12/rgmanager/src/clulib/vft.c" :point 31495 :coding-system undecided-unix :line 1488 :surround ("\n" "" "\t\tl = vf_request_current(membership, keyid, view, data,\n\t\t\t\t       datalen);") :which-func ("vf_read"))) :annotation-list ((annotation :type text :data "全員に聞くわけではない。 誰か知っている人がいれば聞いてみる。")) :date "Wed Aug 31 19:33:40 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rgmanager))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/r/rgmanager/3.0.12-10.el6/pre-build/rgmanager-3.0.12/rgmanager/src/daemons/rg_state.c" :point 28933 :coding-system undecided-unix :line 1257 :surround ("\t\trg_unlock(&lockp);\n" "" "\t\tbroadcast_event(svcName, RG_STATE_STOPPED,\n\t\t\t\t-1, svcStatus.rs_last_owner);") :which-func ("_svc_stop"))) :annotation-list ((annotation :type text :data "受信側の_event_thread_fでは、 ここで指定したRG_STATE_STOPPED\nをあまり参照していない。set_rg_stateで更新したビュー中に記載されている\n状態の方を良く見ている。")) :date "Thu Sep  1 22:54:16 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rgmanager))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/r/rgmanager/3.0.12-10.el6/pre-build/rgmanager-3.0.12/rgmanager/src/daemons/rg_state.c" :point 28818 :coding-system undecided-unix :line 1252 :surround ("\t\tsvcStatus.rs_state = RG_STATE_STOPPED;\n" "" "\t\tif (set_rg_state(svcName, &svcStatus) != 0) {\n\t\t\trg_unlock(&lockp);") :which-func ("_svc_stop"))) :annotation-list ((annotation :type text :data "viewとeventの2回通知している。\nviewの方はあくまでsvcNameのviewの形成が目的である。\neventの方でフェイルオーバーなどのアクションをトリガーすようである。")) :date "Thu Sep  1 22:55:36 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rgmanager))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/r/rgmanager/3.0.12-10.el6/pre-build/rgmanager-3.0.12/rgmanager/src/daemons/rg_thread.c" :point 6319 :coding-system undecided-unix :line 302 :surround ("\t\t\t/* Stop without changing shared state of it */\n" "" "\t\t\terror = group_op(myname, RG_STOP);\n") :which-func ("resgroup_thread_main"))) :annotation-list ((annotation :type text :data "これより一層上は svc_stopでvfに関係してくる。")) :date "Fri Sep  2 20:30:06 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rgmanager))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/r/rgmanager/3.0.12-10.el6/pre-build/rgmanager-3.0.12/rgmanager/src/daemons/fo_domain.c" :point 11871 :coding-system undecided-unix :line 541 :surround ("\n" "" "\tswitch (node_in_domain(nodename, fod, membership)) {\n\tcase 0:") :which-func ("node_should_start"))) :annotation-list ((annotation :type text :data "さらに orderedであればpriorityを考慮してくれる。")) :date "Fri Sep  2 22:30:17 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rgmanager))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/r/rgmanager/3.0.12-10.el6/pre-build/rgmanager-3.0.12/rgmanager/src/daemons/groups.c" :point 11882 :coding-system undecided-unix :line 563 :surround ("\t */\n" "" "\tfod_ret = node_should_start(mp->cn_nodeid, membership,\n\t\t\t\t    svcName, &_domains);") :which-func ("consider_start"))) :annotation-list ((annotation :type text :data "各ノードのrgmanagerが起動してきてもquorateになるまで何も\nおこならい。 quorateに必要な1ノードが参加したところでopenportのイベント\nが飛び、 eval_groups(1、1、1)が実行され、その延長でここに至る。\n\n特にfailover domainを用意していない場合、node_should_startはBESTを\n返すので、 全てのノードにてサービスをRG_STARTすることになる。ところが、この先、\nrt_enqueue_requestの中、svc_startにてrg_lockしているので、本当に\nサービスを起動できるノードはただ一つとなる。")) :date "Fri Sep  2 22:35:06 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rgmanager))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/r/rgmanager/3.0.12-10.el6/pre-build/rgmanager-3.0.12/rgmanager/src/daemons/rg_state.c" :point 15943 :coding-system undecided-unix :line 718 :surround ("\n" "" "\tif (get_rg_state(svcName, &svcStatus) != 0) {\n\t\trg_unlock(&lockp);") :which-func ("svc_start"))) :annotation-list ((annotation :type text :data "ロックをとったからといって油断できない。とっととサービスを起動して\nロックを開放しているノードがいるかもしれないからである。 その場合は\nvfが更新されていることが期待できるので、ロックをとった後vfをチェックする。")) :date "Fri Sep  2 22:39:36 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rgmanager))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel4u8/pre-build/kernel-2.6.9/linux-2.6.9/drivers/char/random.c" :point 71147 :coding-system undecided-unix :line 2306 :surround ("\t__u32\thash[4];\n" "" "\tstruct keydata *keyptr = get_keyptr();\n") :which-func "seqgen_init")) :annotation-list ((annotation :type text :data "get_keyptrの先の値は5分毎に更新される。\n乱数源から採取?")) :date "Wed Sep 28 14:55:55 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-CVE-2011-3188))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/corosync/1.2.3-9.el6/pre-build/corosync-1.2.3/services/cpg.c" :point 7473 :coding-system undecided-unix :line 270 :surround (" */\n" "" "static struct corosync_lib_handler cpg_lib_engine[] =\n{") :which-func "join_list_entry")) :annotation-list ((annotation :type text :data "lib: localclientに対する処理")) :date "Mon Oct  3 20:21:09 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-cpg))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/corosync/1.2.3-9.el6/pre-build/corosync-1.2.3/services/cpg.c" :point 8708 :coding-system undecided-unix :line 310 :surround ("\n" "" "static struct corosync_exec_handler cpg_exec_engine[] =\n{") :which-func "join_list_entry")) :annotation-list ((annotation :type text :data "corosyncを経由した同胞からの指示")) :date "Mon Oct  3 20:21:41 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-cpg))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/corosync/1.2.3-9.el6/pre-build/corosync-1.2.3/exec/main.c" :point 37623 :coding-system undecided-unix :line 1248 :surround ("\n" "" "static void main_service_ready (void)\n{") :which-func "main_service_ready")) :annotation-list ((annotation :type text :data "udpのインターフェイスが準備できたら呼び出される。ここでcpgやらをロードする。")) :date "Mon Oct  3 22:34:34 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-cpg))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel6u1+optional/pre-build/kernel-2.6.32-131.0.15.el6/linux-2.6.32-131.0.15.fc13.x86_64/fs/dlm/lowcomms.c" :point 25404 :coding-system undecided-unix :line 966 :surround ("\tmemcpy(&src_addr, dlm_local_addr[0], sizeof(src_addr));\n" "" "\tmake_sockaddr(&src_addr, 0, &addr_len);\n\tresult = sock->ops->bind(sock, (struct sockaddr *) &src_addr,") :which-func "tcp_connect_to_sock")) :annotation-list ((annotation :type text :data "0なのでポートはおまかせ。")) :date "Wed Oct  5 16:18:43 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-cpg))
(stitch-annotation :version 0 :target-list ((target :type file :file "/usr/src/debug/glibc-2.10.1-69-gaa152ec/nptl/sysdeps/unix/sysv/linux/x86_64/lowlevellock.S" :point 3519 :coding-system undecided-unix :line 128 :surround ("\tmovl\t$2, %edx\n" "" "\tLOAD_FUTEX_WAIT (%esi)\n"))) :annotation-list ((annotation :type text :data "edx = rdx = arg2 = val = 2 で定数で与えている。\n\n       int futex(int *uaddr, int op, int val, const struct timespec *timeout,\n                 int *uaddr2, int val3);")) :date "Wed Oct 26 19:05:50 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-futex-wait))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel5su7/pre-build/kernel-2.6.18/linux-2.6.18-274.el5.x86_64/net/ipv4/route.c" :point 68115 :coding-system undecided-unix :line 2684 :surround ("\tif (!res.prefixlen && res.type == RTN_UNICAST && !fl.oif)\n" "" "\t\tfib_select_default(&fl, &res);\n") :which-func "ip_route_output_slow")) :annotation-list ((annotation :type text :data "output interfaceの指定が無い場合")) :date "Mon Dec 19 17:40:25 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-routing))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel5su6/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/drivers/pci/hotplug/Makefile" :point 694 :coding-system undecided-unix :line 19 :surround ("\n" "" "pci_hotplug-objs\t:=\tpci_hotplug_core.o\n") :which-func "pci_hotplug-objs")) :annotation-list ((annotation :type text :data "obj-$(CONFIG_HOTPLUG_PCI)への追加となる。")) :date "Tue Dec 20 20:56:21 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-acpi))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel5su7/pre-build/kernel-2.6.18/linux-2.6.18-274.el5.x86_64/arch/i386/mm/init.c" :point 7258 :coding-system undecided-unix :line 289 :surround ("\tvaddr = PKMAP_BASE;\n" "" "\tpage_table_range_init(vaddr, vaddr + PAGE_SIZE*LAST_PKMAP, pgd_base);\n") :which-func "permanent_kmaps_init")) :annotation-list ((annotation :type text :data "vaddr以降")) :date "Mon Dec 26 16:11:18 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-bootmem))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel5su7/pre-build/kernel-2.6.18/linux-2.6.18-274.el5.x86_64/arch/i386/mm/init.c" :point 7237 :coding-system undecided-unix :line 288 :surround ("\n" "" "\tvaddr = PKMAP_BASE;\n\tpage_table_range_init(vaddr, vaddr + PAGE_SIZE*LAST_PKMAP, pgd_base);") :which-func "permanent_kmaps_init")) :annotation-list ((annotation :type text :data "KMAPの位置から")) :date "Mon Dec 26 16:11:58 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-bootmem))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel5su5/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/net/core/dev.c" :point 41394 :coding-system undecided-unix :line 1613 :surround ("\n" "" "\t\t\trc = rc == NET_XMIT_BYPASS ? NET_XMIT_SUCCESS : rc;\n\t\t\tgoto out;") :which-func "dev_queue_xmit")) :annotation-list ((annotation :type text :data "qdisk系が意図してdropした場合はNET_XMIT_BYPASS、よって上の\n層にはNET_XMIT_SUCCESSと報告するのか。")) :date "Thu Jan 19 21:32:49 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-tc-qdisc))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel5su6/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/net/core/dev.c" :point 48676 :coding-system undecided-unix :line 1928 :surround ("\n" "" "\tlist_for_each_entry_rcu(ptype, &ptype_all, list) {\n\t\tif (ptype->dev == null_or_orig || ptype->dev == skb->dev ||") :which-func "netif_receive_skb")) :annotation-list ((annotation :type text :data "promiscuousモードの場合libpcapがこの deliver_skb の先にいるはず。")) :date "Wed Jan 25 19:09:05 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-pcap))
(define-keyword reading-gro-pcap :version 0 :keywords reading-gro-pcap :subject "groを使っている場合AC_PACKETの方にちゃんとデータは流れるのか？" :date "Wed Jan 25 21:00:23 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com")
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel5su6/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/net/netfilter/nf_conntrack_proto_tcp.c" :point 35493 :coding-system undecided-unix :line 1165 :surround ("\t.name \t\t\t= \"tcp\",\n" "" "\t.pkt_to_tuple \t\t= tcp_pkt_to_tuple,\n\t.invert_tuple \t\t= tcp_invert_tuple,") :which-func "nfattr_to_tcp")) :annotation-list ((annotation :type text :data "パケットからconntrackオブジェクトを捜す(のに使うtupleを返す)\ntupleかconntrackの各種モジュールで\ntuple->hash値は nf_conntrack_coreで\nhash->contrackオブジェクトもnf_conntrack_coreで")) :date "Thu Jan 26 20:21:55 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-tcp-conntrack))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel5su6/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/net/netfilter/nf_conntrack_proto_tcp.c" :point 35644 :coding-system undecided-unix :line 1169 :surround ("\t.print_conntrack \t= tcp_print_conntrack,\n" "" "\t.packet \t\t= tcp_packet,\n\t.new \t\t\t= tcp_new,") :which-func "nfattr_to_tcp")) :annotation-list ((annotation :type text :data "着信したパケットが、それに対するconntrackオブジェクトとともに渡される。")) :date "Thu Jan 26 20:23:31 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-tcp-conntrack))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-274.el5/pre-build/kernel-2.6.18/linux-2.6.18-274.el5.x86_64/include/linux/net.h" :point 3604 :coding-system undecided-unix :line 114 :surround ("\tstruct fasync_struct\t*fasync_list;\n" "" "\tstruct file\t\t*file;\n\tstruct sock\t\t*sk;") :which-func "socket")) :annotation-list ((annotation :type text :data "ここでvfsと結びついている。")) :date "Tue Jan 31 22:33:57 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-net))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel4u5/pre-build/kernel-2.6.9/linux-2.6.9/include/linux/fs.h" :point 181 :coding-system undecided-unix :line 11 :surround ("#include <linux/linkage.h>\n" "" "#include <linux/limits.h>\n#include <linux/wait.h>"))) :annotation-list ((annotation :type text :data "この中のNR_OPENが、fs.hで上書きされる。カーネルコード中では、\nrlimit.hのNR_OPENはほとんど参照されない。ユーザランド向け?")) :date "Thu Feb  2 19:37:28 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rlimit-nofile))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel4u5/pre-build/kernel-2.6.9/linux-2.6.9/include/linux/limits.h" :point 50 :coding-system undecided-unix :line 4 :surround ("\n" "" "#define NR_OPEN\t        1024\n"))) :annotation-list ((annotation :type text :data "linux/fs.hで上書きされる。")) :date "Thu Feb  2 19:38:53 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rlimit-nofile))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel6u2+optional/pre-build/kernel-2.6.32-220.el6/linux-2.6.32-220.el6.x86_64/ipc/ipc_sysctl.c" :point 6630 :coding-system undecided-unix :line 267 :surround ("\t\t.proc_handler\t= proc_ipcauto_dointvec_minmax,\n" "" "\t\t.extra1\t\t= &zero,\n\t\t.extra2\t\t= &one,") :which-func "sysctl_ipc_registered_data")) :annotation-list ((annotation :type text :data "dointvecのとき extra1 <= VALUE <= extra2か?")) :date "Wed Feb  8 14:41:43 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-auto_msgmni))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel6u2/pre-build/kernel-2.6.32-220.el6/linux-2.6.32-220.el6.x86_64/ipc/msg.c" :point 2407 :coding-system undecided-unix :line 94 :surround ("\tsi_meminfo(&i);\n" "" "\tallowed = (((i.totalram - i.totalhigh) / MSG_MEM_SCALE) * i.mem_unit)\n\t\t/ MSGMNB;") :which-func "recompute_msgmni")) :annotation-list ((annotation :type text :data "(i.totalram - i.totalhigh): ページ数\ni.mem_unit: 4096\n\n(/ (* (/ (/ (* 8 1024 1024) 4096) 32) 4096) 16384)\n=> 16")) :date "Wed Feb 15 14:47:42 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ipc))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel6u2/pre-build/kernel-2.6.32-220.el6/linux-2.6.32-220.el6.x86_64/include/linux/eventfd.h" :point 1 :coding-system undecided-unix :line 1 :surround ("" "" "/*\n *  include/linux/eventfd.h"))) :annotation-list ((annotation :type text :data "非同期I/O(aio)のチャンネルをselectやepollと結びつけるファイル記述子が\n作れる、とRusty Russellが言っていた、らしい。")) :date "Tue Feb 21 18:23:02 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-eventfd))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-194.el5/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/net/sched/sch_generic.c" :point 11017 :coding-system undecided-unix :line 455 :surround ("\tsch->ops = ops;\n" "" "\tsch->enqueue = ops->enqueue;\n\tsch->dequeue = ops->dequeue;") :which-func "qdisc_alloc")) :annotation-list ((annotation :type text :data "schというQdiscインスタンスに埋め込むメソッドはQdisc_opsに由来する。")) :date "Tue Feb 28 21:56:31 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisc))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-194.el5/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/net/sched/sch_cbq.c" :point 7063 :coding-system undecided-unix :line 242 :surround ("\n" "" "static struct cbq_class *\ncbq_classify(struct sk_buff *skb, struct Qdisc *sch, int *qerr)") :which-func "cbq_reclassify")) :annotation-list ((annotation :type text :data "class分けのところでフィルターに依頼する。")) :date "Tue Feb 28 22:21:26 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisc))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/i/iproute/^alias-rhel5su5/pre-build/iproute2-2.6.18-061002/tc/tc_filter.c" :point 8134 :coding-system undecided-unix :line 327 :surround ("\tif (d[0]) {\n" "" "\t\tif ((t.tcm_ifindex = ll_name_to_index(d)) == 0) {\n\t\t\tfprintf(stderr, \"Cannot find device \\\"%s\\\"\\n\", d);") :which-func "tc_filter_list")) :annotation-list ((annotation :type text :data "ここでNETLINK送信データにデバイスを焼き込んでいる。")) :date "Wed Feb 29 22:10:17 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisc))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-194.el5/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/net/sched/sch_api.c" :point 14897 :coding-system undecided-unix :line 646 :surround ("\t\t/* It may be default qdisc, ignore it */\n" "" "\t\tif (q && q->handle == 0)\n\t\t\tq = NULL;") :which-func "tc_modify_qdisc")) :annotation-list ((annotation :type text :data "noopの場合staticにアロケートされてzeroクリアされているだろう。")) :date "Thu Mar  1 18:04:57 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisc))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-194.el5/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/net/sched/sch_api.c" :point 14455 :coding-system undecided-unix :line 626 :surround ("\ttca = arg;\n" "" "\tclid = tcm->tcm_parent;\n\tq = p = NULL;") :which-func "tc_modify_qdisc")) :annotation-list ((annotation :type text :data "rootの場合 TC_H_ROOT")) :date "Thu Mar  1 18:36:40 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisc))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-194.el5/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/net/ipv4/tcp_input.c" :point 124950 :coding-system undecided-unix :line 4272 :surround ("\n" "" "\t\tif (sk->sk_write_pending ||\n\t\t    icsk->icsk_accept_queue.rskq_defer_accept ||") :which-func "tcp_rcv_synsent_state_process")) :annotation-list ((annotation :type text :data "syn に対して syn/ackを受けとた後ackを返す処理。")) :date "Fri Mar  2 14:20:20 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisc))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-194.el5/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/net/ipv4/tcp_input.c" :point 124882 :coding-system undecided-unix :line 4268 :surround ("\t\tif (!sock_flag(sk, SOCK_DEAD)) {\n" "" "\t\t\tsk->sk_state_change(sk);\n\t\t\tsk_wake_async(sk, 0, POLL_OUT);") :which-func "tcp_rcv_synsent_state_process")) :annotation-list ((annotation :type text :data "この先にある\n\n\tsock_def_wakeup\n\nがsk->sk_sleepを起す。")) :date "Fri Mar  2 14:28:12 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisc))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-194.el5/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/net/ipv4/tcp_input.c" :point 124910 :coding-system undecided-unix :line 4269 :surround ("\t\t\tsk->sk_state_change(sk);\n" "" "\t\t\tsk_wake_async(sk, 0, POLL_OUT);\n\t\t}") :which-func "tcp_rcv_synsent_state_process")) :annotation-list ((annotation :type text :data "非同期でconnectしてselectで待っている場合をおこす。")) :date "Fri Mar  2 14:28:55 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisc))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-194.el5/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/net/ipv4/tcp_input.c" :point 129281 :coding-system undecided-unix :line 4441 :surround ("\t\t__kfree_skb(skb);\n" "" "\t\ttcp_data_snd_check(sk, tp);\n\t\treturn 0;") :which-func "tcp_rcv_state_process")) :annotation-list ((annotation :type text :data "synを送ってsyn/ack受けとって、ackを返す場合、下の層へack sbkを押し出す処理がある。")) :date "Fri Mar  2 14:30:11 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisc))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-194.el5/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/net/ipv4/tcp_output.c" :point 57004 :coding-system undecided-unix :line 1944 :surround ("\t\tskb->csum = 0;\n" "" "\t\tTCP_SKB_CB(skb)->flags = (TCPCB_FLAG_ACK | TCPCB_FLAG_FIN);\n\t\tTCP_SKB_CB(skb)->sacked = 0;") :which-func "tcp_send_fin")) :annotation-list ((annotation :type text :data "新しいfin skbにはackが付く。")) :date "Fri Mar  2 21:18:37 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisc))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel6u2/pre-build/kernel-2.6.32-220.el6/linux-2.6.32-220.el6.x86_64/net/ipv4/tcp_input.c" :point 75468 :coding-system undecided-unix :line 2417 :surround ("\t/* Not-A-Trick#2 : Classic rule... */\n" "" "\tif (tcp_dupack_heuristics(tp) > tp->reordering)\n\t\treturn 1;") :which-func "tcp_time_to_recover")) :annotation-list ((annotation :type text :data "(http://tiki.is.os-omicron.org/tiki.cgi?c=v&p=TCP%2F%ED%D5%ED%D4%C0%A9%B8%E6 より引用)\n高速再送/高速リカバリ\n------------------\n高速再送: いちいち RTO を待つとスループットが落ちてしまう．そこで重複 ACK が連続する場合は RTO を待たずに再送する．これを高速再送と呼ぶ．\n\n\t  - BSD の実装をはじめ，普通 3 回重複 ACK を受信すると高速再送する． \n\nこの3がtp->reordering すなわち\n\n          - #define TCP_FASTRETRANS_THRESH 3\n\t    (/srv/sources/sources/k/kernel/2.6.32-220.el6/pre-build/kernel-2.6.32-220.el6/linux-2.6.32-220.el6.x86_64/include/net/tcp.h)")) :date "Tue Mar  6 15:36:57 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dupack))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-220.el6/pre-build/kernel-2.6.32-220.el6/linux-2.6.32-220.el6.x86_64/net/core/dev.c" :point 63817 :coding-system undecided-unix :line 2398 :surround ("enqueue:\n" "" "\t\t\t__skb_queue_tail(&queue->input_pkt_queue, skb);\n\t\t\t*qtail = queue->input_queue_head +") :which-func "enqueue_to_backlog")) :annotation-list ((annotation :type text :data "すでにキューに何か入っていれば、ここに直接来る。\ncpu毎だけロックあり。他の暇なcpuによる抜きとりから保護するためか")) :date "Tue Mar  6 16:51:26 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rps))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-220.el6/pre-build/kernel-2.6.32-220.el6/linux-2.6.32-220.el6.x86_64/net/core/dev.c" :point 64084 :coding-system undecided-unix :line 2408 :surround ("\t\t/* Schedule NAPI for backlog device */\n" "" "\t\tif (napi_schedule_prep(&queue->backlog)) {\n\t\t\tif (cpu != smp_processor_id()) {") :which-func "enqueue_to_backlog")) :annotation-list ((annotation :type text :data "NAPI稼働中か?")) :date "Tue Mar  6 16:54:57 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rps))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-220.el6/pre-build/kernel-2.6.32-220.el6/linux-2.6.32-220.el6.x86_64/net/core/dev.c" :point 64359 :coding-system undecided-unix :line 2416 :surround ("\t\t\t} else\n" "" "\t\t\t\t____napi_schedule(queue, &queue->backlog);\n\t\t}") :which-func "enqueue_to_backlog")) :annotation-list ((annotation :type text :data "このCPUでsoftirq(NET_RX_SOFTIRQ)をあげる。")) :date "Tue Mar  6 16:56:15 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rps))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-220.el6/pre-build/kernel-2.6.32-220.el6/linux-2.6.32-220.el6.x86_64/net/ipv4/af_inet.c" :point 18142 :coding-system undecided-unix :line 734 :surround ("\n" "" "\tinet_rps_record_flow(sk);\n") :which-func "inet_sendpage")) :annotation-list ((annotation :type text :data "受信時に記録しておいた saddr, daddr, portやらから算出したhash値がskに保存されている。\nこれを hash値 -> 今このsend処理を実行しているCPUの組として rps_sock_flow_table 帯域\n変数に記録する。")) :date "Tue Mar  6 19:08:06 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rps))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-238.el5/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/drivers/net/e1000e/netdev.c" :point 119633 :coding-system undecided-unix :line 4260 :surround ("\t/* Reset the timer */\n" "" "\tif (!test_bit(__E1000_DOWN, &adapter->state))\n\t\tmod_timer(&adapter->watchdog_timer,") :which-func "e1000_watchdog_task")) :annotation-list ((annotation :type text :data "2秒周期+スケジューリングによるずれ")) :date "Wed Mar 21 14:01:52 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-e1000e))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel5su8/pre-build/kernel-2.6.18/linux-2.6.18-308.el5.x86_64/drivers/net/virtio_net.c" :point 14282 :coding-system undecided-unix :line 588 :surround ("\tif (vi->mergeable_rx_bufs)\n" "" "\t\tsg_init_one(sg, &hdr->mhdr, sizeof(hdr->mhdr));\n\telse") :which-func "xmit_skb")) :annotation-list ((annotation :type text :data "scatter/gather?")) :date "Thu Mar 22 23:08:32 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-virtio))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel5su8/pre-build/kernel-2.6.18/linux-2.6.18-308.el5.x86_64/drivers/virtio/virtio_pci.c" :point 7143 :coding-system undecided-unix :line 245 :surround ("\t/* activate the queue */\n" "" "\tiowrite32(virt_to_phys(info->queue) >> PAGE_SHIFT,\n\t\t  vp_dev->ioaddr + VIRTIO_PCI_QUEUE_PFN);") :which-func "vp_interrupt")) :annotation-list ((annotation :type text :data "定数VIRTIO_PCI_QUEUE_PFNでpre-build/qemu-kvm-0.12.1.2/hw/virtio-pci.cに伝える。")) :date "Fri Mar 23 16:07:19 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-virtio))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/q/qemu-kvm/0.12.1.2-2.209.el6/pre-build/qemu-kvm-0.12.1.2/hw/rtl8139.c" :point 32605 :coding-system undecided-unix :line 1054 :surround ("        /* receive/copy to target memory */\n" "" "        if (dot1q_buf) {\n            cpu_physical_memory_write(rx_addr, buf, 2 * ETHER_ADDR_LEN);") :which-func "rtl8139_do_receive")) :annotation-list ((annotation :type text :data "よくわからないがコピーしている。")) :date "Fri Mar 23 16:18:44 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-virtio))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/q/qemu-kvm/0.12.1.2-2.209.el6/pre-build/qemu-kvm-0.12.1.2/hw/virtio-net.c" :point 18595 :coding-system undecided-unix :line 627 :surround ("        /* copy in packet.  ugh */\n" "" "        len = iov_from_buf(sg, elem.in_num,\n                           buf + offset, size - offset);") :which-func "virtio_net_receive")) :annotation-list ((annotation :type text :data "コピーしているなぁ...")) :date "Fri Mar 23 16:23:22 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-virtio))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel5su5/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/arch/i386/pci/mmconfig.c" :point 3537 :coding-system undecided-unix :line 157 :surround ("\n" "" "\tacpi_table_parse(ACPI_MCFG, acpi_parse_mcfg);\n\tif ((pci_mmcfg_config_num == 0) ||") :which-func "pci_mmcfg_init")) :annotation-list ((annotation :type text :data "Rev3.1の4.1.2に説明があった。")) :date "Fri Mar 23 22:15:16 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-acpi-MCFG))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/b/bash/4.2.24-1.fc18/pre-build/bash-4.2/variables.c" :point 54800 :coding-system undecided-unix :line 2114 :surround ("    {\n" "" "      if (flags & ASS_APPEND)\n\t{") :which-func "make_variable_value")) :annotation-list ((annotation :type text :data "ASS_APPENDというのが x+=y を文字列の連結としている。")) :date "Mon Mar 26 19:56:40 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-bash))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/u/udev/^alias-rhel6u0/pre-build/udev-147/rules/rules.d/80-drivers.rules" :point 95 :coding-system undecided-unix :line 5 :surround ("\n" "" "DRIVER!=\"?*\", ENV{MODALIAS}==\"?*\", RUN+=\"/sbin/modprobe -b $env{MODALIAS}\"\nSUBSYSTEM==\"tifm\", ENV{TIFM_CARD_TYPE}==\"SD\", RUN+=\"/sbin/modprobe -b tifm_sd\""))) :annotation-list ((annotation :type text :data "dracutで使っているかも。ドライバが確定していないデバイスについて、この\nルールでドライバをロードする。")) :date "Mon Mar 26 23:00:31 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-dracut))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-220.el6/pre-build/kernel-2.6.32-220.el6/linux-2.6.32-220.el6.x86_64/include/linux/usb/ch11.h" :point 600 :coding-system undecided-unix :line 27 :surround (" */\n" "" "#define HUB_CLEAR_TT_BUFFER\t8\n#define HUB_RESET_TT\t\t9"))) :annotation-list ((annotation :type text :data "\t\n\thttp://ja.wikipedia.org/wiki/USBハブ\n\nにも説明がある。")) :date "Mon Apr  2 19:36:11 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-usb-ehci-reset))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-220.el6/pre-build/kernel-2.6.32-220.el6/linux-2.6.32-220.el6.x86_64/net/core/sock.c" :point 11214 :coding-system undecided-unix :line 293 :surround ("\t */\n" "" "\tif (atomic_read(&sk->sk_rmem_alloc) + skb->truesize >=\n\t    (unsigned)sk->sk_rcvbuf) {") :which-func "sock_queue_rcv_skb")) :annotation-list ((annotation :type text :data "ソケット一本あたり, setsockoptのSO_RCVBUFで設定できる。")) :date "Mon Apr  2 23:50:18 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-udp-mem))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-220.el6/pre-build/kernel-2.6.32-220.el6/linux-2.6.32-220.el6.x86_64/net/core/sock.c" :point 41581 :coding-system undecided-unix :line 1626 :surround ("\n" "" "\t/* Under limit. */\n\tif (allocated <= prot->sysctl_mem[0]) {") :which-func "__sk_mem_schedule")) :annotation-list ((annotation :type text :data "/proc/sys/net/ipv4/udp_mem")) :date "Mon Apr  2 23:53:34 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-udp-mem))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-220.el6/pre-build/kernel-2.6.32-220.el6/linux-2.6.32-220.el6.x86_64/net/core/sock.c" :point 42952 :coding-system undecided-unix :line 1680 :surround ("\n" "" "\ttrace_sock_exceed_buf_limit(sk, prot, allocated);\n") :which-func "__sk_mem_schedule")) :annotation-list ((annotation :type text :data "上限をこえたらここで観察できる。")) :date "Mon Apr  2 23:59:16 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-udp-mem))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/l/libvirt/0.9.4-23.el6/pre-build/libvirt-0.9.4/src/qemu/qemu_domain.c" :point 35414 :coding-system undecided-unix :line 1191 :surround ("\n" "" "static int\nqemuDomainOpenLogHelper(struct qemud_driver *driver,") :which-func "qemuDomainObjCheckNetTaint")) :annotation-list ((annotation :type text :data "ログファイル名の決定とオープン。")) :date "Thu Apr  5 15:44:49 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-watchdog))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/l/libvirt/0.9.4-23.el6/pre-build/libvirt-0.9.4/src/util/command.c" :point 7362 :coding-system undecided-unix :line 272 :surround ("\n" "" "/* Ensure that STD is an inheritable copy of FD.  Return 0 on success,\n * -1 on failure.  */") :which-func "getDevNull")) :annotation-list ((annotation :type text :data "stderr(fd == 2)の差し替え。")) :date "Thu Apr  5 15:46:44 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-watchdog))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/l/libvirt/0.9.4-23.el6/pre-build/libvirt-0.9.4/src/qemu/qemu_command.c" :point 163230 :coding-system undecided-unix :line 4717 :surround ("        }\n" "" "        virCommandAddArgList(cmd, \"-watchdog-action\", action, NULL);\n    }") :which-func "qemuBuildCommandLine")) :annotation-list ((annotation :type text :data "ドメイン定義ファイル中のactionをqemu起動オプションに追加する。")) :date "Thu Apr  5 16:01:08 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-watchdog))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-220.el6/pre-build/kernel-2.6.32-220.el6/linux-2.6.32-220.el6.x86_64/kernel/time/timekeeping.c" :point 7552 :coding-system undecided-unix :line 285 :surround ("\t\t*ts = xtime;\n" "" "\t\ttomono = wall_to_monotonic;\n\t\tnsecs = timekeeping_get_ns();") :which-func "ktime_get_ts")) :annotation-list ((annotation :type text :data "gettimeofdayと同じデータソースなんだから、スリープとか関係ないだろう。")) :date "Mon Apr  9 15:35:51 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-uptime))
(stitch-annotation :version 0 :target-list ((target :type directory :directory "/srv/sources/sources/l/lvm2/^alias-rhel6u2+optional/pre-build/LVM2.2.02.87/udev/" :item ".")) :annotation-list ((annotation :type text :data "http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Logical_Volume_Manager_Administration/udev_device_manager.html\nに各ファイルの説明がある。")) :date "Tue Apr 10 20:55:29 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-device-mapper))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-220.el6/pre-build/kernel-2.6.32-220.el6/linux-2.6.32-220.el6.x86_64/arch/x86/kernel/pvclock.c" :point 1391 :coding-system undecided-unix :line 46 :surround ("{\n" "" "\tu64 delta = native_read_tsc() - shadow->tsc_timestamp;\n\treturn pvclock_scale_delta(delta, shadow->tsc_to_nsec_mul,") :which-func "pvclock_get_nsec_offset")) :annotation-list ((annotation :type text :data "ここで制御がhypervisorへ")) :date "Tue Apr 17 18:33:42 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-kvmclock))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel6u2/pre-build/kernel-2.6.32-220.el6/linux-2.6.32-220.el6.x86_64/arch/x86/kernel/kvmclock.c" :point 2117 :coding-system undecided-unix :line 69 :surround ("\n" "" "static int kvm_set_wallclock(unsigned long now)\n{") :which-func "kvm_set_wallclock")) :annotation-list ((annotation :type text :data "ntp経由で時刻同期があったとしても、それをCMOS\nへ書き込めない。")) :date "Tue Apr 17 18:35:25 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-kvmclock))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel6u2+optional/pre-build/kernel-2.6.32-220.el6/linux-2.6.32-220.el6.x86_64/drivers/scsi/be2iscsi/be_cmds.c" :point 8313 :coding-system undecided-unix :line 338 :surround ("\n" "" "\t\tif (cnt > 12000000) {\n\t\t\tdev_err(&ctrl->pdev->dev, \"mbox_db poll timed out\\n\");") :which-func "be_mbox_db_ready_wait")) :annotation-list ((annotation :type text :data "12秒")) :date "Mon May  7 13:28:43 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-kdump))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/n/ntp/^alias-rhel5su8/pre-build/ntp-4.2.2p1/ntpdate/ntpdate.c" :point 31331 :coding-system undecided-unix :line 1433 :surround ("#if !defined SYS_WINNT && !defined SYS_CYGWIN32\n" "" "\t\tif (simple_query || l_adj_systime(&server->offset)) {\n\t\t\tmsyslog(LOG_NOTICE, \"adjust time server %s offset %s sec\",") :which-func "clock_adjust")) :annotation-list ((annotation :type text :data "adjtime相当しか呼んでいない。\nadjtimexのように今日leapがあるかどうか、という情報は渡せない。")) :date "Wed May 30 14:01:08 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-leap-second))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/^alias-rhel5su6/pre-build/cman-2.0.115/cman/qdisk/disk.h" :point 2583 :coding-system undecided-unix :line 96 :surround ("\n" "" "typedef struct __attribute__ ((packed)) {\n\tuint32_t\tps_magic;"))) :annotation-list ((annotation :type text :data "ps: partion status")) :date "Thu May 31 18:06:19 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/^alias-rhel5su6/pre-build/cman-2.0.115/cman/qdisk/disk_util.c" :point 3703 :coding-system undecided-unix :line 168 :surround ("\tps.ps_ca_usec = ctx->qc_average.tv_usec;\n" "" "\tps.ps_incarnation = ctx->qc_incarnation;\n\tif (mask) {") :which-func "qd_write_status")) :annotation-list ((annotation :type text :data "使い続ける。他のノードが書きこんだ領域も含めて読み出しているので、もし\n他のノードのqdiskdが再起動すればqc_incarnationもかわる。これはなんらかの処理で\n使えるだろう。")) :date "Thu May 31 18:19:22 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/^alias-rhel5su6/pre-build/cman-2.0.115/cman/qdisk/main.c" :point 31100 :coding-system undecided-unix :line 1255 :surround ("\n" "" "\t/* Get up-tko (transition off->online) */\n\tctx->qc_tko_up = (ctx->qc_tko / 3);") :which-func "get_config_data")) :annotation-list ((annotation :type text :data "tkoの1/3回、最低2回以上書き込んでいるのを見たら、活きている、起動したと判断する。")) :date "Thu May 31 20:39:10 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/^alias-rhel5su6/pre-build/cman-2.0.115/cman/qdisk/disk.h" :point 7347 :coding-system undecided-unix :line 283 :surround ("\tuint64_t ni_incarnation;\n" "" "\tuint64_t ni_evil_incarnation;\n\ttime_t\tni_last_seen;"))) :annotation-list ((annotation :type text :data "このノードについてEVICTとみなしたときの ni_incarnationの値")) :date "Thu May 31 20:46:16 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/^alias-rhel5su6/pre-build/cman-2.0.115/cman/qdisk/main.c" :point 7841 :coding-system undecided-unix :line 313 :surround (" \t\t     ni[x].ni_status.ps_nodeid)) {\n" "" "\t\t\tclulog(LOG_CRIT, \"Node %d is undead.\\n\",\n\t\t\t       ni[x].ni_status.ps_nodeid);") :which-func "check_transitions")) :annotation-list ((annotation :type text :data "qc_tko回数書き込みが無い場合、まずni_evil_incarnationが記録される(1つ前のif文)。\nMASTERがEVICTの書き込みとcman_kill_nodeを実行する。\n\nそれでも死なない場合、ここに来る。どのノードでもEVICTの書き込みとcman_kill_nodeできる。")) :date "Thu May 31 20:54:46 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel5su6/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/drivers/net/igb/igb_main.c" :point 43776 :coding-system undecided-unix :line 1504 :surround ("\t\tigb_reset(adapter);\n" "" "\tigb_clean_all_tx_rings(adapter);\n\tigb_clean_all_rx_rings(adapter);") :which-func "igb_down")) :annotation-list ((annotation :type text :data "ここでリングバッファをクリア。")) :date "Mon Jul  2 15:33:45 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-igb))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel5su5/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/drivers/net/igb/igb_main.c" :point 77210 :coding-system undecided-unix :line 2735 :surround ("\t\t\tadapter->tx_timeout_count++;\n" "" "\t\t\tschedule_work(&adapter->reset_task);\n\t\t}") :which-func "igb_watchdog_task")) :annotation-list ((annotation :type text :data "この先の遅延処理でring bufferをクリア。")) :date "Mon Jul  2 15:35:15 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-igb))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel5su8/pre-build/kernel-2.6.18/linux-2.6.18-308.el5.x86_64/drivers/net/forcedeth.c" :point 85630 :coding-system undecided-unix :line 2775 :surround ("\t\t\t\t\tdev->name, len, skb->protocol);\n" "" "\t\tnapi_gro_receive(&np->napi, skb);\n\t\tdev->last_rx = jiffies;") :which-func "nv_rx_process")) :annotation-list ((annotation :type text :data "gro経由で押し上げると、protocolスタックのgro用のインターフェイスptype->gro_receive()に\n引き渡される。")) :date "Tue Jul  3 16:37:20 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-gro))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-308.el5/pre-build/kernel-2.6.18/linux-2.6.18-308.el5.x86_64/fs/block_dev.c" :point 24280 :coding-system undecided-unix :line 991 :surround ("\t\t\t}\n" "" "\t\t\tif (!bdev->bd_openers) {\n\t\t\t\tbd_set_size(bdev,(loff_t)get_capacity(disk)<<9);") :which-func "do_open")) :annotation-list ((annotation :type text :data "オープンしている人がいなければ")) :date "Tue Jul  3 21:33:13 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-lvm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/attic/cradles/lcopy.sys/mirror/c/corosync/trunk/pre-build/trunk/exec/totemconfig.c" :point 8802 :coding-system undecided-unix :line 297 :surround ("\n" "" "\tstrcpy (totem_config->rrp_mode, \"none\");\n") :which-func ("totem_config_read"))) :annotation-list ((annotation :type text :data "active,passive,noneからデフォルトはnone。")) :date "Mon Nov 16 02:16:02 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-corosync))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/attic/cradles/lcopy.sys/mirror/c/corosync/trunk/pre-build/trunk/exec/totemudp.c" :point 49674 :coding-system undecided-unix :line 1875 :surround ("\n" "" "int totemudp_mcast_noflush_send (\n\tvoid *udp_context,") :which-func ("totemudp_mcast_noflush_send"))) :annotation-list ((annotation :type text :data "threadsがonの場合キューに入るが、そうでなければ、totemudp_mcast_flush_sendと同じ。")) :date "Mon Nov 16 02:18:29 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-corosync))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/attic/cradles/lcopy.sys/mirror/c/corosync/trunk/pre-build/trunk/exec/totemrrp.c" :point 14495 :coding-system undecided-unix :line 580 :surround ("{\n" "" "\ttotemnet_token_target_set (instance->net_handles[0], token_target);\n}") :which-func ("none_token_target_set"))) :annotation-list ((annotation :type text :data "interfaceを引数に渡しているが、使っていない。single ring?")) :date "Mon Nov 16 02:48:57 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-corosync))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/attic/cradles/lcopy.sys/mirror/c/corosync/trunk/pre-build/trunk/exec/totemrrp.c" :point 23893 :coding-system undecided-unix :line 922 :surround ("\n" "" "static void passive_token_target_set (\n\tstruct totemrrp_instance *instance,") :which-func ("passive_token_target_set"))) :annotation-list ((annotation :type text :data "activeでもpassiveでも同じ。各インターフェイス毎に処理している。")) :date "Mon Nov 16 02:50:11 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-corosync))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/2.0.98-1.el5_3.8/pre-build/cman-2.0.98/cman/daemon/commands.c" :point 27162 :coding-system undecided-unix :line 1080 :surround ("                if (quorum_device->state == NODESTATE_DEAD) {\n" "" "                        quorum_device->state = NODESTATE_MEMBER;\n                        recalculate_quorum(0, 0);") :which-func ("do_cmd_poll_quorum_device"))) :annotation-list ((annotation :type text :data "quorum deviceを1ノードとみなしてメンバーにている。")) :date "Wed Nov 18 02:33:47 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-corosync))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/2.0.98-1.el5_3.8/pre-build/cman-2.0.98/cman/qdisk/main.c" :point 24651 :coding-system undecided-unix :line 1016 :surround ("\t\t\tif (!errors)\n" "" "\t\t\t\tcman_poll_quorum_device(ctx->qc_ch, 1);\n") :which-func ("quorum_loop"))) :annotation-list ((annotation :type text :data "ここでquorumデバイスがあたかもノードとして与えられたvoteを維持。")) :date "Wed Nov 18 02:38:25 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-corosync))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/2.0.98-1.el5_3.8/pre-build/cman-2.0.98/cman/qdisk/main.c" :point 25276 :coding-system undecided-unix :line 1036 :surround ("\t\t\t\tif (!errors)\n" "" "\t\t\t\t\tcman_poll_quorum_device(ctx->qc_ch, 1);\n\t\t\t}") :which-func ("quorum_loop"))) :annotation-list ((annotation :type text :data "???")) :date "Wed Nov 18 02:39:26 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-corosync))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/2.0.98-1.el5_3.8/pre-build/cman-2.0.98/cman/qdisk/main.c" :point 21604 :coding-system undecided-unix :line 903 :surround ("\t\t\t\t} else {\n" "" "\t\t\t\t\tcman_poll_quorum_device(ctx->qc_ch, 0);\n\t\t\t\t}") :which-func ("quorum_loop"))) :annotation-list ((annotation :type text :data "quorumデバイスのvoteを破棄")) :date "Wed Nov 18 02:40:03 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-corosync))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/2.0.98-1.el5_3.8/pre-build/cman-2.0.98/cman/daemon/commands.c" :point 7491 :coding-system undecided-unix :line 288 :surround ("\n" "" "\tlist_iterate(nodelist, &cluster_members_list) {\n\t\tnode = list_item(nodelist, struct cluster_node);") :which-func ("calculate_quorum"))) :annotation-list ((annotation :type text :data "参加しているノード全員のvotesの和を計算(total_votes)\n参加しているノード全員のexpected votesのうち最大のものを求める(highest_expected)")) :date "Wed Nov 18 02:43:09 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-corosync))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/2.0.98-1.el5_3.8/pre-build/cman-2.0.98/cman/daemon/commands.c" :point 7760 :coding-system undecided-unix :line 298 :surround ("\t}\n" "" "\tif (quorum_device && quorum_device->state == NODESTATE_MEMBER)\n\t\ttotal_votes += quorum_device->votes;") :which-func ("calculate_quorum"))) :annotation-list ((annotation :type text :data "quorum_deviceが有効であれば、それに与えられているvoteを加算")) :date "Wed Nov 18 02:44:21 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-corosync))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/2.0.98-1.el5_3.8/pre-build/cman-2.0.98/cman/qdisk/main.c" :point 25276 :coding-system undecided-unix :line 1036 :surround ("\t\t\t\tif (!errors)\n" "" "\t\t\t\t\tcman_poll_quorum_device(ctx->qc_ch, 1);\n\t\t\t}") :which-func ("quorum_loop"))) :annotation-list ((annotation :type text :data "これだと masterでもmasterでなくともvoteをかせげる。")) :date "Wed Nov 18 11:18:29 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-corosync))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/2.0.98-1.el5_3.8/pre-build/cman-2.0.98/cman/daemon/commands.c" :point 32464 :coding-system undecided-unix :line 1285 :surround ("\tcase CMAN_CMD_ISQUORATE:\n" "" "\t\treturn cluster_is_quorate;\n") :which-func ("process_command"))) :annotation-list ((annotation :type text :data "この変数を見ればquorateかどうかわかる。")) :date "Wed Nov 18 11:20:06 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-corosync))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/2.0.98-1.el5_3.8/pre-build/cman-2.0.98/cman/lib/libcman.h" :point 2306 :coding-system undecided-unix :line 62 :surround ("typedef enum {CMAN_REASON_PORTCLOSED,\n" "" "\t      CMAN_REASON_STATECHANGE,\n              CMAN_REASON_PORTOPENED,")) (target :type file :file "/srv/sources/sources/c/cman/2.0.98-1.el5_3.8/pre-build/cman-2.0.98/cman/daemon/cnxman-socket.h" :point 4173 :coding-system undecided-unix :line 104 :surround ("#define EVENT_REASON_PORTCLOSED   0\n" "" "#define EVENT_REASON_STATECHANGE  1\n#define EVENT_REASON_PORTOPENED   2"))) :annotation-list ((annotation :type text :data "CMAN_REASON_STATECHANGE == EVENT_REASON_STATECHANGE")) :date "Wed Nov 18 12:03:31 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-corosync))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/2.0.98-1.el5_3.8/pre-build/cman-2.0.98/group/daemon/cman.c" :point 3171 :coding-system undecided-unix :line 129 :surround ("\t\tbreak;\n" "" "\tcase CMAN_REASON_STATECHANGE:\n\t\tstatechange();") :which-func ("cman_callback"))) :annotation-list ((annotation :type text :data "cman daemonのrecalculate_quorumから来る。")) :date "Wed Nov 18 12:05:46 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-corosync))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/2.0.98-1.el5_3.8/pre-build/cman-2.0.98/fence/fenced/agent.c" :point 6102 :coding-system undecided-unix :line 297 :surround ("\n" "" "\t/* Mark it as fenced */\n\tif (!cman_get_node(ch, 0, &node))") :which-func ("update_cman"))) :annotation-list ((annotation :type text :data "fencingが完了したことを伝えるために、cmanを呼ぶ。")) :date "Thu Nov 19 11:46:29 2009" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-corosync))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/r/readline/6.0-3.fc12/pre-build/readline-6.0/text.c" :point 9679 :coding-system undecided-unix :line 435 :surround ("/* Move forward a word.  We do what Emacs does.  Handles multibyte chars. */\n" "" "int\nrl_forward_word (count, key)") :which-func ("rl_end_of_line"))) :annotation-list ((annotation :type text :data "forward char")) :date "Wed Jan 20 02:50:01 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (readline-subword))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/o/openssh/4.3p2-36.el5_4.4/pre-build/openssh-4.3p2/auth.c" :point 7400 :coding-system undecided-unix :line 251 :surround ("\n" "" "\tauthlog(\"%s %s for %s%.100s from %.200s port %d%s\",\n\t    authmsg,") :which-func ("auth_log"))) :annotation-list ((annotation :type text :data "%.100sで長すぎる名前の入力を遮断している。")) :date "Tue Mar 16 02:17:03 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (just-reading security))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/j/java-1.6.0-openjdk/1.6.0.0-35.b17.fc13/vanilla/hotspot/src/share/vm/runtime/thread.cpp" :point 135818 :coding-system undecided-unix :line 3734 :surround ("// Threads::print_on() is called at safepoint by VM_PrintThreads operation.\n" "" "void Threads::print_on(outputStream* st, bool print_stacks, bool internal_format, bool print_concurrent_locks) {\n  char buf[32];") :which-func ("Threads::print_on"))) :annotation-list ((annotation :type text :data "javaのスタックトレース")) :date "Wed Apr  7 05:33:50 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (xbacktrace))
(stitch-annotation :version 0 :target-list ((target :type file :file "/home/jet/var/emacs/trunk/src/.gdbinit" :point 27159 :coding-system undecided-unix :line 1185 :surround ("\n" "" "define xbacktrace\n  set $bt = backtrace_list") :which-func ("xbacktrace"))) :annotation-list ((annotation :type text :data "emacsのバックトレース")) :date "Wed Apr  7 05:34:10 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (xbacktrace))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/2.0.98-1.el5_3.8/pre-build/cman-2.0.98/fence/fenced/group.c" :point 3576 :coding-system undecided-unix :line 162 :surround ("\n" "" "\tgh = group_init(NULL, \"fence\", 0, &callbacks, GROUPD_TIMEOUT);\n\tif (!gh) {") :which-func ("setup_groupd"))) :annotation-list ((annotation :type text :data "group_initの引数のレベル(ここでは0)で通知の優先度が決まるのか？")) :date "Sun Apr 18 22:03:20 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-cluster))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^lcopy-trunk/pre-build/linux-2.6/net/unix/af_unix.c" :point 26510 :coding-system undecided-unix :line 1036 :surround ("\n" "" "\tif (test_bit(SOCK_PASSCRED, &sock->flags) && !u->addr &&\n\t    (err = unix_autobind(sock)) != 0)") :which-func ("unix_stream_connect"))) :annotation-list ((annotation :type text :data "!u->addr: バインドされていなかったら。")) :date "Sun May 16 04:03:12 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-lsof-cant-identify-protocol))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sop/srv/sources/attic/cradles/lcopy.sys/mirror/k/kernel/trunk/pre-build/linux-2.6/net/ipv4/af_inet.c" :point 19440 :coding-system undecided-unix :line 778 :surround ("\t\tif (sk->sk_prot->shutdown)\n" "" "\t\t\tsk->sk_prot->shutdown(sk, how);\n\t\tbreak;") :which-func ("inet_shutdown"))) :annotation-list ((annotation :type text :data "ここで tcp_shutdown を呼ぶ。")) :date "Tue May 18 01:14:13 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-lsof-cant-identify-protocol))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sop/srv/sources/attic/cradles/lcopy.sys/mirror/k/kernel/trunk/pre-build/linux-2.6/net/ipv4/tcp.c" :point 49642 :coding-system undecided-unix :line 1865 :surround ("\t\t/* Clear out any half completed packets.  FIN if needed. */\n" "" "\t\tif (tcp_close_state(sk))\n\t\t\ttcp_send_fin(sk);") :which-func ("tcp_shutdown"))) :annotation-list ((annotation :type text :data "sk->sk_shutdownにhowが設定されている。")) :date "Tue May 18 01:18:43 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-lsof-cant-identify-protocol))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.9-89.EL/pre-build/kernel-2.6.9/linux-2.6.9/configs/kernel-2.6.9-x86_64.config" :point 117 :coding-system undecided-unix :line 6 :surround ("#\n" "" "CONFIG_X86_64=y\nCONFIG_64BIT=y") :which-func ("CONFIG_X86_64"))) :annotation-list ((annotation :type text :data "THIS IS AN EXAMPLE ANNOTATION.")) :date "Thu Aug 12 09:53:13 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (example))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su4/packages/k/kernel/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/fs/nfs/read.c" :point 18494 :coding-system undecided-unix :line 724 :surround ("\t */\n" "" "\tret = nfs_readpages_from_fscache(desc.ctx, inode, mapping,\n\t\t\t\t\t pages, &nr_pages);") :which-func ("nfs_readpages"))) :annotation-list ((annotation :type text :data "nfs_file_read <ここでgetattrしてサーバ側で変更があれば、キャッシュをinvalidとする処理がある？>\n-> generic_file_aio_read\n--> <page cache layer> ... nfs_readpages\n---> nfs_readpages_from_fscache|read_cache_pages")) :date "Thu Dec 30 01:30:25 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (nfs-atime))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su4/packages/k/kernel/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/fs/nfs/inode.c" :point 19252 :coding-system undecided-unix :line 725 :surround ("\t\t\tnfs_sync_mapping(mapping);\n" "" "\t\tinvalidate_inode_pages3(mapping);\n") :which-func ("nfs_revalidate_mapping"))) :annotation-list ((annotation :type text :data "ここでページキャッシュから追い出している。")) :date "Mon Jan  3 17:14:30 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (nfs-atime))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su4/packages/k/kernel/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/mm/filemap.c" :point 31149 :coding-system undecided-unix :line 1100 :surround ("\tif (filp)\n" "" "\t\tfile_accessed(filp);\n}") :which-func ("do_generic_mapping_read"))) :annotation-list ((annotation :type text :data "ここでタイムスタンプ(atime)を更新")) :date "Mon Jan  3 18:16:11 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (nfs-atime))
(stitch-annotation :version 0 :target-list ((target :type file :file "/home/jet/srpmix/sources/c/corosync/1.3.1-1.fc14/pre-build/corosync-1.3.1/exec/totemconfig.c" :point 2705 :coding-system undecided-unix :line 74 :surround ("#define JOIN_TIMEOUT\t\t\t\t50\n" "" "#define MERGE_TIMEOUT\t\t\t\t200\n#define DOWNCHECK_TIMEOUT\t\t\t1000"))) :annotation-list ((annotation :type text :data "0.2秒tokenが更新されていなくて、GATHERでもCOMMITでもRECOVERYでもなければ、\nmerge送信(gatherのことか)")) :date "Fri May 27 03:27:55 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-corosync))
(stitch-annotation :version 0 :target-list ((target :type file :file "/home/jet/srpmix/sources/c/cluster/3.1.1-1.fc14/pre-build/cluster-3.1.1/cman/daemon/ais.c" :point 10821 :coding-system undecided-unix :line 343 :surround ("\t\tlog_printf(LOGSYS_LEVEL_DEBUG, \"ais: last memb_count = %d, current = %\"PRIuFAST32\"\\n\", last_memb_count, member_list_entries);\n" "" "\t\tsend_transition_msg(last_memb_count, first_trans);\n\t\tlast_memb_count = member_list_entries;") :which-func ("cman_confchg_fn"))) :annotation-list ((annotation :type text :data "この先、quorumの再計算でクラスターメッセージを送信する。\nそのメッセージの先でfencingか？")) :date "Thu Jun  9 03:45:39 2011" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-cluster))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-220.el6/pre-build/kernel-2.6.32-220.el6/linux-2.6.32-220.el6.x86_64/net/ipv4/tcp_input.c" :point 46386 :coding-system undecided-unix :line 1430 :surround ("\n" "" "\ttcp_unlink_write_queue(skb, sk);\n\tsk_wmem_free_skb(sk, skb);") :which-func "tcp_shifted_skb")) :annotation-list ((annotation :type text :data "ackを受けてここにきてwmemを広げる。")) :date "Fri Mar  2 01:27:08 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisc))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/d/device-mapper-multipath/^alias-rhel5su7/pre-build/multipath-tools-0.4.7.rhel5.30/libmultipath/configure.c" :point 1626 :coding-system undecided-unix :line 81 :surround ("\t}\n" "" "\tif (mpp->pgpolicyfn && mpp->pgpolicyfn(mpp))\n\t\treturn 1;") :which-func "setup_map")) :annotation-list ((annotation :type text :data "ここでpgpolicyfnを呼び出している。")) :date "Fri Mar 16 08:51:34 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/g/graphviz/2.26.0-7.el6/pre-build/graphviz-2.26.0/lib/common/shapes.c" :point 59984 :coding-system undecided-unix :line 2340 :surround ("\n" "" "static void gen_fields(GVJ_t * job, node_t * n, field_t * f)\n{") :which-func "gen_fields")) :annotation-list ((annotation :type text :data "ここでフィールドを書き出している。")) :date "Wed Mar 21 11:12:53 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (hacking-graphviz-record-field-tooltips))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/g/graphviz/2.26.0-7.el6/pre-build/graphviz-2.26.0/lib/common/shapes.c" :point 60586 :coding-system undecided-unix :line 2365 :surround ("\t    AF[1] = add_pointf(AF[1], coord);\n" "" "\t    gvrender_polyline(job, AF, 2);\n\t}") :which-func "gen_fields")) :annotation-list ((annotation :type text :data "ここでレンダーしているのでまわりにアンカーを張れれば良い。")) :date "Wed Mar 21 11:13:29 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (hacking-graphviz-record-field-tooltips))
(define-keyword hacking-graphviz-record-field-tooltips :version 0 :keywords hacking-graphviz-record-field-tooltips :subject "recordにフィールドにtooltips/urlを定義できるようにする。\n\n\trecord:field[...];\n\nで定義できれば良い。" :date "Wed Mar 21 11:16:05 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com")
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/g/graphviz/2.26.0-7.el6/pre-build/graphviz-2.26.0/lib/common/shapes.c" :point 6263 :coding-system undecided-unix :line 167 :surround ("\n" "" "static shape_desc Shapes[] = {\t/* first entry is default for no such shape */\n    {\"box\", &poly_fns, &p_box},"))) :annotation-list ((annotation :type text :data "形(shape)毎のハンドラ一覧。")) :date "Wed Mar 21 11:19:30 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (hacking-graphviz-record-field-tooltips))
(stitch-annotation :version 0 :target-list ((target :type file :file "/home/yamato/var/graphviz/lib/agraph/agraph.h" :point 9451 :coding-system undecided-unix :line 267 :surround ("    extern Agnode_t *agfstnode(Agraph_t * g);\n" "" "    extern Agnode_t *agnxtnode(Agnode_t * n);\n") :which-func "NIL")) :annotation-list ((annotation :type text :data "nextノード")) :date "Fri Mar 23 10:36:43 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (hacking-graphviz-record-field-tooltips))
(stitch-annotation :version 0 :target-list ((target :type file :file "/home/yamato/var/graphviz/lib/agraph/agraph.h" :point 9405 :coding-system undecided-unix :line 266 :surround ("    extern Agnode_t *agsubnode(Agraph_t * g, Agnode_t * n, int createflag);\n" "" "    extern Agnode_t *agfstnode(Agraph_t * g);\n    extern Agnode_t *agnxtnode(Agnode_t * n);") :which-func "NIL")) :annotation-list ((annotation :type text :data "firstノード")) :date "Fri Mar 23 10:37:49 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (hacking-graphviz-record-field-tooltips))
(stitch-annotation :version 0 :target-list ((target :type file :file "/home/yamato/var/graphviz/lib/agraph/agraph.h" :point 10736 :coding-system undecided-unix :line 298 :surround ("    extern int aghtmlstr(char *);\n" "" "    extern char *agstrbind(Agraph_t * g, char *);\n    extern int agstrfree(Agraph_t *, char *);") :which-func "NIL")) :annotation-list ((annotation :type text :data "== intern")) :date "Fri Mar 23 10:39:02 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (hacking-graphviz-record-field-tooltips))
(stitch-annotation :version 0 :target-list ((target :type file :file "/home/yamato/var/graphviz/lib/agraph/agraph.h" :point 11113 :coding-system undecided-unix :line 307 :surround ("\tDict_t *dict;\t\t/* shared dict to interpret attr field */\n" "" "\tchar **str;\t\t/* the attribute string values */\n    };") :which-func "NIL")) :annotation-list ((annotation :type text :data "indexでアクセスする。")) :date "Fri Mar 23 10:40:38 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (hacking-graphviz-record-field-tooltips))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/g/graphviz/2.26.0-7.el6/pre-build/graphviz-2.26.0/lib/cgraph/id.c" :point 2138 :coding-system undecided-unix :line 91 :surround ("\n" "" "int agmapnametoid(Agraph_t * g, int objtype, char *str,\n\t\t  unsigned long *result, int createflag)") :which-func "agmapnametoid")) :annotation-list ((annotation :type text :data "ここでidを作る。")) :date "Fri Mar 23 13:39:01 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (hacking-graphviz-record-field-tooltips))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/l/libvirt/0.9.4-23.el6/pre-build/libvirt-0.9.4/src/qemu/qemu_monitor.c" :point 16721 :coding-system undecided-unix :line 635 :surround ("\n" "" "        /* Make sure anyone waiting wakes up now */\n        virCondSignal(&mon->notify);") :which-func "qemuMonitorIO")) :annotation-list ((annotation :type text :data "ここでqemuとのソケット切れを処理している。")) :date "Mon Mar 26 12:26:01 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-libvirt))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/l/libvirt/0.9.4-23.el6/pre-build/libvirt-0.9.4/src/qemu/qemu_process.c" :point 106565 :coding-system undecided-unix :line 3424 :surround ("        /* we can't stop the operation even if the script raised an error */\n" "" "        virHookCall(VIR_HOOK_DRIVER_QEMU, vm->def->name,\n                    VIR_HOOK_QEMU_OP_RELEASE, VIR_HOOK_SUBOP_END, NULL, xml);") :which-func "qemuProcessStop")) :annotation-list ((annotation :type text :data "コマンドを呼べる。")) :date "Mon Mar 26 12:32:36 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-libvirt))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/l/libvirt/0.9.4-23.el6/pre-build/libvirt-0.9.4/src/qemu/qemu_monitor.c" :point 15231 :coding-system undecided-unix :line 592 :surround ("                            _(\"Invalid file descriptor while waiting for monitor\"));\n" "" "            eof = 1;\n            events &= ~VIR_EVENT_HANDLE_ERROR;") :which-func "qemuMonitorIO")) :annotation-list ((annotation :type text :data "ここれはtrueとすべき。")) :date "Mon Mar 26 12:35:39 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-libvirt patch-queue))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/l/libvirt/0.9.4-23.el6/pre-build/libvirt-0.9.4/src/qemu/qemu_monitor.c" :point 17333 :coding-system undecided-unix :line 651 :surround ("        VIR_DEBUG(\"Triggering error callback\");\n" "" "        (errorNotify)(mon, vm);\n    } else {") :which-func "qemuMonitorIO")) :annotation-list ((annotation :type text :data "???")) :date "Mon Mar 26 12:37:03 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-libvirt))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/l/libvirt/0.9.4-23.el6/pre-build/libvirt-0.9.4/src/qemu/qemu_monitor.c" :point 16931 :coding-system undecided-unix :line 640 :surround ("        VIR_DEBUG(\"Triggering EOF callback\");\n" "" "        (eofNotify)(mon, vm);\n    } else if (error) {") :which-func "qemuMonitorIO")) :annotation-list ((annotation :type text :data "=> qemuProcessHandleMonitorEOF")) :date "Mon Mar 26 12:37:32 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-libvirt))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/q/qemu-kvm/0.12.1.2-2.209.el6/pre-build/qemu-kvm-0.12.1.2/hw/wdt_i6300esb.c" :point 6042 :coding-system undecided-unix :line 181 :surround ("        /* What to do at the end of stage 1? */\n" "" "        switch (d->int_type) {\n        case INT_TYPE_IRQ:") :which-func "i6300esb_timer_expired")) :annotation-list ((annotation :type text :data "ウォッチドッグにひっかかった場合ここでstderrに記録する。\nstderrは誰が回収してくれるのか？")) :date "Fri Mar 30 18:04:33 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-watchdog))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/q/qemu-kvm/0.12.1.2-2.209.el6/pre-build/qemu-kvm-0.12.1.2/qemu-options.hx" :point 69457 :coding-system undecided-unix :line 1948 :surround ("\n" "" "DEF(\"watchdog-action\", HAS_ARG, QEMU_OPTION_watchdog_action, \\\n    \"-watchdog-action reset|shutdown|poweroff|pause|debug|none\\n\" \\"))) :annotation-list ((annotation :type text :data "qemuの起動オプションに-watchdog ...をつけるとwatchdogタイムアウト時の挙動を\n指定できる。")) :date "Tue Apr  3 14:16:17 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-watchdog))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/q/qemu-kvm/0.12.1.2-2.209.el6/pre-build/qemu-kvm-0.12.1.2/hw/wdt_i6300esb.c" :point 6602 :coding-system undecided-unix :line 196 :surround ("            d->previous_reboot_flag = 1;\n" "" "            watchdog_perform_action(); /* This reboots, exits, etc */\n            i6300esb_reset(&d->dev.qdev);") :which-func "i6300esb_timer_expired")) :annotation-list ((annotation :type text :data "ここからスタート")) :date "Tue Apr  3 14:52:21 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-watchdog))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-220.el6/pre-build/kernel-2.6.32-220.el6/linux-2.6.32-220.el6.x86_64/net/core/sock.c" :point 11214 :coding-system undecided-unix :line 293 :surround ("\t */\n" "" "\tif (atomic_read(&sk->sk_rmem_alloc) + skb->truesize >=\n\t    (unsigned)sk->sk_rcvbuf) {") :which-func "sock_queue_rcv_skb")) :annotation-list ((annotation :type text :data "sk_rmem_allocはskb_set_owner_rで更新する。\nすなわち受信用にskを受け入れると増加する。")) :date "Tue Apr  3 23:05:42 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-udp))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-220.el6/pre-build/kernel-2.6.32-220.el6/linux-2.6.32-220.el6.x86_64/net/core/sock.c" :point 11214 :coding-system undecided-unix :line 293 :surround ("\t */\n" "" "\tif (atomic_read(&sk->sk_rmem_alloc) + skb->truesize >=\n\t    (unsigned)sk->sk_rcvbuf) {") :which-func "sock_queue_rcv_skb")) :annotation-list ((annotation :type text :data "sk->sk_rcvbufはSO_RCVBUFによって設定できるソケット毎のリード用\nメモリの上限。")) :date "Tue Apr  3 23:10:38 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-udp))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-220.el6/pre-build/kernel-2.6.32-220.el6/linux-2.6.32-220.el6.x86_64/net/core/sock.c" :point 41519 :coding-system undecided-unix :line 1624 :surround ("\tsk->sk_forward_alloc += amt * SK_MEM_QUANTUM;\n" "" "\tallocated = atomic_add_return(amt, prot->memory_allocated);\n") :which-func "__sk_mem_schedule")) :annotation-list ((annotation :type text :data "プロトコル単位のメモリ使用量")) :date "Tue Apr  3 23:13:03 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-udp))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-220.el6/pre-build/kernel-2.6.32-220.el6/linux-2.6.32-220.el6.x86_64/net/core/sock.c" :point 41767 :coding-system undecided-unix :line 1634 :surround ("\t/* Under pressure. */\n" "" "\tif (allocated > prot->sysctl_mem[1])\n\t\tif (prot->enter_memory_pressure)") :which-func "__sk_mem_schedule")) :annotation-list ((annotation :type text :data "/proc/sys/net/ipv4/udp_memの2番目")) :date "Tue Apr  3 23:14:24 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-udp))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-220.el6/pre-build/kernel-2.6.32-220.el6/linux-2.6.32-220.el6.x86_64/net/core/sock.c" :point 41901 :coding-system undecided-unix :line 1639 :surround ("\t/* Over hard limit. */\n" "" "\tif (allocated > prot->sysctl_mem[2])\n\t\tgoto suppress_allocation;") :which-func "__sk_mem_schedule")) :annotation-list ((annotation :type text :data "/proc/sys/net/ipv4/udp_memの3番目")) :date "Tue Apr  3 23:14:41 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-udp))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-220.el6/pre-build/kernel-2.6.32-220.el6/linux-2.6.32-220.el6.x86_64/net/core/sock.c" :point 42048 :coding-system undecided-unix :line 1644 :surround ("\tif (kind == SK_MEM_RECV) {\n" "" "\t\tif (atomic_read(&sk->sk_rmem_alloc) < prot->sysctl_rmem[0])\n\t\t\treturn 1;") :which-func "__sk_mem_schedule")) :annotation-list ((annotation :type text :data "ソケット単位の受信のメモリ使用量とプロトコル毎に与える「ソケット単位の受信のメモリ使用」下限の比較")) :date "Tue Apr  3 23:24:16 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-udp))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/l/libvirt/0.9.4-23.el6/pre-build/libvirt-0.9.4/src/qemu/qemu_process.c" :point 89499 :coding-system undecided-unix :line 2908 :surround ("    VIR_DEBUG(\"Creating domain log file\");\n" "" "    if ((logfile = qemuDomainCreateLog(driver, vm, false)) < 0)\n        goto cleanup;") :which-func "qemuProcessStart")) :annotation-list ((annotation :type text :data "ここでログファイル名を決めている。")) :date "Thu Apr  5 15:00:33 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-watchdog))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/l/libvirt/0.9.4-23.el6/pre-build/libvirt-0.9.4/src/qemu/qemu_process.c" :point 93226 :coding-system undecided-unix :line 3024 :surround ("\n" "" "    if ((pos = lseek(logfile, 0, SEEK_END)) < 0)\n        VIR_WARN(\"Unable to seek to end of logfile: %s\",") :which-func "qemuProcessStart")) :annotation-list ((annotation :type text :data "ログファイル末尾にシークして")) :date "Thu Apr  5 15:00:53 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-watchdog))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/l/libvirt/0.9.4-23.el6/pre-build/libvirt-0.9.4/src/util/command.c" :point 12635 :coding-system undecided-unix :line 452 :surround ("    }\n" "" "    if (childerr > 0 && prepareStdFd(childerr, STDERR_FILENO) < 0) {\n        virReportSystemError(errno,") :which-func "virExecWithHook")) :annotation-list ((annotation :type text :data "標準エラー出力を差し替えている=>ログファイルへ。")) :date "Thu Apr  5 15:05:21 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-watchdog))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/q/qemu-kvm/0.12.1.2-2.209.el6/pre-build/qemu-kvm-0.12.1.2/hw/wdt_i6300esb.c" :point 6042 :coding-system undecided-unix :line 181 :surround ("        /* What to do at the end of stage 1? */\n" "" "        switch (d->int_type) {\n        case INT_TYPE_IRQ:") :which-func "i6300esb_timer_expired")) :annotation-list ((annotation :type text :data "libvirtがqemuをexecveする前にstderrの配管工事をしているため\nログファイル(/var/log/libvirt/qemu/ゲストの名前.log)へ記載される。")) :date "Thu Apr  5 15:06:37 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-watchdog))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/q/qemu-kvm/0.12.1.2-2.209.el6/pre-build/qemu-kvm-0.12.1.2/hw/watchdog.c" :point 2568 :coding-system undecided-unix :line 85 :surround ("{\n" "" "    if (strcasecmp(p, \"reset\") == 0)\n        watchdog_action = WDT_RESET;") :which-func "select_watchdog_action")) :annotation-list ((annotation :type text :data "watchdog_actionはqemuの引数-watchdog-actionで与える。(man qemu)")) :date "Thu Apr  5 15:09:04 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-watchdog))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.32-220.el6/pre-build/kernel-2.6.32-220.el6/linux-2.6.32-220.el6.x86_64/net/core/dev.c" :point 72999 :coding-system undecided-unix :line 2777 :surround ("#ifdef CONFIG_NET_CLS_ACT\n" "" "\tskb = handle_ing(skb, &pt_prev, &ret, orig_dev);\n\tif (!skb)") :which-func "__netif_receive_skb")) :annotation-list ((annotation :type text :data "CPU毎のinput_pkt_queue \n-> ソケット単位のsk_receive_queue\nあるいは\n-> handle_ingの先のqdisc")) :date "Fri Apr  6 01:36:57 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-udp))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel5su8/pre-build/kernel-2.6.18/linux-2.6.18-308.el5.x86_64/drivers/md/dm-mpath.c" :point 30803 :coding-system undecided-unix :line 1377 :surround ("\n" "" "\tif (hwh->type && hwh->type->error)\n\t\terr_flags = hwh->type->error(hwh, bio);") :which-func "do_end_io")) :annotation-list ((annotation :type text :data "hardwareハンドラにエラーかどうか再解釈の余地を与えている。")) :date "Wed May 16 00:41:40 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel5su8/pre-build/kernel-2.6.18/linux-2.6.18-308.el5.x86_64/drivers/md/dm-mpath.c" :point 34501 :coding-system undecided-unix :line 1508 :surround ("\n" "" "\tif (hwh->type && hwh->type->status)\n\t\tsz += hwh->type->status(hwh, type, result + sz, maxlen - sz);") :which-func "multipath_status")) :annotation-list ((annotation :type text :data "ハードウェアハンドラ特有の情報を載せる余地を与える。")) :date "Wed May 16 00:42:40 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/s/squid/3.1.10-1.el6_2.2/pre-build/squid-3.1.10/src/peer_digest.cc" :point 17671 :coding-system undecided-unix :line 594 :surround ("            /* some kind of a bug */\n" "" "            peerDigestFetchAbort(fetch, buf, httpStatusLineReason(&reply->sline));\n            return -1;\t\t/* XXX -1 will abort stuff in ReadReply! */") :which-func "peerDigestFetchReply")) :annotation-list ((annotation :type text :data "ここからエラーメッセージへ")) :date "Fri May 18 19:02:19 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-squid3))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-308.el5/pre-build/kernel-2.6.18/linux-2.6.18-308.el5.x86_64/drivers/scsi/scsi_error.c" :point 8165 :coding-system undecided-unix :line 309 :surround (" **/\n" "" "static int scsi_check_sense(struct scsi_cmnd *scmd)\n{") :which-func "scsi_check_sense")) :annotation-list ((annotation :type text :data "sense == error code\nhttp://en.wikipedia.org/wiki/SCSI_Request_Sense_Command")) :date "Wed May 23 13:54:34 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-308.el5/pre-build/kernel-2.6.18/linux-2.6.18-308.el5.x86_64/drivers/scsi/scsi_error.c" :point 8543 :coding-system undecided-unix :line 321 :surround ("\n" "" "\tif (scsi_dh_data && scsi_dh_data->scsi_dh &&\n\t\t\tscsi_dh_data->scsi_dh->check_sense) {") :which-func "scsi_check_sense")) :annotation-list ((annotation :type text :data "scsi device handlerがあれば、そこで\n\n      sense -> linuxのscsi層で定義されたエラーコード\n\nへの変換を行う。なければ汎用のコードでがんばる。")) :date "Wed May 23 13:55:07 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/d/device-mapper-multipath/0.4.7-46.el5/pre-build/multipath-tools-0.4.7.rhel5.30/multipathd/main.c" :point 14582 :coding-system undecided-unix :line 697 :surround ("\n" "" "\tif (uev_discard(uev->devpath))\n\t\treturn 0;") :which-func "uev_trigger")) :annotation-list ((annotation :type text :data "ここでブロックデバイスかどうか検査している。")) :date "Wed Jul 11 23:26:51 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@dhcp-193-120.nrt.redhat.com" :keywords (reading-device-mapper-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/d/device-mapper-multipath/0.4.7-48.el5/pre-build/multipath-tools-0.4.7.rhel5.32/multipathd/main.c" :point 6942 :coding-system undecided-unix :line 334 :surround ("\t}\n" "" "\tflush_map(mpp, vecs);\n") :which-func "ev_remove_map")) :annotation-list ((annotation :type text :data "cliから呼ばれる。カーネルへ以来して\n\n\torphan_paths(vecs->pathvec, mpp);\n\tremove_map(mpp, vecs, stop_waiter_thread, 1);\n\nする。")) :date "Thu Jul 12 15:20:30 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-device-mapper-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/d/device-mapper-multipath/0.4.7-48.el5/pre-build/multipath-tools-0.4.7.rhel5.32/multipathd/main.c" :point 6094 :coding-system undecided-unix :line 291 :surround ("\tif (refwwid) {\n" "" "\t\tr = coalesce_paths(vecs, NULL, refwwid);\n\t\tdm_lib_release();") :which-func "ev_add_map")) :annotation-list ((annotation :type text :data "空のmapにpathを追加している。")) :date "Thu Jul 12 15:28:04 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-device-mapper-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/d/device-mapper-multipath/0.4.7-48.el5/pre-build/multipath-tools-0.4.7.rhel5.32/multipathd/main.c" :point 6094 :coding-system undecided-unix :line 291 :surround ("\tif (refwwid) {\n" "" "\t\tr = coalesce_paths(vecs, NULL, refwwid);\n\t\tdm_lib_release();") :which-func "ev_add_map")) :annotation-list ((annotation :type text :data "あるいはpath付きのmapを追加する。")) :date "Thu Jul 12 15:31:04 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-device-mapper-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-308.el5/pre-build/kernel-2.6.18/linux-2.6.18-308.el5.x86_64/fs/buffer.c" :point 38271 :coding-system undecided-unix :line 1391 :surround ("\tif (!test_set_buffer_dirty(bh))\n" "" "\t\t__set_page_dirty_nobuffers(bh->b_page);\n}") :which-func "mark_buffer_dirty")) :annotation-list ((annotation :type text :data "buffer_headがdirtyになれば、それにぶらさがるページもdirtyにする。")) :date "Mon May 28 22:30:30 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ext3-journal))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-308.el5/pre-build/kernel-2.6.18/linux-2.6.18-308.el5.x86_64/fs/jbd/transaction.c" :point 35845 :coding-system undecided-unix :line 1161 :surround ("\n" "" "\tset_buffer_jbddirty(bh);\n") :which-func "journal_dirty_metadata")) :annotation-list ((annotation :type text :data "mark_buffer_dirtyと同じように別のカーネルスレッドで\n処理されるようマークを打っているのでは？")) :date "Mon May 28 22:58:14 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ext3-journal))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-308.el5/pre-build/kernel-2.6.18/linux-2.6.18-308.el5.x86_64/fs/jbd/commit.c" :point 18623 :coding-system undecided-unix :line 646 :surround ("\t\t\t\tbh->b_end_io = journal_end_buffer_io_sync;\n" "" "\t\t\t\tsubmit_bh(WRITE, bh);\n\t\t\t}") :which-func "journal_commit_transaction")) :annotation-list ((annotation :type text :data "mark_buffer_dirtyとして(ページキャッシュ側の仕掛けである)pdflushに\n書き込みを委託するのではなく、自分でsubmit_bh、すなわちbioへのbhのフラッシュ\nの依頼をしている。")) :date "Tue May 29 00:22:04 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ext3-journal))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-308.el5/pre-build/kernel-2.6.18/linux-2.6.18-308.el5.x86_64/fs/ext3/super.c" :point 59609 :coding-system undecided-unix :line 2058 :surround ("\n" "" "\tif (journal_inum) {\n\t\tif (!(journal = ext3_get_journal(sb, journal_inum)))") :which-func "ext3_load_journal")) :annotation-list ((annotation :type text :data "journalファイルかデバイスによって分岐")) :date "Tue May 29 02:44:08 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ext3-journal))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-308.el5/pre-build/kernel-2.6.18/linux-2.6.18-308.el5.x86_64/fs/jbd/commit.c" :point 19439 :coding-system undecided-unix :line 674 :surround ("\t */\n" "" "wait_for_iobuf:\n\twhile (commit_transaction->t_iobuf_list != NULL) {") :which-func "journal_commit_transaction")) :annotation-list ((annotation :type text :data "journal_write_metadata_buffer経由でt_iobuf_listにつながれる。")) :date "Tue May 29 03:15:44 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ext3-journal))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-308.el5/pre-build/kernel-2.6.18/linux-2.6.18-308.el5.x86_64/fs/jbd/commit.c" :point 21285 :coding-system undecided-unix :line 735 :surround ("\t/* Here we wait for the revoke record and descriptor record buffers */\n" "" " wait_for_ctlbuf:\n\twhile (commit_transaction->t_log_list != NULL) {") :which-func "journal_commit_transaction")) :annotation-list ((annotation :type text :data "journal_write_revoke_records経由でt_log_listにつながれる。")) :date "Tue May 29 03:17:05 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ext3-journal))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-308.el5/pre-build/kernel-2.6.18/linux-2.6.18-308.el5.x86_64/fs/jbd/commit.c" :point 21941 :coding-system undecided-unix :line 764 :surround ("\n" "" "\tif (journal_write_commit_record(journal, commit_transaction))\n\t\terr = -EIO;") :which-func "journal_commit_transaction")) :annotation-list ((annotation :type text :data "journalが書けたこと、すなわちcommitが完了したことをディスクに同期書き込みする。")) :date "Tue May 29 03:20:17 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ext3-journal))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-308.el5/pre-build/kernel-2.6.18/linux-2.6.18-308.el5.x86_64/fs/jbd/commit.c" :point 24920 :coding-system undecided-unix :line 851 :surround ("\t\t\tJBUFFER_TRACE(jh, \"add to new checkpointing trans\");\n" "" "\t\t\t__journal_insert_checkpoint(jh, commit_transaction);\n\t\t\tif (is_journal_aborted(journal))") :which-func "journal_commit_transaction")) :annotation-list ((annotation :type text :data "ジャーナルをコミットしたので、次に通常の書き出しを行うためにcheckpointリストににつなぐ。")) :date "Tue May 29 03:37:58 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ext3-journal))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-308.el5/pre-build/kernel-2.6.18/linux-2.6.18-308.el5.x86_64/fs/jbd/commit.c" :point 25100 :coding-system undecided-unix :line 855 :surround ("\t\t\tJBUFFER_TRACE(jh, \"refile for checkpoint writeback\");\n" "" "\t\t\t__journal_refile_buffer(jh);\n\t\t\tjbd_unlock_bh_state(bh);") :which-func "journal_commit_transaction")) :annotation-list ((annotation :type text :data "ここでt_reserved_listへ連結される。")) :date "Tue May 29 03:39:50 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ext3-journal))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-308.el5/pre-build/kernel-2.6.18/linux-2.6.18-308.el5.x86_64/fs/jbd/checkpoint.c" :point 13253 :coding-system undecided-unix :line 475 :surround ("\n" "" "\tjournal->j_free += freed;\n\tjournal->j_tail_sequence = first_tid;") :which-func "cleanup_journal_tail")) :annotation-list ((annotation :type text :data "チェックポイントの書き出しまで完了したら、journal系の状態をディスクに書き出す?")) :date "Tue May 29 04:01:58 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ext3-journal))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/^alias-rhel5su6/pre-build/cman-2.0.115/cman/qdisk/main.c" :point 20288 :coding-system undecided-unix :line 852 :surround ("\tFD_SET(fd, &rfds);\n" "" "\tif (select(fd + 1, &rfds, NULL, NULL, &tv) == 1) {\n\t\tif (cman_dispatch(ch, CMAN_DISPATCH_ALL) < 0) {") :which-func "cman_alive")) :annotation-list ((annotation :type text :data "タイムアウトした場合0")) :date "Fri Jun  1 12:46:17 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/^alias-rhel5su6/pre-build/cman-2.0.115/cman/qdisk/main.c" :point 13981 :coding-system undecided-unix :line 576 :surround (" */\n" "" "void\ncheck_cman(qd_ctx *ctx, memb_mask_t mask, memb_mask_t master_mask)") :which-func "do_vote")) :annotation-list ((annotation :type text :data "maskは定期的にqdiskを読んで得られた各ノードの死活に関する自ノードのビュー。\nmaster_maskはそれと自ノードで動くcmanから得られた死活の情報の積。")) :date "Fri Jun  1 12:50:51 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/^alias-rhel5su6/pre-build/cman-2.0.115/cman/qdisk/main.c" :point 25729 :coding-system undecided-unix :line 1053 :surround ("\t\t\t   online.  If we are, tell CMAN so. */\n" "" "\t\t\tif (is_bit_set(\n\t\t\t      ni[ctx->qc_master-1].ni_status.ps_master_mask,") :which-func "quorum_loop")) :annotation-list ((annotation :type text :data "masterがqdiskから読んで対象ノードが生きているか、master上のcmanが対象ノードが生きていると言っているか\n両方みたしていることが読めたらvoteを維持。ただし!maser_winsの場合。")) :date "Fri Jun  1 12:52:58 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/^alias-rhel5su6/pre-build/cman-2.0.115/cman/qdisk/main.c" :point 21544 :coding-system undecided-unix :line 902 :surround ("\n" "" "\t\t/* Check for node transitions */\n\t\tcheck_transitions(ctx, ni, max, mask);") :which-func "quorum_loop")) :annotation-list ((annotation :type text :data "応答のないノードはここでkillする。")) :date "Fri Jun  1 12:55:38 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/^alias-rhel5su6/pre-build/cman-2.0.115/cman/qdisk/main.c" :point 28817 :coding-system undecided-unix :line 1151 :surround ("\n" "" "\t\tif (errors && ctx->qc_max_error_cycles) {\n\t\t\t++error_cycles;") :which-func "quorum_loop")) :annotation-list ((annotation :type text :data "書き込みに失敗してかつ/cluster/quorumd/@max_error_cyclesが設定されて\nいる場合、exit。")) :date "Fri Jun  1 13:05:31 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/^alias-rhel5su6/pre-build/cman-2.0.115/cman/qdisk/main.c" :point 20464 :coding-system undecided-unix :line 863 :surround ("\n" "" "int\nquorum_loop(qd_ctx *ctx, node_info_t *ni, int max)") :which-func "cman_alive")) :annotation-list ((annotation :type text :data "概要:\n1. read_node_blocks: 読み込み、自分がEVICTEDであればリブート\n2. check_transitions: 読み込んだデータを見て活動が止っていればevict & fence\n3. score処理\n4. master_exists: masterの存在確認\n4.1 不在の場合: 入札\n4.1.1 自分が若いノード番号を持てば、入札開始(M_BID)、masterへ立候補\n4.1.2 自分が立候補しない場合、立候補したノードに同意(M_ACK)\n4.2 存在する場合： voteの更新\n4.2.1 cman_poll_quorum_device: 自分がmasterであればvoteを更新\n4.2.2 (MASTER_WINSの場合)自分がmasterでなければ何もしない。\n5. 書き込み")) :date "Fri Jun  1 12:56:13 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/^alias-rhel5su6/pre-build/cman-2.0.115/cman/qdisk/disk.h" :point 1653 :coding-system undecided-unix :line 53 :surround ("\n" "" "typedef enum {\n\tM_NONE  = 0x0,"))) :annotation-list ((annotation :type text :data "入札用のメッセージ\nqdisk上で交換する。")) :date "Fri Jun  1 13:10:07 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/d/device-mapper-multipath/0.4.7-48.el5/pre-build/multipath-tools-0.4.7.rhel5.32/libmultipath/discovery.c" :point 1987 :coding-system undecided-unix :line 99 :surround ("\n" "" "static int\npath_discover (vector pathvec, struct config * conf, char * devname, int flag)") :which-func "device_ok_to_add")) :annotation-list ((annotation :type text :data "/sys/block/*/deviceをさがす。")) :date "Tue Jun  5 11:38:52 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/l/lvm2/2.02.84-6.el5/pre-build/LVM2.2.02.84/libdm/libdevmapper.h" :point 2221 :coding-system undecided-unix :line 76 :surround ("int dm_log_is_non_default(void);\n" "" "\nenum {") :which-func "\"C\"")) :annotation-list ((annotation :type text :data "ioctl/libdm-iface.c対応するioctl命令がある。")) :date "Tue Jun  5 22:00:17 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/d/device-mapper-multipath/^alias-rhel5su8/pre-build/multipath-tools-0.4.7.rhel5.32/multipathd/main.c" :point 26443 :coding-system undecided-unix :line 1232 :surround ("\t}\n" "" "\tif (map_discovery(vecs))\n\t\treturn 1;") :which-func "configure")) :annotation-list ((annotation :type text :data "libdmを使ってカーネルに問合せてすでに構成されているmultipathデバイスがあればその情報を得る。")) :date "Tue Jun  5 22:07:37 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/d/device-mapper-multipath/^alias-rhel5su8/pre-build/multipath-tools-0.4.7.rhel5.32/multipathd/main.c" :point 26546 :coding-system undecided-unix :line 1238 :surround ("\t */\n" "" "\tif (coalesce_paths(vecs, mpvec, NULL))\n\t\treturn 1;") :which-func "configure")) :annotation-list ((annotation :type text :data "新規のmultipahデバイスを登録する？")) :date "Tue Jun  5 22:09:02 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/d/device-mapper-multipath/0.4.7-48.el5/pre-build/multipath-tools-0.4.7.rhel5.32/libmultipath/uevent.c" :point 1609 :coding-system undecided-unix :line 50 :surround ("pthread_cond_t  uev_cond,  *uev_condp  = &uev_cond;\n" "" "uev_trigger *my_uev_trigger;\nvoid * my_trigger_data;"))) :annotation-list ((annotation :type text :data "なぜ大域変数なのか？")) :date "Tue Jun 12 03:29:44 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cluster/3.0.12-41.el6/pre-build/cluster-3.0.12/group/gfs_controld/util.c" :point 3359 :coding-system undecided-unix :line 173 :surround ("\t\telse\n" "" "\t\t\tsend_withdraw(mg);\n\t}") :which-func "dmsetup_suspend_done")) :annotation-list ((annotation :type text :data "異常が検出されるとueventが飛ぶ。\ngfs_controldはそれを受信して\n\n\tdmsetup suspend\n\nする。それが成功すると同じ mountgroup に参加する\n他のgfs_controldにそのことを通知する。")) :date "Sat Jun 16 00:41:19 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-gfs2-withdrawn))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cluster/3.0.12-41.el6/pre-build/cluster-3.0.12/group/gfs_controld/cpg-new.c" :point 67607 :coding-system undecided-unix :line 2605 :surround ("\t\t\t\t/* no one remaining to send us an ack */\n" "" "\t\t\t\tset_sysfs(mg, \"withdraw\", 1);\n\t\t\t\tfree_mg(mg);") :which-func "confchg_cb")) :annotation-list ((annotation :type text :data "   . C gets OOB message and set /sys/fs/gfs/foo/withdraw to 1")) :date "Sat Jun 16 04:37:59 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-gfs2-withdrawn))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cluster/3.0.12-41.el6/pre-build/cluster-3.0.12/group/gfs_controld/cpg-new.c" :point 21074 :coding-system undecided-unix :line 892 :surround ("\n" "" "\tstop_kernel(mg);\n") :which-func "wait_conditions_done")) :annotation-list ((annotation :type text :data "   . A,B stop kernel foo")) :date "Sat Jun 16 04:54:21 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-gfs2-withdrawn))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/d/device-mapper-multipath/0.4.7-48.el5/pre-build/multipath-tools-0.4.7.rhel5.32/multipathd/main.c" :point 5305 :coding-system undecided-unix :line 257 :surround ("\t\n" "" "\tmap_present = dm_map_present(alias);\n") :which-func "ev_add_map")) :annotation-list ((annotation :type text :data "kernelが知っているか。")) :date "Wed Jun 20 22:01:44 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/d/device-mapper-multipath/0.4.7-48.el5/pre-build/multipath-tools-0.4.7.rhel5.32/multipathd/main.c" :point 5482 :coding-system undecided-unix :line 265 :surround ("\n" "" "\tmpp = find_mp_by_alias(vecs->mpvec, alias);\n") :which-func "ev_add_map")) :annotation-list ((annotation :type text :data "自分(multipathd)は知っているか。")) :date "Wed Jun 20 22:02:21 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-308.el5/pre-build/kernel-2.6.18/linux-2.6.18-308.el5.x86_64/include/net/tcp.h" :point 3582 :coding-system undecided-unix :line 126 :surround ("#define TCP_RTO_MAX\t((unsigned)(120*HZ))\n" "" "#define TCP_RTO_MIN\t((unsigned)(HZ/5))\n#define TCP_TIMEOUT_INIT ((unsigned)(3*HZ))\t/* RFC 1122 initial RTO value\t*/") :which-func "TCP_RTO_MIN")) :annotation-list ((annotation :type text :data "connectのとき200msで再送することはある。")) :date "Fri Jun 29 09:15:12 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-tcp-rto))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-194.el5/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/drivers/md/dm.c" :point 14219 :coding-system undecided-unix :line 697 :surround ("\n" "" "\tti = dm_table_find_target(ci->map, ci->sector);\n\tif (!dm_target_is_valid(ti))") :which-func "__clone_and_map")) :annotation-list ((annotation :type text :data "sectorが決まったところで(pvに対応する)tiも決まる。")) :date "Tue Jul  3 10:39:10 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-lvm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/2.6.18-194.el5/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/drivers/md/dm.c" :point 14219 :coding-system undecided-unix :line 697 :surround ("\n" "" "\tti = dm_table_find_target(ci->map, ci->sector);\n\tif (!dm_target_is_valid(ti))") :which-func "__clone_and_map")) :annotation-list ((annotation :type text :data "lvcreateした時に与えられるブロックデバイスとそのレンジから\nmapping(sectorからブロックデバイスへの対応関係は決まる？)")) :date "Tue Jul  3 10:41:48 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-lvm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/l/lvm2/2.02.88-7.el5/pre-build/LVM2.2.02.88/tools/lvresize.c" :point 19316 :coding-system undecided-unix :line 736 :surround ("\n" "" "\tif (!suspend_lv(cmd, lock_lv)) {\n\t\tlog_error(\"Failed to suspend %s\", lp->lv_name);") :which-func "_lvresize")) :annotation-list ((annotation :type text :data "ここで カーネル内でfsfreeze相当の処理が実施された後\n\n       struct mapped_device *md;\n       md->suspended_bdev = xxx\n       \nが設定される。この後の処理で、ブロックデバイスのサイズの読み直しが発生する。\nmd->suspended_bdevがnon-zeroであることが読み直しできる条件。")) :date "Wed Jul  4 03:05:57 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-lvm))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/d/device-mapper/1.02.67-2.el5/pre-build/device-mapper.1.02.67/LVM2.2.02.88/libdm/ioctl/libdm-iface.c" :point 40124 :coding-system undecided-unix :line 1753 :surround ("\n" "" "\tswitch (dmt->type) {\n\tcase DM_DEVICE_CREATE:") :which-func "dm_task_run")) :annotation-list ((annotation :type text :data "自分でmknodしてる。")) :date "Thu Jul 12 03:35:27 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/d/device-mapper-multipath/0.4.7-48.el5/pre-build/multipath-tools-0.4.7.rhel5.32/multipathd/main.c" :point 9681 :coding-system undecided-unix :line 469 :surround ("\t}\n" "" "\tdm_lib_release();\n") :which-func "ev_add_path")) :annotation-list ((annotation :type text :data "やりかけのノードノード群、作成、消去作業があれば実行する？")) :date "Thu Jul 12 03:38:53 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/d/device-mapper-multipath/0.4.7-48.el5/pre-build/multipath-tools-0.4.7.rhel5.32/multipathd/main.c" :point 9300 :coding-system undecided-unix :line 453 :surround ("\t */\n" "" "\tif (domap(mpp) <= 0) {\n\t\tcondlog(0, \"%s: failed in domap for addition of new \"") :which-func "ev_add_path")) :annotation-list ((annotation :type text :data "すなわちdm_task_run")) :date "Thu Jul 12 03:43:02 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/d/device-mapper-multipath/0.4.7-48.el5/pre-build/multipath-tools-0.4.7.rhel5.32/multipathd/main.c" :point 3440 :coding-system undecided-unix :line 177 :surround ("\t\t\t\tcontinue;\n" "" "\t\t\tif ((pp->dmstate == PSTATE_FAILED ||\n\t\t\t     pp->dmstate == PSTATE_UNDEF) &&") :which-func "sync_map_state")) :annotation-list ((annotation :type text :data "state: checker\ndmstate: dm.ko")) :date "Thu Jul 12 03:46:10 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/d/device-mapper-multipath/0.4.7-48.el5/pre-build/multipath-tools-0.4.7.rhel5.32/multipathd/main.c" :point 9774 :coding-system undecided-unix :line 474 :surround ("\t */\n" "" "\tif (setup_multipath(vecs, mpp))\n\t\tgoto out;") :which-func "ev_add_path")) :annotation-list ((annotation :type text :data "カーネルからカーネル側の状態を読み出す？")) :date "Thu Jul 12 03:56:07 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/d/device-mapper-multipath/0.4.7-48.el5/pre-build/multipath-tools-0.4.7.rhel5.32/multipathd/main.c" :point 9820 :coding-system undecided-unix :line 477 :surround ("\n" "" "\tsync_map_state(mpp);\n") :which-func "ev_add_path")) :annotation-list ((annotation :type text :data "mapは存在するとして、enable, disable.")) :date "Thu Jul 12 04:32:26 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel5su4/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/net/ipv6/ndisc.c" :point 30276 :coding-system undecided-unix :line 1196 :surround ("\n" "" "static void ndisc_router_discovery(struct sk_buff *skb)\n{") :which-func "ndisc_router_discovery")) :annotation-list ((annotation :type text :data "RAの受信処理")) :date "Thu Jul 12 12:13:30 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ipv6-ra))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel5su4/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/net/ipv6/addrconf.c" :point 10320 :coding-system undecided-unix :line 373 :surround ("\tndev->dev = dev;\n" "" "\tmemcpy(&ndev->cnf, &ipv6_devconf_dflt, sizeof(ndev->cnf));\n\tif (ext != NULL) {") :which-func "ipv6_add_dev")) :annotation-list ((annotation :type text :data "\"default\"は追加になったデバイスの初期値に使う。")) :date "Thu Jul 12 12:19:45 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ipv6-ra))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel5su4/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/net/ipv6/addrconf.c" :point 4420 :coding-system undecided-unix :line 153 :surround ("\t.mtu6\t\t\t= IPV6_MIN_MTU,\n" "" "\t.accept_ra\t\t= 1,\n\t.accept_redirects\t= 1,") :which-func "ipv6_devconf")) :annotation-list ((annotation :type text :data "allへの書き込みはここに来る。")) :date "Fri Jul 13 10:39:22 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ipv6-ra))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel5su4/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/net/ipv6/addrconf.c" :point 12216 :coding-system undecided-unix :line 445 :surround ("\t\t\t      NULL);\n" "" "\taddrconf_sysctl_register(ndev, &ndev->cnf);\n#endif") :which-func "ipv6_add_dev")) :annotation-list ((annotation :type text :data "インターフェイス固有のproc/sysctl経由の設定値はndev->cnfに格納される。")) :date "Fri Jul 13 10:42:05 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ipv6-ra))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel5su4/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/net/ipv6/addrconf.c" :point 106439 :coding-system undecided-unix :line 4207 :surround ("\t\tregister_sysctl_table(addrconf_sysctl.addrconf_root_dir, 0);\n" "" "\taddrconf_sysctl_register(NULL, &ipv6_devconf_dflt);\n#endif") :which-func "addrconf_init")) :annotation-list ((annotation :type text :data "\"default\"へのproc/sysctlへの書き込みはipv6_devconf_dfltへ。")) :date "Fri Jul 13 10:42:53 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ipv6-ra))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel5su4/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/net/ipv6/addrconf.c" :point 106343 :coding-system undecided-unix :line 4205 :surround ("#ifdef CONFIG_SYSCTL\n" "" "\taddrconf_sysctl.sysctl_header =\n\t\tregister_sysctl_table(addrconf_sysctl.addrconf_root_dir, 0);") :which-func "addrconf_init")) :annotation-list ((annotation :type text :data "\"all\"への書き込みはipv6_devconfへ。")) :date "Fri Jul 13 10:43:19 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ipv6-ra))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/k/kernel/^alias-rhel5su4/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/net/ipv6/addrconf.c" :point 4301 :coding-system undecided-unix :line 149 :surround ("\n" "" "struct ipv6_devconf ipv6_devconf = {\n\t.forwarding\t\t= 0,") :which-func "ipv6_devconf")) :annotation-list ((annotation :type text :data "ここが重要なのでお客様に連絡すること。")) :date "Fri Jul 13 17:32:57 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-ipv6-ra))
(stitch-annotation :version 0 :target-list ((target :type directory :directory "/srv/sources/" :item ".")) :annotation-list ((annotation :type text :data "THIS IS SOURCES.")) :date "Sun Dec 12 09:10:18 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (*DRAFT*))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/dists/rhel5su4/packages/k/kernel/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/fs/nfs/read.c" :point 18494 :coding-system undecided-unix :line 724 :surround ("\t */\n" "" "\tret = nfs_readpages_from_fscache(desc.ctx, inode, mapping,\n\t\t\t\t\t pages, &nr_pages);") :which-func ("nfs_readpages"))) :annotation-list ((annotation :type text :data "nfs_file_read <ここでgetattrしてサーバ側で変更があれば、キャッシュをinvalidとする処理がある？>\n-> generic_file_aio_read\n--> <page cache layer> ... nfs_readpages\n---> nfs_readpages_from_fscache|read_cache_pages")) :date "Thu Dec 30 01:30:25 2010" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (*DRAFT* nfs-atime))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/r/rsyslog/4.6.2-2.el6/pre-build/rsyslog-4.6.2/tools/syslogd.c" :point 47817 :coding-system undecided-unix :line 1331 :surround (" */\n" "" "rsRetVal\nsubmitMsg(msg_t *pMsg)") :which-func ("parseLegacySyslogMsg"))) :annotation-list ((annotation :type text :data "udpソケット経由で汲み出したログはここに渡される。")) :date "Thu Apr  5 19:23:57 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rsyslogd))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/r/rsyslog/4.6.2-2.el6/pre-build/rsyslog-4.6.2/tools/syslogd.c" :point 47921 :coding-system undecided-unix :line 1339 :surround ("\tMsgPrepareEnqueue(pMsg);\n" "" "\tqqueueEnqObj(pMsgQueue, pMsg->flowCtlType, (void*) pMsg);\n") :which-func ("submitMsg"))) :annotation-list ((annotation :type text :data "udpから来るとflowCtlTypeはno dealy。")) :date "Thu Apr  5 19:50:39 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rsyslogd))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/r/rsyslog/4.6.2-2.el6/pre-build/rsyslog-4.6.2/tools/syslogd.c" :point 10101 :coding-system undecided-unix :line 296 :surround ("static int iMainMsgQtoActShutdown = 1000;\t\t\t/* action shutdown (in phase 2) */ \n" "" "static int iMainMsgQtoEnq = 2000;\t\t\t\t/* timeout for queue enque */ \nstatic int iMainMsgQtoWrkShutdown = 60000;\t\t\t/* timeout for worker thread shutdown */") :which-func ("shutdown"))) :annotation-list ((annotation :type text :data "UDPから汲み上げてMainQueueへ入れようとして、キューの長さの上限を上回っている場合の\nキューに隙間ができるまでの待ち時間。タイムアウトするメッセージを捨てる。")) :date "Thu Apr  5 19:58:23 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rsyslogd))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/r/rsyslog/4.6.2-2.el6/pre-build/rsyslog-4.6.2/tools/syslogd.c" :point 10101 :coding-system undecided-unix :line 296 :surround ("static int iMainMsgQtoActShutdown = 1000;\t\t\t/* action shutdown (in phase 2) */ \n" "" "static int iMainMsgQtoEnq = 2000;\t\t\t\t/* timeout for queue enque */ \nstatic int iMainMsgQtoWrkShutdown = 60000;\t\t\t/* timeout for worker thread shutdown */") :which-func ("shutdown"))) :annotation-list ((annotation :type text :data "2秒")) :date "Thu Apr  5 20:00:18 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rsyslogd))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/r/rsyslog/4.6.2-2.el6/pre-build/rsyslog-4.6.2/runtime/queue.c" :point 79026 :coding-system undecided-unix :line 2199 :surround ("\t */\n" "" "\twhile(   (pThis->iMaxQueueSize > 0 && pThis->iQueueSize >= pThis->iMaxQueueSize)\n\t      || (pThis->qType == QUEUETYPE_DISK && pThis->sizeOnDiskMax != 0") :which-func ("qqueueEnqObj"))) :annotation-list ((annotation :type text :data "キューが伸び切っていたら、2秒間縮むまで待って、だめなら捨てる。")) :date "Thu Apr  5 20:13:35 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-rsyslogd))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/l/lvm2/2.02.72-8.el6/pre-build/LVM2.2.02.72/lib/metadata/metadata.c" :point 78901 :coding-system undecided-unix :line 3131 :surround ("\t\t\t    (!use_precommitted &&\n" "" "\t\t\t     !(vg = mda->ops->vg_read(fid, vgname, mda)))) {\n\t\t\t\tinconsistent = 1;") :which-func ("_vg_read"))) :annotation-list ((annotation :type text :data "ここでpvのヘッダ読んで")) :date "Tue Apr 10 21:40:10 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-device-mapper))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/l/lvm2/2.02.72-8.el6/pre-build/LVM2.2.02.72/lib/metadata/metadata.c" :point 79041 :coding-system undecided-unix :line 3137 :surround ("\t\t\t\tcorrect_vg = vg;\n" "" "\t\t\t\tif (!_update_pv_list(cmd->mem, &all_pvs, correct_vg)) {\n\t\t\t\t\tvg_release(vg);") :which-func ("_vg_read"))) :annotation-list ((annotation :type text :data "ヘッダの内容を盛とにインターナルデータを更新？")) :date "Tue Apr 10 21:40:34 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-device-mapper))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/^alias-rhel5su6/pre-build/cman-2.0.115/group/daemon/app.c" :point 25616 :coding-system undecided-unix :line 1064 :surround ("\n" "" "\t\t/* We want to move ahead to start here if this ev is to be\n\t\t   started before a pending rev that will abort it.  Once") :which-func ("process_current_event"))) :annotation-list ((annotation :type text :data "quorateにならないと先に進まない。quorateになったらEST_JOIN_START_WAITとしてapp_start。\napp_startの先でfencedが待っている。たぶんquorateになってpost-join-delayだけ待って全員が\n集合しないと遅れてきた人をフェンスする。")) :date "Thu May 24 22:45:11 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-fenced))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/^alias-rhel5su6/pre-build/cman-2.0.115/fence/fenced/recover.c" :point 10907 :coding-system undecided-unix :line 455 :surround ("\t\t\telse\n" "" "\t\t\t\tlist_add(&node->list, &fd->leaving);\n") :which-func ("add_victims"))) :annotation-list ((annotation :type text :data "groupd経由でNODE_STARTイベントを受けとったときそこに列挙されていないノードは、leavingあつかい。")) :date "Thu May 24 23:04:55 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-fenced))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/^alias-rhel5su6/pre-build/cman-2.0.115/cman/qdisk/iostate.c" :point 929 :coding-system undecided-unix :line 46 :surround ("\n" "" "void\nio_state(iostate_t state)") :which-func ("state_to_string"))) :annotation-list ((annotation :type text :data "iostate.cに出てくる main_incarnationは、qdiskdが自分自身で死活監視をするのに使\nっています。qdiskdのmainスレッドはqdiskへ読み書きを実行するたびに、0で初期化あれた、\nこの変数をインクリメントします。一方 io_nannyスレッドは、定期的にこの変数を調べて、\n更新が止っていれば、警告のログを残します。\n")) :date "Thu May 31 21:36:40 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/^alias-rhel5su6/pre-build/cman-2.0.115/cman/qdisk/main.c" :point 4666 :coding-system undecided-unix :line 198 :surround ("\n" "" "/**\n  Check for node transitions.") :which-func ("read_node_blocks"))) :annotation-list ((annotation :type text :data "main.cに出てくるps_incarnationは、qdiskdのプロセスインスタンスを識別\nするためのものです。この変数の値は、qdiskd起動時に1度だけ現在時刻と\nプロセスIDをもとに算出されます。ps_incarnationは自身の状態の一部とし\nてqdiskへ定期的に書き込まれます。ps_incarnationを含めて書き込まれた\nノード毎のデータをstatus_blockと呼びます。他のノードで動作する\nqdiskdはqdiskからデータを読み出して、他のノード毎のstatus_blockを参\n照します。停止を指示したノードのqdiskが再起動して活動を再開したのか、\nそれとも停止の指示がきかず動作したままなのか、ということを、そのノー\nドのps_incarnationを見て判断できます。停止を依頼した場合、そのときの\nps_incarnationをni_evil_incarnationに保存して、後に比較することで、\n判断の材料とします。")) :date "Thu May 31 21:37:15 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/^alias-rhel5su6/pre-build/cman-2.0.115/cman/qdisk/main.c" :point 3078 :coding-system undecided-unix :line 125 :surround ("\n" "" "\t/* I did not update this??! */\n\tswitch(sb->ps_state) {") :which-func ("check_self"))) :annotation-list ((annotation :type text :data "他のノードが自分のstatus blockに書き込んでくるのはEVICTだけ。")) :date "Thu May 31 21:48:54 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/^alias-rhel5su6/pre-build/cman-2.0.115/cman/qdisk/main.c" :point 22946 :coding-system undecided-unix :line 954 :surround ("\t\t/* Find master */\n" "" "\t\tctx->qc_master = master_exists(ctx, ni, max, &low_id, &count);\n") :which-func ("quorum_loop"))) :annotation-list ((annotation :type text :data "low_id: 動いている一番若いノード\n返り値: 動いていて、しかもmasterと名乗っている一番若いノード")) :date "Thu May 31 22:00:18 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/^alias-rhel5su6/pre-build/cman-2.0.115/cman/qdisk/main.c" :point 23059 :coding-system undecided-unix :line 957 :surround ("\t\t/* Resolve master conflict, if one exists */\n" "" "\t\tif (count >= 1 && ctx->qc_status == S_MASTER &&\n\t\t    ctx->qc_master != ctx->qc_my_id) {") :which-func ("quorum_loop"))) :annotation-list ((annotation :type text :data "自分以外にmasterとなっていて、しかも自分より若い場合、masterをゆずる。")) :date "Thu May 31 22:02:10 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/^alias-rhel5su6/pre-build/cman-2.0.115/cman/qdisk/main.c" :point 23333 :coding-system undecided-unix :line 965 :surround ("\t\t\tbid_pending = 0;\n" "" "\t\t\tmsg.m_msg = M_NONE;\n\t\t\t++msg.m_seq;") :which-func ("quorum_loop"))) :annotation-list ((annotation :type text :data "文句はありません....")) :date "Thu May 31 22:02:57 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/^alias-rhel5su6/pre-build/cman-2.0.115/cman/qdisk/main.c" :point 23377 :coding-system undecided-unix :line 969 :surround ("\n" "" "\t\t/* Figure out what to do based on what we know */\n\t\tif (!ctx->qc_master &&") :which-func ("quorum_loop"))) :annotation-list ((annotation :type text :data "誰も名乗っていなくて、自分が一番若ければ、入札開始を発令する。")) :date "Thu May 31 22:03:34 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/^alias-rhel5su6/pre-build/cman-2.0.115/cman/qdisk/main.c" :point 23800 :coding-system undecided-unix :line 983 :surround ("\t\t\tclulog(LOG_DEBUG,\"Making bid for master\\n\");\n" "" "\t\t\tmsg.m_msg = M_BID;\n\t\t\t++msg.m_seq;") :which-func ("quorum_loop"))) :annotation-list ((annotation :type text :data "M_BIDはマスターへの立候補を意味する。")) :date "Thu May 31 22:08:58 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/^alias-rhel5su6/pre-build/cman-2.0.115/cman/qdisk/main.c" :point 23356 :coding-system undecided-unix :line 966 :surround ("\t\t\tmsg.m_msg = M_NONE;\n" "" "\t\t\t++msg.m_seq;\n\t\t}") :which-func ("quorum_loop"))) :annotation-list ((annotation :type text :data "文句が無い場合、入札開始発令のたびに更新する。")) :date "Thu May 31 22:11:44 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/^alias-rhel5su6/pre-build/cman-2.0.115/cman/qdisk/main.c" :point 13807 :coding-system undecided-unix :line 564 :surround ("\t\t\tmsg->m_arg = ni[x].ni_status.ps_nodeid;\n" "" "\t\t\tmsg->m_seq = ni[x].ni_status.ps_seq;\n") :which-func ("do_vote"))) :annotation-list ((annotation :type text :data "？？？")) :date "Thu May 31 22:14:27 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/c/cman/^alias-rhel5su6/pre-build/cman-2.0.115/cman/qdisk/main.c" :point 28817 :coding-system undecided-unix :line 1151 :surround ("\n" "" "\t\tif (errors && ctx->qc_max_error_cycles) {\n\t\t\t++error_cycles;") :which-func ("quorum_loop"))) :annotation-list ((annotation :type text :data "エラーの回数が多いとプロセス終了。ただし設定している場合のみ。")) :date "Thu May 31 22:26:37 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-qdisk))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/y/yum/3.2.22-33.el5/pre-build/yum-3.2.22/rpmUtils/transaction.py" :point 540 :coding-system undecided-unix :line 24 :surround ("    def __init__(self, root='/'):\n" "" "        self.ts = rpm.TransactionSet(root)\n        self._methods = ['dbMatch',") :which-func "TransactionWrapper.__init__")) :annotation-list ((annotation :type text :data "_methodsの実装はTransactionSetにある？")) :date "Wed Jun 13 16:28:40 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-yum))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/y/yum/^alias-rhel5su6/pre-build/yum-3.2.22/yum/__init__.py" :point 155942 :coding-system undecided-unix :line 3783 :surround ("        self.initActionTs() # make a new, blank ts to populate\n" "" "        self.populateTs( keepold=0 ) # populate the ts\n        self.ts.check() # required for ordering") :which-func "YumBase._doTransaction")) :annotation-list ((annotation :type text :data "installすべきパッケージをトランザクション中のリストに追加する。")) :date "Wed Jun 13 17:26:22 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-yum))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/r/rpm/4.4.2.3-22.el5/pre-build/rpm-4.4.2.3/lib/depends.c" :point 6690 :coding-system undecided-unix :line 255 :surround ("\n" "" "    p = rpmteNew(ts, h, TR_ADDED, key, relocs, -1, pkgKey);\n") :which-func ("rpmtsAddInstallElement"))) :annotation-list ((annotation :type text :data "te: Trnasaction Element")) :date "Wed Jun 13 17:27:30 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-yum))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/r/rpm/4.4.2.3-22.el5/pre-build/rpm-4.4.2.3/lib/psm.c" :point 53458 :coding-system undecided-unix :line 1984 :surround ("\n" "" "    case PSM_PKGINSTALL:\n    case PSM_PKGERASE:") :which-func ("if"))) :annotation-list ((annotation :type text :data "Installの処理開始")) :date "Wed Jun 13 17:59:26 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-yum))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/r/rpm/4.4.2.3-22.el5/pre-build/rpm-4.4.2.3/lib/fsm.c" :point 44687 :coding-system undecided-unix :line 1812 :surround ("\t    if (!(rc == CPIOERR_ENOENT)) return rc;\n" "" "\t    rc = expandRegular(fsm);\n\t} else if (S_ISDIR(st->st_mode)) {") :which-func ("if"))) :annotation-list ((annotation :type text :data "ここで書き込む？")) :date "Wed Jun 13 18:27:38 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-yum))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/d/device-mapper-multipath/0.4.7-42.el5/pre-build/multipath-tools-0.4.7.rhel5.28/multipathd/main.c" :point 21858 :coding-system undecided-unix :line 1032 :surround ("\t\t\tif (!checker_selected(&pp->checker)) {\n" "" "\t\t\t\tpathinfo(pp, conf->hwtable, DI_SYSFS);\n\t\t\t\tselect_checker(pp);") :which-func ("checkerloop"))) :annotation-list ((annotation :type text :data "/sysを見てハードウェアの種類(product_idなど)を得て、\nそれをもとにconfのhwtableを検索して、pathとhwentryが関連付けられる。\nhwentryの先にcheckerがある。")) :date "Wed Jun 20 22:34:35 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/d/device-mapper-multipath/0.4.7-42.el5/pre-build/multipath-tools-0.4.7.rhel5.28/libmultipath/propsel.c" :point 5614 :coding-system undecided-unix :line 227 :surround ("\t}\n" "" "\tif (conf->checker) {\n\t\tchecker_get(c, conf->checker);") :which-func ("select_checker"))) :annotation-list ((annotation :type text :data "デフォルトっぽいやつを使う。READSECTOR0")) :date "Wed Jun 20 22:40:18 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/d/device-mapper-multipath/0.4.7-42.el5/pre-build/multipath-tools-0.4.7.rhel5.28/libmultipath/propsel.c" :point 6069 :coding-system undecided-unix :line 242 :surround ("\t}\n" "" "\telse if (sysfs_get_timeout(sysfs_path, pp->dev, &c->timeout) == 0)\n\t\tcondlog(3, \"%s: checker timeout = %u ms (sysfs setting)\",") :which-func ("select_checker"))) :annotation-list ((annotation :type text :data "特に指定が無い場合\"%s/block/%s/device/timeout\"を見る。これはblockデバイスのタイムアウト\n時間。 確か30秒。")) :date "Wed Jun 20 22:42:03 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/d/device-mapper-multipath/0.4.7-42.el5/pre-build/multipath-tools-0.4.7.rhel5.28/multipathd/main.c" :point 22185 :coding-system undecided-unix :line 1047 :surround ("\n" "" "\t\t\tif (check_sysfs_state(pp, &newstate) == 0) {\n\t\t\t\tif (!conf->checker_timeout)") :which-func ("checkerloop"))) :annotation-list ((annotation :type text :data "\"%s/block/%s/device/state\"を見る。ここには\n(/srv/sources/sources/k/kernel/2.6.18-238.el5/pre-build/kernel-2.6.18/linux-2.6.18.x86_64/drivers/scsi/scsi_sysfs.c)\n\n    static const struct {\n\t    enum scsi_device_state\tvalue;\n\t    char\t\t\t*name;\n    } sdev_states[] = {\n\t    { SDEV_CREATED, \"created\" },\n\t    { SDEV_RUNNING, \"running\" },\n\t    { SDEV_CANCEL, \"cancel\" },\n\t    { SDEV_DEL, \"deleted\" },\n\t    { SDEV_QUIESCE, \"quiesce\" },\n\t    { SDEV_OFFLINE,\t\"offline\" },\n\t    { SDEV_BLOCK,\t\"blocked\" },\n    };\n\nとある。")) :date "Wed Jun 20 23:00:58 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/d/device-mapper-multipath/0.4.7-42.el5/pre-build/multipath-tools-0.4.7.rhel5.28/multipathd/main.c" :point 22185 :coding-system undecided-unix :line 1047 :surround ("\n" "" "\t\t\tif (check_sysfs_state(pp, &newstate) == 0) {\n\t\t\t\tif (!conf->checker_timeout)") :which-func ("checkerloop"))) :annotation-list ((annotation :type text :data "sysfsからpendingの報告があれば != 0")) :date "Fri Jun 22 15:58:31 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/srv/sources/sources/d/device-mapper-multipath/0.4.7-42.el5/pre-build/multipath-tools-0.4.7.rhel5.28/multipathd/main.c" :point 24990 :coding-system undecided-unix :line 1159 :surround ("\t\t\t\t\t\t-FAILBACK_IMMEDIATE)\n" "" "\t\t\t\t\tswitch_pathgroup(pp->mpp);\n\t\t\t}") :which-func ("checkerloop"))) :annotation-list ((annotation :type text :data "パス(pp)が所属するmultipath(pp->mpp)から探す。")) :date "Fri Jun 22 17:20:55 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-multipath))
(stitch-annotation :version 0 :target-list ((target :type file :file "/net/sources.nrt.redhat.com/srv/sources/sources/l/lvm2/2.02.74-5.el5/pre-build/LVM2.2.02.74/tools/lvresize.c" :point 16762 :coding-system undecided-unix :line 648 :surround ("\n" "" "\tif (!suspend_lv(cmd, lock_lv)) {\n\t\tlog_error(\"Failed to suspend %s\", lp->lv_name);") :which-func ("_lvresize"))) :annotation-list ((annotation :type text :data "この先lock_volのcase LCK_LV_SUSPENDに流れる。")) :date "Wed Jul  4 15:48:16 2012" :full-name "Masatake YAMATO" :mailing-address "yamato@redhat.com" :keywords (reading-lvm))

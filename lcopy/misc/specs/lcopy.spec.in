Summary: Scripts to update local copies gettting from vcs repositories 
Name: lcopy
Version: @PACKAGE_VERSION@
Release: @RPM_RELEASE@
Source: lcopy-@PACKAGE_VERSION@.tar.bz2
Requires: cvs subversion git mercurial darcs bzr debwatch spawn
Requires: monotone >= 0.48.1-1



# Requires: srpmix
# ----------------------------------------------------
# See lcopy_srpmix_plugin in lcopy/src/liblcopy.sh
# Use srpmix-plugin command if it is available.
# lcopy-envelop uses srpmix heavily. The command is
# invoked as sbuild backend.
#
# FIXME: wgetx uses vanilla srpmix-plugin.
#
# TODO: Put lcopy-envelop to a sub package of lcopy.
# ----------------------------------------------------
Buildarch: noarch

Buildroot: %{_tmppath}/%{name}-root
License: GPLv3

Group: Development/Tools

%description
Scripts to update local copies getting from vcs repositories 

%prep
%setup -q

%build
%configure
make

%install
rm -rf $RPM_BUILD_ROOT
%makeinstall

%clean
rm -rf $RPM_BUILD_ROOT

%files
%defattr(-,root,root)
%{_bindir}/lcopy-genconf
%{_bindir}/lcopy-checkout
%{_bindir}/lcopy-update
%{_bindir}/lcopy-envelop
%{_bindir}/lcopy-rebirth
%{_bindir}/lcopy-ping
%{_bindir}/liblcopy.sh
%{_bindir}/liblcopy_backends.sh
%dir %{_libexecdir}/lcopy
%dir %{_libexecdir}/lcopy/backends
%{_libexecdir}/lcopy/backends/*
%dir %{_sysconfdir}/lcopy
%dir %{_sysconfdir}/lcopy/conf.d

%package conf-sys
Summary: lcopy conf files for generic software
Group: Development/Tools
Requires: lcopy
%description conf-sys
lcopy conf files for generic software.

%files conf-sys
%dir %{_sysconfdir}/lcopy/conf.d/sys
# %{_sysconfdir}/lcopy/conf.d/sys/*

%package conf-android
Summary: lcopy conf files for Android related software
Group: Development/Tools
Requires: lcopy
%description conf-android
lcopy conf files for Android related software

%files conf-android
%dir %{_sysconfdir}/lcopy/conf.d/android
# %{_sysconfdir}/lcopy/conf.d/android/*

@CONFPACKGES@

%changelog

* Mon Aug 27 2007 Masatake YAMATO <yamato@redhat.com> - 0.1.0-0
- First RPM build.
